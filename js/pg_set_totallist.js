(function(d){var e=neo.core.readyNamespace("neo.webdb.dbset_totallist");if(!e){return}var c="選択された集計設定を削除してもよろしいですか？";var b="削除する集計設定が選択されていません。";var a=neo.webdb.dbset_totallist={_elCreateTotal:null,_getElCreateTotal:function(){return this._elCreateTotal||this._initElCreateTotal()},_initElCreateTotal:function(){return this._elCreateTotal=d("#total-create")},_elStartSorting:null,_getElStartSorting:function(){return this._elStartSorting||this._initElStartSorting()},_initElStartSorting:function(){return this._elStartSorting=d("#total-start_sorting")},_elStopSorting:null,_getElStopSorting:function(){return this._elStopSorting||this._initElStopSorting()},_initElStopSorting:function(){return this._elStopSorting=d("#total-stop_sorting")},_elRemoveTotal:null,_getElRemoveTotal:function(){return this._elRemoveTotal||this._initElRemoveTotal()},_initElRemoveTotal:function(){return this._elRemoveTotal=d("#total-remove")},_elCopyTotal:null,_getElCopyTotal:function(){return this._elCopyTotal||this._initElCopyTotal()},_initElCopyTotal:function(){return this._elCopyTotal=d(".total-copy")},constructor:function(){},initialize:function(){this._hook();var h=d(".sortable_table");var g={prevPage:true,nextPage:true,ondrop:function(i,j){a.modSeqnoTotal(j)}};h.webdbSelectableTable().webdbSortableTable(g);if(h.webdbSortableTable("beforeReloadingIsSortMode")){this.startSorting()}else{this.stopSorting()}var f=h.find(".nolist_cell");if(f.length>0){f.height(f.height())}},_hook:function(){var f;f=this._getElCreateTotal();this.__bind(f,"click","CreateTotal");f=this._getElStartSorting();this.__bind(f,"click","StartSorting");f=this._getElStopSorting();this.__bind(f,"click","StopSorting");f=this._getElRemoveTotal();this.__bind(f,"click","RemoveTotal");f=this._getElCopyTotal();this.__bind(f,"click","CopyTotal")},delTotal:function(){var f=d("#totallist-form");var g={url:neo.webdb.getDbSettingUrl(),getSendData:function(){return f.serialize()},onsuccess:function(){var j={pg:"dbsettotallist",tid:d("input[name='tid']").val()};var i=neo.webdb.getDbSettingUrl(j);location.href=i}};var h=new neo.webdb.Ajax(g);h.initialize();h.sendRequest()},modSeqnoTotal:function(i){var h=d("input[name='tid']").val();var f={url:neo.webdb.getDbSettingUrl(),getSendData:function(){var n=d('input[name="currow"]').val();var j=parseInt(n)+i.insertIntoIndex;var l=i.elTargetRow.find('input[type="checkbox"]:checked');var m="cmd=dbsettotalmodseq&tid="+h+"&tgtrow="+j;for(var k=0;k<l.size();k++){m+="&ttlid="+l.eq(k).val()}return m},onsuccess:function(){if(i.pageMoved){var k={pg:"dbsettotallist",tid:h};var j=neo.webdb.getDbSettingUrl(k);location.href=j}}};var g=new neo.webdb.Ajax(f);g.initialize();g.sendRequest()},copyTotal:function(i){var f=i.closest(".total-row");var h=f.attr("data-id");var j={pg:"dbsettotal",tid:d("input[name='tid']").val(),cpyttlid:h};var g=neo.webdb.getDbSettingUrl(j);location.href=g},startSorting:function(){var h=d(".sortable_table");h.webdbSortableTable("start");var f=this._getElStartSorting();f.hide();var g=this._getElStopSorting();g.show()},stopSorting:function(){var h=d(".sortable_table");h.webdbSortableTable("stop");var f=this._getElStartSorting();f.show();var g=this._getElStopSorting();g.hide()},__closure:neo.core.getClosure,__bind:neo.jq.bindListener,onclickCreateTotal:function(g){var h={pg:"dbsettotal",tid:d("input[name='tid']").val()};var f=neo.webdb.getDbSettingUrl(h);location.href=f},onclickStartSorting:function(f){f.preventDefault();this.startSorting()},onclickStopSorting:function(f){f.preventDefault();this.stopSorting()},onclickRemoveTotal:function(g){var f=d("#totallist-form").find('input[type="checkbox"]:checked');if(f.length>0){var h=c;neo.webdb.confirm(h,{onok:function(){a.delTotal()}})}else{var h=b;neo.webdb.alert(h)}},onclickCopyTotal:function(f){f.preventDefault();var g=d(arguments[arguments.length-1]);this.copyTotal(g)},banpei:null};d(document).ready(function(){a.initialize()})})(jQuery);