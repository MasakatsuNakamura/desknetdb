(function(b){var d=neo.core.readyNamespace("neo.webdb.pg_view.DlgCsvSetting");if(!d){return}var c="ダウンロード";var a=neo.webdb.pg_view.DlgCsvSetting=new neo.core.Class({classProperties:{defaultSetting:{},dialogDefaultSetting:{buttons:null,onsubmit:null,onsuccessSubmit:null}},properties:{setting:null,_dlg:null,_getDlg:function(){return this._dlg||this._initDlg()},_initDlg:function(){var e=this.setting.elDlg;if(e.length==0){return null}var g=b.extend(a.dialogDefaultSetting,{buttons:{},onsubmit:this.__closure(this.onsubmit)});g.buttons[c]="submit";var f=neo.webdb.getDialog(e,g);f._reset=this.__closure(this._reset);return this._dlg=f},_getPage:function(){return this.setting.page},_elDlg:null,_getElDlg:function(){return this._elDlg||this._initElDlg()},_initElDlg:function(){var e=this._getDlg();if(e){return this._elDlg=e._getElSelfOrg()}return null},__constructor:function(e){this.setting=e||{}},initialize:function(){this._initSetting()},_initSetting:function(){var e=this._getDefaultSetting();this.setting=b.extend({},e,this.setting)},_getDefaultSetting:function(){return b.extend({},a.defaultSetting)},open:function(){var e=this._getDlg();e.open()},close:function(){var e=this._getDlg();e.close()},_reset:function(){},_updateCsvSetting:function(){var e=this._getElDlg();var h=e.find('[name="id"]');var g=this._getPage();var f=g.getColVisibilityList();h.each(function(k,j){var m=b(j);var l=m.val();var n=!!f[l];m.attr("checked",n)})},__closure:neo.core.getClosure,onsubmit:function(e){this.close();var f=this._getPage();f.downloadCsv();return false},banpei:null}})})(jQuery);