(function(b){var c=neo.core.readyNamespace("neo.webdb.pg_view.ColResizer");if(!c){return}var a=neo.webdb.pg_view.ColResizer=new neo.core.Class({classProperties:{MIN_COL_WIDTH:50,defaultSetting:{},defaultDraggableSetting:{axis:"x",scroll:false}},properties:{setting:null,_resizing:null,isResizing:function(){return this._resizing},_setResizing:function(d){return this._resizing=d},_elCurCell:null,_getElCurCell:function(){return this._elCurCell},_setElCurCell:function(d){return this._elCurCell=d},_getPage:function(){return this.setting.page},_getElGrip:function(){return this.setting.elGrip},_getElPad:function(){return this.setting.elGripPad},_getElScroller:function(){return this.setting.elScroller},_getElTable:function(){return this.setting.elTable},_getElTopContainer:function(){return this.setting.elTopContainer},_getElTopTable:function(){return this.setting.elTopTable},__constructor:function(d){this.setting=d||{}},initialize:function(){this._initSetting();this._hook()},_initSetting:function(){var d=this._getDefaultSetting();this.setting=b.extend({},d,this.setting)},_getDefaultSetting:function(){return b.extend({},a.defaultSetting)},_hook:function(){var d;d=this._getElGrip();var e=this._getDraggableSetting();d.draggable(e);this.__bind(d,"mouseover");this.__bind(d,"dragstart");this.__bind(d,"dragstop")},_getDraggableSetting:function(){var d=b.extend({},a.defaultDraggableSetting);return d},show:function(d){if(d){this._setElCurCell(d)}else{d=this._getElCurCell()}var e=this._getElGrip();e.show();this.updateSize();this._updatePos()},hide:function(){if(this.isResizing()){return}var d=this._getElGrip();d.hide()},_updatePos:function(){var g=this._getElCurCell();var f=this._getPage();var d=neo.webdb.getRect(g,true);var i=this._getElGrip();var e=i.width();var h={left:(d.left+d.width)-(e/2),top:d.top};if(b.browser.mozilla){h.left+=0.5;h.top-=1}if(!b.browser.msie||b.browser.version>6){if(h.left+e>document.documentElement.clientWidth){h.left=-9999}}i.css(h)},updateSize:function(){if(this.isResizing()){this._resizeByScroller()}else{this._resizeByTable()}},_resizeByScroller:function(){var f=this._getElScroller();var d=f[0].clientHeight;var e=this._getElGrip();e.height(d)},_resizeByTable:function(){var f=this._getPage();if(!f.isTableLayoutType()){return}var d;if(b.browser.msie&&b.browser.version<=6){var e=this._getElTable();d=e.find("tr:first").height()}else{var g=this._getElTopContainer();d=g.height()}var h=this._getElGrip();h.height(d)},startUpDragging:function(){this._setResizing(true);this.updateSize();var d=this._getPage();d.hideOpenColMenuBtn()},shutDownDragging:function(h){this._setResizing(false);this._hidePad();var g=this._getElCurCell();var f=this._getPage();var e=f.getColIdOf(g);var d=this._getColWidthBy(h);this._resizeCol(e,d);this._saveColWidth(e,d);var f=this._getPage();f.updateTableSize()},_getColWidthBy:function(j){var k=this._getElGrip();var i=k.width();var h=this._getElCurCell();var f=h.offset();var g=10;var e=(j.left+i/2)-f.left-g;e=Math.ceil(e);var d=a.MIN_COL_WIDTH;if(e<d){e=d}return e},_resizeCol:function(g,e){var h=this._getPage();var d=h.getElColCellsOf(g);var j=d.find(".table_layout-cell_box");var f=e;var i=d.find(".table_layout-cell_box_selects_disp_all");if(b.browser.msie&&b.browser.version<=7&&i.length==0){f-=8}d.width(e);j.width(f);h.updateTableSize();h.updateBadgePos()},_saveColWidth:function(e,d){var f=this._getPage();f.saveColWidth(e,d)},updateGripMovableRect:function(){var j=this._getElCurCell();var k=j.offset();var i=this._getElScroller();var l=i[0].clientWidth;var d=a.MIN_COL_WIDTH;var f=8;var e=k.left+d+f;var g=[e,0,l,0];var h=this._getElGrip();h.draggable("option","containment",g)},showPad:function(){this.updatePadSize();var d=this._getElPad();d.show()},hidePadLater:function(){var d=this;setTimeout(function(){d._hidePad()},1)},_hidePad:function(){if(this.isResizing()){return}var d=this._getElPad();d.hide()},updatePadSize:function(){var d=this._getElPad();d.css({height:document.documentElement.clientHeight,width:document.documentElement.clientWidth})},minimize:function(){var e=this._getElGrip();e.height(1);var d=this._getElPad();d.height(1).width(1)},updateAllSize:function(){this.updateSize();this.updatePadSize()},__closuer:neo.core.getClosure,__bind:neo.jq.bindListener,onmouseover:function(d){this.updateGripMovableRect()},ondragstart:function(d,e){this.startUpDragging()},ondragstop:function(d,e){var f=e.offset;this.shutDownDragging(f)},banpei:null}})})(jQuery);