(function(b){var d=neo.core.readyNamespace("neo.webdb.pg_recordEdit.Ok");if(!d){return}var c=neo.webdb.pg_recordEdit;var a=neo.webdb.pg_recordEdit.Ok=new neo.core.Class({classProperties:{URL:location.pathname,CMD:"dbrecordset"},properties:{setting:null,_ajax:null,_getAjax:function(){return this._ajax||this._initAjax()},_initAjax:function(){var e={url:a.URL,getSendData:this.__closure(this.getSendData),onsuccess:this.__closure(this.onsuccess),onerror:this.__closure(this.onerror),onbeforesend:this.__closure(this.onbeforesend),onfinish:this.__closure(this.onfinish)};var f=new neo.webdb.Ajax(e);f.initialize();return this._ajax=f},_tableId:null,_getTableId:function(){return this._tableId},_setTableId:function(e){return this._tableId=e},_recordId:"",_getRecordId:function(){return this._recordId},_setRecordId:function(e){return this._recordId=e},_tempNum:"",_getTempNum:function(){return this._tempNum},_setTempNum:function(e){return this._tempNum=e},_queryMap:null,_getQueryMap:function(){return this._queryMap},_setQueryMap:function(e){return this._queryMap=e},__constructor:function(e){this.setting=e||{}},initialize:function(){},exec:function(f,e,h,i){if(!f||f.length<1){return}if(!i||i.length<1){return}this._setTableId(f);this._setRecordId(e);this._setTempNum(h);this._setQueryMap(i);var g=this._getAjax();g.sendRequest()},getSendData:function(){var e={cmd:a.CMD,tid:this._getTableId(),recordid:this._getRecordId(),tmpnm:this._getTempNum()};e=b.extend({},e,this._getQueryMap());return e},onbeforesend:function(e){if(this.setting.onbeforesend){this.setting.onbeforesend(e)}return true},onsuccess:function(e,g){if(this.setting.onsuccess){this.setting.onsuccess()}if(this.setting.noProcDefaultOnsuccess){var h=b.find(".backpage:first a");if(h.length>0){location.href=h[0].href}else{if(neo.webdb._isMainFrame()){var f=b('[name="deflist"]').val();location.href=f}}}},onerror:function(){if(this.setting.onerror){this.setting.onerror()}return true},onfinish:function(){if(this.setting.onfinish){this.setting.onfinish()}},__closure:neo.core.getClosure}})})(jQuery);