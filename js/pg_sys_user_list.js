(function(a){var c=neo.core.readyNamespace("neo.webdb.sysUserList");if(!c){return}var b=neo.webdb.sysUserList={_objDel:null,_getObjDel:function(){return this._objDel||this._initObjDel()},_initObjDel:function(){var e={};var d=new b.Del(e);return this._objDel=d},_elUserTable:null,_getElUserTable:function(){return this._elUserTable||this._initElUserTable()},_initElUserTable:function(){return this._elUserTable=a("#userlist")},_elSelectArea:null,_getSelectArea:function(){return this._elSelectArea||this._initElSelectArea()},_initElSelectArea:function(){return this._elSelectArea=a("#del-selectarea")},_elBtnEntry:null,_getElBtnEntry:function(){return this._elBtnEntry||this._initElBtnEntry()},_initElBtnEntry:function(){return this._elBtnEntry=a("[name=s_entry]")},_elBtnDel:null,_getElBtnDel:function(){return this._elBtnDel||this._initElBtnDel()},_initElBtnDel:function(){return this._elBtnDel=a("[name=s_del]")},_elBtnSelGroup:null,_getElBtnSelGroup:function(){return this._elBtnSelGroup||this._initElBtnSelGroup()},_initElBtnSelGroup:function(){return this._elBtnSelGroup=a("[name=s_selgroup]")},_elStartSorting:null,_getElStartSorting:function(){return this._elStartSorting||this._initElStartSorting()},_initElStartSorting:function(){return this._elStartSorting=a("#user-start_sorting")},_elStopSorting:null,_getElStopSorting:function(){return this._elStopSorting||this._initElStopSorting()},_initElStopSorting:function(){return this._elStopSorting=a("#user-stop_sorting")},constructor:function(){},initialize:function(){this._hook();var f=a(".sortable_table");var e={prevPage:true,nextPage:true,ondrop:function(g,h){b.modSeqnoUserList(h)}};f.webdbSelectableTable().webdbSortableTable(e);if(f.webdbSortableTable("beforeReloadingIsSortMode")){this.startSorting()}else{this.stopSorting()}var d=f.find(".nolist_cell");if(d.length>0){d.height(d.height())}},_hook:function(){var d;d=this._getElBtnEntry();this.__bind(d,"click","Entry");d=this._getElBtnDel();this.__bind(d,"click","Del");d=this._getElBtnSelGroup();this.selectGroupBind(d);d=this._getElStartSorting();this.__bind(d,"click","StartSorting");d=this._getElStopSorting();this.__bind(d,"click","StopSorting")},selectGroupBind:function(e){var d={selectedGroups:this.GetShowGrp(),havingAll:true,havingFree:true,single:true,callbackOnChange:function(j){var h="";if(j.length>0&&j[0].id!="*"){h=j[0].id}var i=a("[name=pg]").val();var g=a("[name=sv_keyword]").val();var f=a("[name=sv_sort]").val();var l=a("[name=sv_order]").val();var k={pg:i,sv_gid:h,sv_keyword:g,sv_sort:f,sv_order:l,sv_row:"0"};location.href=neo.webdb.getAdminUrl(k)}};neo.webdb.bindGroupSelectDialog(e,d)},GetShowGrp:function(){var e=a("[name=sv_gid]");var f=a("#showgrp");var d=[];if(e.val().length>0){d[0]={id:e.val(),name:f.html()}}else{d[0]={id:"*",name:"すべて"}}return d},entry:function(){var d=a("[name=sv_gid]").val();if(d=="free"){d=""}location.href=location.pathname+"?pg=sysuserentry&gid="+d},del:function(){var d=this._getObjDel();var f=this._getCheckedIds();var h=this._getCheckedSelectarea();var g="削除してよろしいですか？";var e={onok:function(){d.exec(f,h)}};neo.webdb.confirm(g,e)},_getCheckedIds:function(){var f=this._getElUserTable();var d=f.find(".selectable_table-checkbox-cell :checked");var e=a.map(d,function(g){return a(g).val()});return e},_getCheckedSelectarea:function(){var d=this._getSelectArea();return d.val()},modSeqnoUserList:function(j){var e=a("#userlist-form");var d=a("input[name='chkuid']").val();var f=a("input[name='seqno_desc_flag']").val();var h=a("input[name='sv_gid']").val();var g={url:e.attr("action"),getSendData:function(){var o=a('input[name="currow"]').val();var k=parseInt(o)+j.insertIntoIndex;var m=j.elTargetRow.find('input[type="checkbox"]:checked');var n="cmd=userlistmodseq&tgtrow="+k+"&seqno_desc_flag="+f+"&gid="+h;for(var l=0;l<m.size();l++){n+="&chkuid="+m.eq(l).val()}return n},onsuccess:function(){if(j.pageMoved){var k=e.attr("action")+"?pg=sysuserlist";location.href=k}},onerror:function(){}};var i=new neo.webdb.Ajax(g);i.initialize();i.sendRequest()},startSorting:function(){var f=a(".sortable_table");f.webdbSortableTable("start");var d=this._getElStartSorting();d.hide();var e=this._getElStopSorting();e.show()},stopSorting:function(){var f=a(".sortable_table");f.webdbSortableTable("stop");var d=this._getElStartSorting();d.show();var e=this._getElStopSorting();e.hide()},__closure:neo.core.getClosure,__bind:neo.jq.bindListener,onclickEntry:function(d){this.entry()},onclickDel:function(d){this.del()},onclickStartSorting:function(d){d.preventDefault();this.startSorting()},onclickStopSorting:function(d){d.preventDefault();this.stopSorting()}};a(document).ready(function(){b.initialize()})})(jQuery);