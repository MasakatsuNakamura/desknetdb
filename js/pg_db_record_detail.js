(function(a){var c=neo.core.readyNamespace("neo.webdb.pg_recordDetail");if(!c){return}var b=neo.webdb.pg_recordDetail={_elBtnDel:null,_getElBtnDel:function(){return this._elBtnDel||this._initElBtnDel()},_initElBtnDel:function(){return this._elBtnOk=a("#record_del_button")},_elBtnPrint:null,_getElBtnPrint:function(){return this._elBtnPrint||this._initElBtnPrint()},_initElBtnPrint:function(){return this._elBtnPrint=a("#print")},_elBtnClose:null,_getElBtnClose:function(){return this._elBtnClose||this._initElBtnClose()},_initElBtnClose:function(){return this._elBtnClose=a("#btnclose")},_objDel:null,_getObjDel:function(){return this._objDel||this._initObjDel()},_initObjDel:function(){var d=this;var f={onsuccess:function(){var g=neo.webdb.getTopWindow();d._disableRow();if(g.neo.webdb.pg_frame){neo.webdb.closeSubFrame()}else{window.close()}},noProcDefaultOnsuccess:true};var e=new neo.webdb.pg_recordDetail.Del(f);return this._objDel=e},_objImgSizeAdjust:null,_getObjImgSizeAdjust:function(){return this._objImgSizeAdjust||this._initObjImgSizeAdjust()},_initObjImgSizeAdjust:function(){var e={mode:neo.webdb.Record.ImageColumnSizeAdjustment.MODE_DETAIL};var d=new neo.webdb.Record.ImageColumnSizeAdjustment(e);return this._objImgSizeAdjust=d},_elRelatedTable:null,_getElRelatedTable:function(){return this._elRelatedTable||this._initElRelatedTable()},_initElRelatedTable:function(){return this._elRelatedTable=a(".related_table")},_elLinkNext:null,_getLinkNext:function(){return this._LinkNext||this._initLinkNext()},_initLinkNext:function(){return this._LinkNext=a("#record_detail-next")},_elLinkPrev:null,_getLinkPrev:function(){return this._LinkPrev||this._initLinkPrev()},_initLinkPrev:function(){return this._LinkPrev=a("#record_detail-prev")},constructor:function(){},initialize:function(){this.general=neo_webdb_pg_record_detail_general;if(neo.webdb._isSubFrame()){this._getElBtnClose().show()}this._hook();var d=this._getObjImgSizeAdjust();d.initialize();this._setRowShowed(this.general.recordid)},_hook:function(){var g;g=this._getElBtnDel();this.__bind(g,"click","Del");var f=this._getElBtnPrint();this.__bind(f,"click","Print");var e=this._getElRelatedTable().find("a");this.__bind(e,"click","RelatedLink");var h=this._getElBtnClose();this.__bind(h,"click","Close");var d=a(".layout-item-data .layout-item-data_image img");this.__bind(d,"click","Image")},del:function(){var e=this._getObjDel();var f=this.general.tid;var d=this.general.recordid;e.exec(f,d)},_disableRow:function(){var e=this.general.recordid;var d=neo.webdb.getMainWindow();if(d&&d.neo.webdb.pg_view){if(d.neo.webdb.pg_view.getTableId()==this.general.tid){d.neo.webdb.pg_view.disableRow(e)}}},_setRowShowed:function(e){var d=neo.webdb.getMainWindow();if(d&&d.neo.webdb.pg_view){if(d.neo.webdb.pg_view.getTableId()==this.general.tid){d.neo.webdb.pg_view.setRowShowed(e)}}},__closure:neo.core.getClosure,__bind:neo.jq.bindListener,onclickDel:function(g){g.preventDefault();var f="削除してよろしいですか？";var d=this;var e={onok:function(){d.del()}};neo.webdb.confirm(f,e)},onclickPrint:function(e){e.preventDefault();var d=neo.webdb.getMainUrl()+"?pg=dbrecordprint&tid="+this.general.tid+"&recordid="+this.general.recordid;var f=window.open(d,"recordprint");f.focus()},onclickClose:function(d){neo.webdb.closeSubFrame()},onclickImage:function(f){var g=a(f.target);var e={fileName:g.attr("alt")};var d=g.attr("src");if(d){neo.webdb.image(d,e)}},onclickRelatedLink:function(f){f.preventDefault();var h=a(arguments[arguments.length-1]);var d=h.attr("href");var g=[];g.url=d;g.fullsize="1";g.wid=neo.webdb.newWindowId();var e=neo.webdb.getMainUrl(g);window.open(e,"_blank")}};a(document).ready(function(){b.initialize()})})(jQuery);