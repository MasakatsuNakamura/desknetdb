(function(b){var c=neo.core.readyNamespace("neo.webdb.dbset_column_timespan_cal");if(!c){return}var a=neo.webdb.dbset_column_timespan_cal={_elBtnOk:null,_getElBtnOk:function(){return this._elBtnOk||this._initElBtnOk()},_initElBtnOk:function(){return this._elBtnOk=b("#btnok")},_elSelDtLeft:null,_getElSelDtLeft:function(){return this._elSelDtLeft||this._initElSelDtLeft()},_initElSelDtLeft:function(){return this._elSelDtLeft=b("#id-sel-dtleft")},_elSelDtRight:null,_getElSelDtRight:function(){return this._elSelDtRight||this._initElSelDtRight()},_initElSelDtRight:function(){return this._elSelDtRight=b("#id-sel-dtright")},_elSelTsLeft:null,_getElSelTsLeft:function(){return this._elSelTsLeft||this._initElSelTsLeft()},_initElSelTsLeft:function(){return this._elSelTsLeft=b("#id-sel-tsleft")},_elSelTsRight:null,_getElSelTsRight:function(){return this._elSelTsRight||this._initElSelTsRight()},_initElSelTsRight:function(){return this._elSelTsRight=b("#id-sel-tsright")},_elBtnLRAdd:null,_getElBtnLRAdd:function(){return this._elBtnLRAdd||this._initElBtnLRAdd()},_initElBtnLRAdd:function(){return this._elBtnLRAdd=b("#btnadd")},_elBtnLRDel:null,_getElBtnLRDel:function(){return this._elBtnLRDel||this._initElBtnLRDel()},_initElBtnLRDel:function(){return this._elBtnLRDel=b("#btndel")},_elRadioCalcType:null,_getElRadioCalcType:function(){return this._elRadioCalcType||this._initElRadioCalcType()},_initElRadioCalcType:function(){return this._elRadioCalcType=b('input[name="calctype"]')},constructor:function(){},initialize:function(){this._hook()},_hook:function(){var d;d=this._getElBtnOk();this.__bind(d,"click","Ok");d=this._getElSelDtLeft();this.__bind(d,"change","DtLeft");d=this._getElSelDtRight();this.__bind(d,"change","DtRight");d=this._getElSelTsLeft();this.__bind(d,"change","TsLeft");d=this._getElSelTsRight();this.__bind(d,"change","TsRight");d=this._getElBtnLRAdd();this.__bind(d,"click","LRAdd");d=this._getElBtnLRDel();this.__bind(d,"click","LRDel");d=this._getElRadioCalcType();this.__bind(d,"click","CalcType")},updateSetting:function(){this._buttonOff();var e=this;var d=b("#settblcol-form");var f={url:d.attr("action"),getSendData:function(){return d.serialize()},onsuccess:function(){var h=b("input[name='bp']").val();location.href=h},onerror:function(){e._buttonOn()}};var g=new neo.webdb.Ajax(f);g.initialize();g.sendRequest()},_buttonOff:function(){var d;d=this._getElBtnOk();d.attr("disabled","disabled").removeClass("btn")},_buttonOn:function(){var d;d=this._getElBtnOk();d.removeAttr("disabled").addClass("btn")},selLeftRight:function(n,j){var l="#"+n+" option:selected";var k="#"+j;var h=0;var f="";var g="";var m=new Array();var e=new Array();b(l).each(function(){m.push(b(this).attr("value"));e.push(b(this).text());b(this).remove()});for(h<0;h<m.length;h++){var d=neo.core.escape(e[h]);f='<option title="'+d+'" value="'+m[h]+'">'+d+"</option>";b(k).append(f);b(k+' option[value=""]').remove();g='<option value="" disabled="disabled">&nbsp;</option>';b(k).append(g)}},__closure:neo.core.getClosure,__bind:neo.jq.bindListener,onclickOk:function(e){e.preventDefault();var d=b("#id-picks").find("option");d.attr("selected","selected");this.updateSetting()},onchangeDtLeft:function(e){var d=this._getElSelDtLeft().val();if(d=="0"){b("#id-datesub-left").show()}else{b("#id-datesub-left").hide()}},onchangeDtRight:function(e){var d=this._getElSelDtRight().val();if(d=="0"){b("#id-datesub-right").show()}else{b("#id-datesub-right").hide()}},onchangeTsLeft:function(e){var d=this._getElSelTsLeft().val();if(d=="0"){b("#id-tsaddsub-left").show()}else{b("#id-tsaddsub-left").hide()}},onchangeTsRight:function(e){var d=this._getElSelTsRight().val();if(d=="0"){b("#id-tsaddsub-right").show()}else{b("#id-tsaddsub-right").hide()}},onclickLRAdd:function(d){d.preventDefault();this.selLeftRight("id-others","id-picks")},onclickLRDel:function(d){d.preventDefault();this.selLeftRight("id-picks","id-others")},onclickCalcType:function(g){var e=b('input[name="calctype"]:checked').val();var d=b("#id-datesub");var f=b("#id-tsaddsub");var h=b("#id-other");d.hide();f.hide();h.hide();if(e=="datesub"){d.show()}else{if(e=="timespanaddsub"){f.show()}else{h.show()}}}};b(document).ready(function(){a.initialize()})})(jQuery);