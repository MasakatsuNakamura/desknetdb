(function(b){var c=neo.core.readyNamespace("neo.webdb.dbsetSearchFilterList");if(!c){return}var a=neo.webdb.dbsetSearchFilterList={CMD_SEQ:"dbsetseqsearchfilter",_objDel:null,_getObjDel:function(){return this._objDel||this._initObjDel()},_initObjDel:function(){var e={};var d=new a.Del(e);return this._objDel=d},_elSearchFilterTable:null,_getElSearchFilterTable:function(){return this._elSearchFilterTable||this._initElSearchFilterTable()},_initElSearchFilterTable:function(){return this._elSearchFilterTable=b("#searchfilterlist")},_elBtnEntry:null,_getElBtnEntry:function(){return this._elBtnEntry||this._initElBtnEntry()},_initElBtnEntry:function(){return this._elBtnEntry=b("[name=s_entry]")},_elBtnDel:null,_getElBtnDel:function(){return this._elBtnDel||this._initElBtnDel()},_initElBtnDel:function(){return this._elBtnDel=b("[name=s_del]")},_elStartSortingFilters:null,_getElStartSortingFilters:function(){return this._elStartSortingFilters||this._initElStartSortingFilters()},_initElStartSortingFilters:function(){return this._elStartSortingFilters=b("#filter-start_sorting")},_elStopSortingFilters:null,_getElStopSortingFilters:function(){return this._elStopSortingFilters||this._initElStopSortingFilters()},_initElStopSortingFilters:function(){return this._elStopSortingFilters=b("#filter-stop_sorting")},_getSetting:function(d){var e=window.neo_webdb_pg_search_filter_list_setting;if(d){return e[d]}else{return e}},_getElRowFrom:function(e){var d=e.closest(".table-row");return d},_getElSelectedRows:function(){var f=this._getElSearchFilterTable();var e=f.find(":checked");var d=this._getElRowFrom(e);return d},_getFilterIdOf:function(f){var d=f.closest(".table-row");var e=d.find("[name=chkfilterid]").val();return e},_getFilterIdListOf:function(f){var h=[];for(var g=0;g<f.length;g++){var d=f.eq(g);var e=this._getFilterIdOf(d);h.push(e)}return h},_sendDataToSort:null,_getSendDataToSort:function(){return this._sendDataToSort},_setSendDataToSort:function(d){return this._sendDataToSort=d},_ajaxSort:null,_getAjaxSort:function(){return this._ajaxSort||this._initAjaxSort()},_initAjaxSort:function(){var d={url:neo.webdb.getDbSettingUrl(),getSendData:this.__closure(function(){var f=b.extend({},this._getSendDataToSort());f.cmd=a.CMD_SEQ;return f}),onsuccess:function(f,g){var h=neo.core.splitParam(g.url);if(h.js_pagemoved=="1"){location.reload()}}};var e=new neo.webdb.Ajax(d);e.initialize();return this._ajaxSort=e},constructor:function(){},initialize:function(){this.initSortableTable();this._hook()},initSortableTable:function(){var f=b(".sortable_table");var e={prevPage:this._getSetting("hasPrevPage"),nextPage:this._getSetting("hasNextPage"),ondrop:this.__closure(this.ondropSortable)};f.webdbSelectableTable().webdbSortableTable(e);if(f.webdbSortableTable("beforeReloadingIsSortMode")){this.startSortingFilters()}else{this.stopSortingFilters()}var d=f.find(".nolist_cell");if(d.length>0){d.height(d.height())}},_hook:function(){var d;d=this._getElBtnEntry();this.__bind(d,"click","Entry");d=this._getElBtnDel();this.__bind(d,"click","Del");element=this._getElStartSortingFilters();this.__bind(element,"click","StartSortingFilters");element=this._getElStopSortingFilters();this.__bind(element,"click","StopSortingFilters")},entry:function(){var d=this._getSetting("tableId");var e={pg:"dbseteditsearchfilter",tid:d};location.href=neo.webdb.getDbSettingUrl(e)},del:function(){var e=this._getObjDel();var d=this._getElSelectedRows();var f=this._getFilterIdListOf(d);var g=this._getSetting("tableId");e.exec(f,g)},startSortingFilters:function(){var f=b(".sortable_table");f.webdbSortableTable("start");var d=this._getElStartSortingFilters();d.hide();var e=this._getElStopSortingFilters();e.show()},stopSortingFilters:function(){var f=b(".sortable_table");f.webdbSortableTable("stop");var d=this._getElStartSortingFilters();d.show();var e=this._getElStopSortingFilters();e.hide()},_sort:function(f,e,d){var h=this._getSetting("tableId");var i=this._getFilterIdListOf(f);var g=e+this._getSetting("offset");this._submitSorting(h,i,g,d)},_submitSorting:function(f,i,e,d){var h={tgtrow:e,js_pagemoved:(d?"1":"0"),tid:f,fid:i};this._setSendDataToSort(h);var g=this._getAjaxSort();g.sendRequest()},__closure:neo.core.getClosure,__bind:neo.jq.bindListener,onclickEntry:function(d){this.entry()},onclickDel:function(h){var e=this._getElSelectedRows();if(e.length<1){var g="選択して下さい。";neo.webdb.alert(g);return}var g="削除します。";var d=this;var f={onok:function(){d.del()}};neo.webdb.confirm(g,f)},onclickStartSortingFilters:function(d){d.preventDefault();this.startSortingFilters()},onclickStopSortingFilters:function(d){d.preventDefault();this.stopSortingFilters()},ondropSortable:function(d,e){this._sort(e.elTargetRow,e.insertIntoIndex,e.pageMoved)}};b(document).ready(function(){a.initialize()})})(jQuery);