(function(b){var c=neo.core.readyNamespace("neo.webdb.pg_dbsetEditSearchFilter");if(!c){return}var a=neo.webdb.pg_dbsetEditSearchFilter={general:null,_freeFilter:null,_getFreeFilter:function(){return this._freeFilter||this._initFreeFilter()},_initFreeFilter:function(){var d={conditionManipulatorMan:this._getConditionManipulatorMan(),editable:true,elConditionsContainer:this._getElConditionsContainer(),elDetail:this._getElFreeFilter()};return this._freeFilter=new a.FreeFilter(d)},_conditionManipulatorMan:null,_getConditionManipulatorMan:function(){return this._conditionManipulatorMan||this._initConditionManipulatorMan()},_initConditionManipulatorMan:function(){var d={columns:neo_webdb_columns};var e=new neo.webdb.Filter.ConditionManipulator.Manager(d);e.initialize();return this._conditionManipulatorMan=e},_elFreeFilter:null,_getElFreeFilter:function(){return this._elFreeFilter||this._initElFreeFilter()},_initElFreeFilter:function(){return this._elFreeFilter=b(".edit_search_filter-condition_form")},_elConditionsContainer:null,_getElConditionsContainer:function(){return this._elConditionsContainer||this._initElConditionsContainer()},_initElConditionsContainer:function(){return this._elConditionsContainer=b("#filter_condition-container")},_elBtnOk:null,_getElBtnOk:function(){return this._elBtnOk||this._initElBtnOk()},_initElBtnOk:function(){return this._elBtnOk=b("[name=s_ok]")},_elSearchFilterFormOk:null,_getElSearchFilterFormOk:function(){return this._elSearchFilterFormOk||this._initElSearchFilterFormOk()},_initElSearchFilterFormOk:function(){return this._elSearchFilterFormOk=b(".edit_search_filter_form")},_ajaxUpdate:null,_getAjaxUpdate:function(){return this._ajaxUpdate||this._initAjaxUpdate()},_initAjaxUpdate:function(){var d=this;var e={url:neo.webdb.getDbSettingUrl(),getSendData:function(){var h=d._getFreeFilter().getQuery(0);var g="cmd=dbsetsetsearchfilter&tid="+d.general.tid+"&filterid="+d.general.filterid+"&filtername="+encodeURIComponent(b("input[name=filtername]").val())+"&"+h;return g},onsuccess:this.__closure(this._onsuccessUpdate)};var f=new neo.webdb.Ajax(e);f.initialize();return this._ajaxUpdate=f},constructor:function(){},initialize:function(){this.general=neo_webdb_pg_search_filter_general;var d=this._getFreeFilter();d.setting.id=this.general.filterid;d.initialize();this._hook();var f;for(var e in neo_webdb_Filter_details){f=neo_webdb_Filter_details[e];break}if(!f&&!d.setting.id){d.addCondition()}},_hook:function(){var d;d=this._getElBtnOk();this.__bind(d,"click","Ok")},ok:function(){var d=this._getAjaxUpdate();d.sendRequest()},__closure:neo.core.getClosure,__bind:neo.jq.bindListener,onclickOk:function(d){d.preventDefault();this.ok()},_onsuccessUpdate:function(){var e={pg:"dbsetsearchfilterlist",tid:this.general.tid};var d=neo.webdb.getDbSettingUrl(e);location.href=d}};b(document).ready(function(){a.initialize()})})(jQuery);