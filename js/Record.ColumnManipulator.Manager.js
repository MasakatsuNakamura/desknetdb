(function(c){var d=neo.core.readyNamespace("neo.webdb.Record.ColumnManipulator.Manager");if(!d){return}var a=neo.webdb.Record;var b=neo.webdb.Record.ColumnManipulator.Manager=new neo.core.Class({classProperties:{defaultSetting:{}},properties:{setting:null,_manipulators:null,_initManipulators:function(){return this._manipulators=new neo.core.Strage()},_getColumns:function(){return this.setting.columns},_getTableId:function(){return this.setting.tid},_getCallBackOnSetTmpnmFunc:function(){return this.setting.callbackOnSetTmpnm},_getCallBackOnGetTmpnmFunc:function(){return this.setting.callbackOnGetTmpnm},_getCallBackOnAdjustImgSizeFunc:function(){return this.setting.callbackOnImgSizeAdjust},_getElDetail:function(){return this.setting.elDetail},_getPgMode:function(){return this.setting.pgmode},__constructor:function(e){this.setting=e||{}},initialize:function(){this._initSetting();this._initManipulators()},_initSetting:function(){var e=this._getDefaultSetting();this.setting=c.extend({},e,this.setting)},_getDefaultSetting:function(){return c.extend({},b.defaultSetting)},getManipulator:function(f){var e=this._manipulators.get(f);if(!e){e=this._buildManipulator(f);this._manipulators.set(f,e)}return e},_buildManipulator:function(j){if(j=="-2"||j=="-3"||j=="-4"||j=="-5"){return null}var i=this._getColumn(j);var h=i.type;if(h=="relcpy"){h=i.reltype}var g={manager:this,tid:this._getTableId(),callbackOnSetTmpnm:this._getCallBackOnSetTmpnmFunc(),callbackOnGetTmpnm:this._getCallBackOnGetTmpnmFunc(),callbackOnAdjustImgColumn:this._getCallBackOnAdjustImgSizeFunc(),column:i,columns:this._getColumns(),elDetail:this._getElDetail()};var f;switch(h){case"key":f=new a.KeyColumnManipulator();break;case"text":f=new a.TextColumnManipulator();break;case"texts":f=new a.TextsColumnManipulator();break;case"number":f=new a.NumberColumnManipulator();break;case"datetime":f=new a.DatetimeColumnManipulator(g);break;case"mail":f=new a.MailColumnManipulator();break;case"url":f=new a.UrlColumnManipulator();break;case"timespan":f=new a.TimeSpanColumnManipulator(g);break;case"select":f=new a.SelectColumnManipulator();break;case"selects":var e=this._getPgMode();if(e=="recsmod"){f=new a.SelectsForMassUpdateColumnManipulator()}else{f=new a.SelectsColumnManipulator()}break;case"user":f=new a.UserColumnManipulator();break;case"users":f=new a.UsersColumnManipulator();break;case"file":f=new a.FileColumnManipulator(g);break;case"image":f=new a.ImageColumnManipulator(g);break;case"relkey":f=new a.RelKeyColumnManipulator(g);break;case"relref":case"numbercal":case"datetimecal":case"timespancal":f=null;break;default:throw new Error('neo.webdb.Record.ColumnManipulator.Manager._buildManipulator : Unkown type : "'+h+'".');break}return f},_getColumn:function(g){var e=this._getColumns();var f=e[g];if(!f){throw new Error('neo.webdb.Record.ColumnManipulator.Manager._getColumn : Unkown column ID : "'+g+'".')}return f}}})})(jQuery);