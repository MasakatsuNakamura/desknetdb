(function(b){var c=neo.core.readyNamespace("neo.webdb.dbset_column_number_cal");if(!c){return}var a=neo.webdb.dbset_column_number_cal={_elBtnOk:null,_getElBtnOk:function(){return this._elBtnOk||this._initElBtnOk()},_initElBtnOk:function(){return this._elBtnOk=b("#btnok")},_elSelRoundLvl:null,_getElSelRoundLvl:function(){return this._elSelRoundLvl||this._initElSelRoundLvl()},_initElSelRoundLvl:function(){return this._elSelRoundLvl=b("#id-sel-roundlevel")},_elRadioCalcType:null,_getElRadioCalcType:function(){return this._elRadioCalcType||this._initElRadioCalcType()},_initElRadioCalcType:function(){return this._elRadioCalcType=b('input[name="calctype"]')},_elSelBinLeft:null,_getElSelBinLeft:function(){return this._elSelBinLeft||this._initElSelBinLeft()},_initElSelBinLeft:function(){return this._elSelBinLeft=b("#id-sel-binleft")},_elSelBinRight:null,_getElSelBinRight:function(){return this._elSelBinRight||this._initElSelBinRight()},_initElSelBinRight:function(){return this._elSelBinRight=b("#id-sel-binright")},_elBtnLRAdd:null,_getElBtnLRAdd:function(){return this._elBtnLRAdd||this._initElBtnLRAdd()},_initElBtnLRAdd:function(){return this._elBtnLRAdd=b("#btnadd")},_elBtnLRDel:null,_getElBtnLRDel:function(){return this._elBtnLRDel||this._initElBtnLRDel()},_initElBtnLRDel:function(){return this._elBtnLRDel=b("#btndel")},constructor:function(){},initialize:function(){this._hook()},_hook:function(){elBtnOk=this._getElBtnOk();this.__bind(elBtnOk,"click","Ok");elSelRoundLvl=this._getElSelRoundLvl();this.__bind(elSelRoundLvl,"change","RoundLvl");elRadioCalcType=this._getElRadioCalcType();this.__bind(elRadioCalcType,"click","CalcType");elSelBinLeft=this._getElSelBinLeft();this.__bind(elSelBinLeft,"change","BinLeft");elSelBinRight=this._getElSelBinRight();this.__bind(elSelBinRight,"change","BinRight");elBtnLRAdd=this._getElBtnLRAdd();this.__bind(elBtnLRAdd,"click","LRAdd");elBtnLRDel=this._getElBtnLRDel();this.__bind(elBtnLRDel,"click","LRDel")},updateSetting:function(){this._buttonOff();var e=this;var d=b("#settblcol-form");var f={url:d.attr("action"),getSendData:function(){return d.serialize()},onsuccess:function(){var h=b("input[name='bp']").val();location.href=h},onerror:function(){e._buttonOn()}};var g=new neo.webdb.Ajax(f);g.initialize();g.sendRequest()},_buttonOff:function(){var d;d=this._getElBtnOk();d.attr("disabled","disabled").removeClass("btn")},_buttonOn:function(){var d;d=this._getElBtnOk();d.removeAttr("disabled").addClass("btn")},selLeftRight:function(p,k){var m="#"+p+" option:selected";var l="#"+k;var h="id-picks";var n="#id-numerators";var j=0;var f="";var g="";var o=new Array();var e=new Array();b(m).each(function(){o.push(b(this).attr("value"));e.push(b(this).text());b(this).remove();if(p==h){b(n+" option[value="+b(this).attr("value")+"]").remove()}});for(j<0;j<o.length;j++){var d=neo.core.escape(e[j]);f='<option title="'+d+'" value="'+o[j]+'">'+d+"</option>";b(l).append(f);if(k==h){b(n).append(f)}b(l+' option[value=""]').remove();g='<option value="" disabled="disabled">&nbsp;</option>';b(l).append(g)}},__closure:neo.core.getClosure,__bind:neo.jq.bindListener,onclickOk:function(e){e.preventDefault();var d=b("#id-picks").find("option");d.attr("selected","selected");this.updateSetting()},onchangeRoundLvl:function(e){var d=this._getElSelRoundLvl();if(d.val()=="nothing"){b("#id-roundtype").hide()}else{b("#id-roundtype").show()}},onclickCalcType:function(j){var h=b('input[name="calctype"]:checked').val();var g=b("#id-binary");var k=b("#id-other");var e=b("#id-title-sum");var i=b("#id-title-avg");var f=b("#id-title-rate");var d=b("#id-numerator");g.hide();k.hide();e.hide();i.hide();f.hide();d.hide();if(h=="binary"){g.show()}else{k.show();if(h=="sum"){e.show()}else{if(h=="average"){i.show()}else{f.show();d.show()}}}},onchangeBinLeft:function(e){var d=this._getElSelBinLeft().val();if(d=="0"){b("#id-binlval").show()}else{b("#id-binlval").hide()}},onchangeBinRight:function(e){var d=this._getElSelBinRight().val();if(d=="0"){b("#id-binrval").show()}else{b("#id-binrval").hide()}},onclickLRAdd:function(d){d.preventDefault();this.selLeftRight("id-others","id-picks")},onclickLRDel:function(d){d.preventDefault();this.selLeftRight("id-picks","id-others")}};b(document).ready(function(){a.initialize()})})(jQuery);