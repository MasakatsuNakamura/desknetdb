(function(b){var c=neo.core.readyNamespace("neo.webdb.pg_view.Panel");if(!c){return}var a=neo.webdb.pg_view.Panel=new neo.core.Class({classProperties:{CLS_:"",defaultSetting:{},banpei:null},properties:{setting:null,_getPage:function(){return this.setting.page},_getTableId:function(){return this.setting.tableId},__constructor:function(d){this.setting=d||{}},initialize:function(){this._initSetting()},_initSetting:function(){var d=this._getDefaultSetting();this.setting=b.extend({},d,this.setting)},_getDefaultSetting:function(){return b.extend({},a.defaultSetting)},execute:function(i,g,d){if(i=="selected"&&d.length<=0){neo.webdb.alert("対象レコードを選択してください。");return}var h=this._getTableId();var e={url:neo.webdb.getMainUrl(),getSendData:function(){var k="cmd=recssaveinit&wid="+neo.webdb.getWindowId()+"&tid="+h+"&tgtrec="+i+"&recstype="+g;if(i=="selected"){for(var j=0;j<d.length;j++){k+="&recordid="+d[j]}}return k},onsuccess:function(){var l;if(g=="update"){l="recsmod1"}else{if(g=="replace"){l="recsreplace1"}else{if(g=="remove"){l="recsdel1"}}}var k={pg:l,wid:neo.webdb.getWindowId(),tid:h};var j=neo.webdb.getMainUrl(k);location.href=j},onerror:function(){}};var f=new neo.webdb.Ajax(e);f.initialize();f.sendRequest()},count:function(d){var e=this._getTableId();var f=[];f.pg="total";f.wid=neo.webdb.getWindowId();f.init="1";f.tid=e;f.dispnum=d;var g=neo.webdb.getMainUrl(f);location.href=g},exportCsv:function(){var d=this._getPage();d.openDlgCsvSetting()},print:function(){var f=[];f.pg="dbrecordlistprint";f.wid=neo.webdb.getWindowId();f.tid=this._getTableId();f.def_dispnum=b("#menu-view-num_of_rows").val();f.init="1";var d=neo.webdb.getMainUrl(f);var e=window.open(d,"recordlistprint");e.focus()},setNumOfRows:function(d){var f=[];f.pg="dbrecordlist";f.wid=neo.webdb.getWindowId();f.sv_tid=this._getTableId();f.sv_limit=d;f.sv_row="0";var e=neo.webdb.getMainUrl(f);location.href=e},setVisibleCols:function(){var d=this._getPage();d.openDlgVisibleColsSetting()},banpei:null}})})(jQuery);