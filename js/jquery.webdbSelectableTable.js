(function(b){var c=neo.core.readyNamespace("neo.jQuery.fn.webdbSelectableTable");if(!c){return}var a=neo.jQuery.fn.webdbSelectableTable=new neo.core.Class({classProperties:{CLS_BTN_CHECK_ALL:"btn-check_all",URL_CHECK_ALL:"/wdroot/img/btn-check_all.gif",URL_CHECK_ALL_OFF:"/wdroot/img/btn-check_all-off.gif",showcase:null,defaultSetting:{},__constructor:function(){this.showcase=new neo.core.Showcase()},getInstance:function(d){return this.showcase.getInstance(d)},setInstance:function(e,d){return this.showcase.set(e,d)}},properties:{setting:null,_element:null,_getElement:function(){return this._element},_elBtnCheckAll:null,_getElBtnCheckAll:function(){return this._elBtnCheckAll||this._initElBtnCheckAll()},_initElBtnCheckAll:function(){var d=this._getElement();return this._elBtnCheckAll=d.find("."+a.CLS_BTN_CHECK_ALL)},__constructor:function(e,d){if(!e||!(e instanceof jQuery)){throw new Error("jQuery.fn.webdbSelectableTable.__constructor : <element> is not valid.")}this._element=e;this.setting=d[0]||{};a.setInstance(e,this)},initialize:function(){this._hook()},_hook:function(){var d=this._getElement();var e=d.find("."+a.CLS_BTN_CHECK_ALL);this.__bind(e,"click")},_getDefaults:function(){return b.extend({},a.defaultSetting)},toggle:function(){var d=this._getSetValue();this._toggleCheckbox(d);this._toggleButton(d)},_getSetValue:function(){var d=this._getElBtnCheckAll();return(d.attr("src").indexOf("-off.")>=0)},_toggleCheckbox:function(f){var e=this._findElCheckbox();var g=!f;if(typeof this.setting.ontoggle=="function"){var h={elCheckbox:e,value:g};var d=this.setting.ontoggle({},h);if(d===false){return}}e.attr("checked",g)},_findElCheckbox:function(){var d=this._getElement();var e=d.find("td.selectable_table-checkbox-cell :checkbox");return e},_toggleButton:function(d){var f;if(d){f=a.URL_CHECK_ALL}else{f=a.URL_CHECK_ALL_OFF}var e=this._getElBtnCheckAll();e.attr("src",f)},option:function(d,e){if(e===undefined){return this.setting[d]}this.setting[d]=e},__bind:neo.jq.bindListener,onclick:function(d){this.toggle()}}});b.fn.webdbSelectableTable=neo.jq.buildPlugin(a);a.__constructor()})(jQuery);