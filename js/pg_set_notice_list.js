(function(b){var c=neo.core.readyNamespace("neo.webdb.pg_noticeList");if(!c){return}var a=neo.webdb.pg_noticeList={_elCreateNotice:null,_getElCreateNotice:function(){return this._elCreateNotice||this._initElCreateNotice()},_initElCreateNotice:function(){return this._elCreateNotice=b("#notice-create")},_elRemoveNotice:null,_getElRemoveNotice:function(){return this._elRemoveNotice||this._initElRemoveNotice()},_initElRemoveNotice:function(){return this._elRemoveNotice=b("#notice-remove")},_elBtnCopyNotice:null,_getElBtnCopyNotice:function(){return this._elBtnCopyNotice||this._initElBtnCopyNotice()},_initElBtnCopyNotice:function(){return this._elBtnCopyNotice=b(".notice-copy")},_elNoticeTable:null,_getElNoticeTable:function(){return this._elNoticeTable||this._initElNoticeTable()},_initElNoticeTable:function(){return this._elNoticeTable=b("#notice-table")},_getSetting:function(d){var e=window.neo_webdb_pg_noticeList_setting;if(d){return e[d]}else{return e}},_getElRowFrom:function(e){var d=e.closest(".notice-row");return d},_getElSelectedRows:function(){var f=this._getElNoticeTable();var e=f.find(":checked");var d=this._getElRowFrom(e);return d},_getNoticeIdOf:function(f){var e=f.closest(".notice-row");var d=e.attr("data-id");return d},_getNoticeIdListOf:function(f){var h=[];for(var g=0;g<f.length;g++){var e=f.eq(g);var d=this._getNoticeIdOf(e);h.push(d)}return h},initialize:function(){var d;d=b("#notice-table");d.webdbSelectableTable();this._hook()},_initSelectableTable:function(){var d=b(".sortable_table")},_hook:function(){var d;d=this._getElCreateNotice();this.__bind(d,"click","CreateNotice");d=this._getElRemoveNotice();this.__bind(d,"click","RemoveNotice");d=this._getElBtnCopyNotice();this.__bind(d,"click","CopyNotice")},createNotice:function(){var d={pg:"dbsetnotice",tid:this._getSetting("tableId")};location.href=neo.webdb.getDbSettingUrl(d)},removeNotice:function(){var e=this._getElSelectedRows();if(e.length<1){var g="選択して下さい。";neo.webdb.alert(g);return}var g="削除します。";var d=this;var f={onok:function(){d._removeLow()}};neo.webdb.confirm(g,f)},_removeLow:function(){var d=this._getElSelectedRows();var e=this._getNoticeIdListOf(d);this._submitRemoving(e);d.find(":checked").attr("checked",false)},_submitRemoving:function(g){var f={cmd:"dbsetnoticedel",tid:this._getSetting("tableId"),notice_id:g};var d={url:neo.webdb.getDbSettingUrl(),getSendData:this.__closure(function(){var h=b.extend({},f);return h}),onsuccess:this.__closure(this.onsuccessRemoveNotice)};var e=new neo.webdb.Ajax(d);e.initialize();e.sendRequest();e=null},__closure:neo.core.getClosure,__bind:neo.jq.bindListener,onclickCreateNotice:function(d){this.createNotice()},onclickRemoveNotice:function(d){this.removeNotice()},onsuccessRemoveNotice:function(e,d){location.reload()},onclickCopyNotice:function(f){var g=b(arguments[arguments.length-1]);var d=g.closest(".notice-row").attr("data-id");var h={cmd:"dbsetnotice",cpy:"1",tid:this._getSetting("tableId"),notice_id:d};var e=neo.webdb.getDbSettingUrl(h);location.href=e},banpei:null};b(document).ready(function(){a.initialize()})})(jQuery);