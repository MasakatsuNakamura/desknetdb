/*
 * desknet's NEO
 * https://www.desknets.com/
 * Copyright (C)2012-2016 NEOJAPAN Inc. All Rights Reserved.
 * 本製品は日本国著作権法および国際条約により保護されています。 
 * 本製品の全部または一部を無断で複製したり、無断で複製物を頒 
 * 布すると著作権の侵害となりますのでご注意ください。 
 */
(function(b){var d=neo.core.readyNamespace("neo.denbun.Setting");if(!d){return}var c=neo.denbun;var a=neo.denbun.Setting=new neo.core.Class({classProperties:{CLS_COM_ITEM:"page-setting_com-item",CLS_PAGE_ITEM_SETTING_INDEX_LINK:"setting-index-link",_index:null,_getIndex:function(){return this._index||this._initIndex()},_initIndex:function(){var f={};var e=new neo.denbun.Setting.Index(f);e.initialize();return this._index=e},_elToolbar:null,_getElToolbar:function(){return this._elToolbar||this._initElToolbar()},_initElToolbar:function(){return this._elToolbar=b("."+a.CLS_COM_ITEM+"."+c.Page.CLS_TOOLBAR_ITEM)},_elOkButtonOfToolbar:null,_getElOkButtonOfToolbar:function(){return this._elOkButtonOfToolbar||this._initElOkButtonOfToolbar()},_initElOkButtonOfToolbar:function(){return this._elOkButtonOfToolbar=this._getElToolbarItemOf("ok")},_elCancelButtonOfToolbar:null,_getElCancelButtonOfToolbar:function(){return this._elCancelButtonOfToolbar||this._initElCancelButtonOfToolbar()},_initElCancelButtonOfToolbar:function(){return this._elCancelButtonOfToolbar=this._getElToolbarItemOf("cancel")},_elSeparatorBeforeRemove:null,_getElSeparatorBeforeRemove:function(){return this._elSeparatorBeforeRemove||this._initElSeparatorBeforeRemove()},_initElSeparatorBeforeRemove:function(){var e=this._getElToolbar();var f=e.find("."+c.App.Menu.CLS_ITEM);return this._elSeparatorBeforeRemove=f.filter(".setting_com_menu-separator_before_remove")},_elRemoveButtonOfToolbar:null,_getElRemoveButtonOfToolbar:function(){return this._elRemoveButtonOfToolbar||this._initElRemoveButtonOfToolbar()},_initElRemoveButtonOfToolbar:function(){return this._elRemoveButtonOfToolbar=this._getElToolbarItemOf("remove")},_elLeftPageBody:null,_getElLeftPageBody:function(){return this._elLeftPageBody||this._initElLeftPageBody()},_initElLeftPageBody:function(){return this._elLeftPageBody=b("."+a.CLS_COM_ITEM+"."+c.Page.CLS_LEFT_ITEM+" ."+c.CLS_COM_CONTENT_BODY)},constructor:function(){},initSetting:function(){this._getIndex()},loadSetting:function(){this._getIndex()},setResponseToForm:function(g,f){var e=c.parseFlatData(f);this.setFormValues(g,e)},setFormValues:function(h,e){for(var f in e){var g=e[f];this._setFormValue(h,f,g)}},_setFormValue:function(i,f,h){var e=i._getElInputOf(f);var g=e.attr("type");switch(g){case"radio":e.filter('[value="'+h+'"]').attr("checked",true);break;case"checkbox":e.attr("checked",(h=="1"?true:false));break;default:e.val(h)}},resetForm:function(f){var e=f._getElForm();e[0].reset()},deleteSign:function(f,e){this._deleteEdittingItems("mailsigndel",f,e)},deleteFilter:function(f,e){this._deleteEdittingItems("mailfilterdel",f,e)},deleteJunkSetting:function(f,e){this._deleteEdittingItems("mailtroubledel",f,e)},_deleteEdittingItems:function(i,g,e){var f={getSendData:function(){var j={cmd:i,id:g};return j},onsuccess:function(){if(e){e()}}};var h=new c.Ajax(f);h.initialize();h.sendRequest();c.app.setSettingModified()},_getElToolbarItemOf:function(g){var f=this._getElToolbar();var e;if(f){e=f.find("[data-"+c.App.Menu.KEY_TOOLBAR_ACTION+'="'+g+'"]')}return e},toggleVisibilityOkAndCancelToolbarButton:function(f){var e=this._getElOkButtonOfToolbar();e.toggle(f);var g=this._getElCancelButtonOfToolbar();g.toggle(f)},toggleVisibilityRemoveToolbarButton:function(f){var g=this._getElSeparatorBeforeRemove();g.toggle(f);var e=this._getElRemoveButtonOfToolbar();e.toggle(f)},toggleEnableOfOkToolbarButton:function(f){var e=this._getElOkButtonOfToolbar();e.toggleClass(c.CLS_DISABLED,!f)},getScrollTopOfLeftPageBody:function(){var e=this._getElLeftPageBody();return e.scrollTop()},setScrollTopToLeftPageBody:function(e){var f=this._getElLeftPageBody();f.scrollTop(e)},updateTableHeight:function(j,g,l){g.hide();var i=j._getElPageBody();var e=j._getElForm();var h=i.innerHeight();var k=e.outerHeight(true);var f=h-k;f+=l;g.show();g.setHeight(f)},__closure:c.__closure,__bind:c.__bind,banpei:null},properties:{__constructor:function(){if(this instanceof a){var e="Class <neo.denbun.Setting> is not allowed to build instances.";throw new Error("neo.denbun.Setting.__constructor : "+e)}}}});a.constructor()})(jQuery);(function(a){var d=neo.core.readyNamespace("neo.denbun.Setting.Index");if(!d){return}var b=neo.denbun;var c=neo.denbun.Setting.Index=new neo.core.Class({classProperties:{constructor:function(){}},properties:{_elLink:null,_getElLink:function(){return this._elLink||this._initElLink()},_initElLink:function(){return this._elLink=a(".setting-index-link")},setting:null,_getPage:function(){return this.setting.page},_accountEnable:false,_getAccountEnable:function(){return this._accountEnable},_setAccountEnable:function(e){return this._accountEnable=e},_publicAddrDelEnable:false,_getPublicAddrDelEnable:function(){return this._publicAddrDelEnable},_setPublicAddrDelEnable:function(e){return this._publicAddrDelEnable=e},__constructor:function(e){this.setting=e},initialize:function(){this._hook();if(DENBUN_MODE_XNEO){this._setMailGeneralSettingToForm()}else{this._initElAdminLink()}},_setMailGeneralSettingToForm:function(){var f=b.comSetting.isAllowedToAccountSetting();this._setAccountSettingEnableToSetting(f);if(!b.comSetting.isAvailableImap()){a(".setting-index-category-mail").hide()}if(!b.comSetting.isAvailableAddress()){a(".setting-index-category-address").hide()}var e=b.comSetting.hasAuthorityToDelAllPublicAddress();this._setPublicAddrDelSettingEnableToSetting(e)},_initElAdminLink:function(){var g=a("#setting-index-admin_link-container");var f=g.find("a");var e=b.getUrl(b.CGI_CONFIG);f.attr("href",e)},_setAccountSettingEnableToSetting:function(e){element=a('[href="#page='+b.PAGE_SETTING_ACCOUNT_EDIT+'"]');elParent=element.parent();if(e){elParent.removeClass("disabled")}else{elParent.addClass("disabled");if(DENBUN_MODE_XNEO){this._convLinkElement(element,elParent)}}this._setAccountEnable(e)},_setPublicAddrDelSettingEnableToSetting:function(e){element=a('[href="#page='+b.PAGE_SETTING_PUBLICADDRESSDELETE+'"]');elParent=element.parent();if(e){elParent.removeClass("disabled")}else{elParent.addClass("disabled");if(DENBUN_MODE_XNEO){this._convLinkElement(element,elParent)}}this._setPublicAddrDelEnable(e)},_convLinkElement:function(f,g){if(f.length>0&&g.length>0){var h=f.eq(0).text();var e=a("<span />").addClass(b.Setting.CLS_PAGE_ITEM_SETTING_INDEX_LINK).text(h);g.empty().append(e)}},_hook:function(){var e;e=this._getElLink();this.__bind(e,"click","Link")},_openLink:function(e){b.openPage(e)},onclickLink:function(g,h){g.preventDefault();var f=a(h);var e=f.attr("href");if(DENBUN_MODE_XNEO){if(!e){return}}if(DENBUN_MODE_XNEO){if(!this._getAccountEnable()){if(e=="#page="+b.PAGE_SETTING_ACCOUNT_EDIT){return}}if(!this._getPublicAddrDelEnable()){if(e=="#page="+b.PAGE_SETTING_PUBLICADDRESSDELETE){return}}}this._openLink(f)},__closure:b.__closure,__bind:b.__bind,banpei:null}});c.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.SettingPage");if(!e){return}var d=neo.denbun;var b=d.Setting;var a=neo.denbun.Setting.SettingPage=new neo.core.Class({superClass:d.Page,classProperties:{constructor:function(){}},properties:{_ajaxGetSetting:null,_getAjaxGetSetting:function(){return this._ajaxGetSetting||this._initAjaxGetSetting()},_initAjaxGetSetting:function(){var f={url:this._getUrlToGetSetting(),getSendData:this.__closure(this._getDataToGetSetting),onsuccess:this.__closure(this.onsuccessGetSetting)};var g=new neo.denbun.Ajax(f);g.initialize();return this._ajaxGetSetting=g},_ajaxSetSetting:null,_getAjaxSetSetting:function(){return this._ajaxSetSetting||this._initAjaxSetSetting()},_initAjaxSetSetting:function(){var f={url:this._getUrlToSetSetting(),type:this._getHttpMethod(),getSendData:this.__closure(this._getDataToSetSetting),onsuccess:this.__closure(this.onsuccessSetSetting),onerror:this.__closure(this.onerrorSetSetting)};if(DENBUN_MODE_XNEO){f.errorconvmsg=this.__closure(this.onerrorConvMsg)}var g=new neo.denbun.Ajax(f);g.initialize();return this._ajaxSetSetting=g},_elForm:null,_getElForm:function(){return this._elForm||this._initElForm()},_initElForm:function(){var f=this._getClsThisPage();return this._elForm=c("."+f+" .setting_form")},_elPageTitle:null,_getElPageTitle:function(){return this._elPageTitle||this._initElPageTitle()},_initElPageTitle:function(){var f=this._getClsThisPage();return this._elPageTitle=c("."+f+"."+d.Page.CLS_CENTER_ITEM+" ."+d.CLS_COM_CONTENT_TITLE+":first")},_elPageBody:null,_getElPageBody:function(){return this._elPageBody||this._initElPageBody()},_initElPageBody:function(){var f=this._getClsThisPage();return this._elPageBody=c("."+f+"."+d.Page.CLS_CENTER_ITEM+" ."+d.CLS_COM_CONTENT_BODY+":first")},_elOk:null,_getElOk:function(){return this._elOk||this._initElOk()},_initElOk:function(){var f=this._getElForm();return this._elOk=f.find(".setting_form-ok")},_elCancel:null,_getElCancel:function(){return this._elCancel||this._initElCancel()},_initElCancel:function(){var f=this._getElForm();return this._elCancel=f.find(".setting_form-cancel")},_elRemove:null,_getElRemove:function(){return this._elRemove||this._initElRemove()},_initElRemove:function(){var f=this._getElForm();return this._elRemove=f.find(".setting_form-remove")},__constructor:function(){},initialize:function(){this._hook()},open:function(f){var g=b.getScrollTopOfLeftPageBody();d.Page.prototype.open.apply(this,arguments);b.setScrollTopToLeftPageBody(g)},_hook:function(){var f;f=this._getElForm();this.__bind(f,"submit");f=this._getElOk();this.__bind(f,"click","Ok");f=this._getElCancel();this.__bind(f,"click","Cancel");f=this._getElRemove();this.__bind(f,"click","Remove")},_clean:function(){d.Page.prototype._clean.apply(this,arguments);b.resetForm(this);var f=this;setTimeout(function(){f._revertScrolling()},0)},_revertScrolling:function(){var f=this._getElPageBody();f.scrollTop(0)},_initOnOpening:function(){this._showLeft();this._hideRight();this._updateToolbarMenuVisiblity();this._load();b.initSetting()},_getElOwnItemsLow:function(){var f=this._getClsThisPage();return c("."+b.CLS_COM_ITEM+", ."+f)},_getClsThisPage:function(){},_updateToolbarMenuVisiblity:function(){b.toggleVisibilityOkAndCancelToolbarButton(false);b.toggleVisibilityRemoveToolbarButton(false)},_load:function(){this._disableOkButton();var f=this._getAjaxGetSetting();f.sendRequest()},_getUrlToGetSetting:function(){return undefined},_getDataToGetSetting:function(){},_setPageTitle:function(g){var f=this._getElPageTitle();f.text(g)},ok:function(){var f=this._validate();if(f.length>0){this._showValidationError(f)}else{this._decide()}},_decide:function(){var f=this._getAjaxSetSetting();f.sendRequest();this._disableOkButton();d.app.setSettingModified()},_validate:function(){var f=[];if(false){f.push("駄目です。")}return f},_showValidationError:function(g){var f="";if(g.length>0){f="- "+g.join("\n- ")}neo.denbun.alert(f)},_getUrlToSetSetting:function(){return a.URL_DEFAULT},_getHttpMethod:function(){return undefined},_getDataToSetSetting:function(){var f=this._getElForm();var n=f.serializeArray();var k={};for(var j=0;j<n.length;j++){k[n[j].name]=n[j].value}var m=f.find('input[type="checkbox"]');for(var j=0;j<m.length;j++){var h=m.eq(j);var g=h.attr("name");var l=(h.attr("checked")?"1":"0");k[g]=l}return k},_setToForm:function(f){},cancel:function(){d.openPage(d.PAGE_SETTING_INDEX,null,false)},remove:function(){},_showRemoveButton:function(){var f=this._getElRemove();f.show();b.toggleVisibilityRemoveToolbarButton(true)},_hideRemoveButton:function(){var f=this._getElRemove();f.hide();b.toggleVisibilityRemoveToolbarButton(false)},_getElInputOf:function(h){var g=this._getElForm();var f=g.find('[name="'+h+'"]');return f},_enableOkButton:function(){var f=this._getElOk();f.attr("disabled",false);b.toggleEnableOfOkToolbarButton(true)},_disableOkButton:function(){var f=this._getElOk();f.attr("disabled",true);b.toggleEnableOfOkToolbarButton(false)},_initEncodeType:function(){var g=this._getElForm();var h=c.cookie(desknets.COOKIENAME_IMEX_CCODE);var f=c.cookie(desknets.COOKIENAME_IMEX_CSEP);if(h){g.find('[name="char_code"]').val(h)}if(f){g.find('[name="char_sep"]').val(f)}},_setCookiesEncodeType:function(){var f=this._getElForm();desknets.saveCookieToDisk(desknets.COOKIENAME_IMEX_CCODE,f.find('[name="char_code"]').val());desknets.saveCookieToDisk(desknets.COOKIENAME_IMEX_CSEP,f.find('[name="char_sep"]').val())},onsuccessGetSetting:function(g,f,h){this._setToForm(g);this._enableOkButton()},onsuccessSetSetting:function(){d.openPage(d.PAGE_SETTING_INDEX)},onerrorSetSetting:function(h,g,i){this._enableOkButton();if(DENBUN_MODE_XNEO){var f=i.type;var g={onok:g.afterShowError};h=h.replace(/(\r\n|\r|\n)/g,"<br />");neo.denbun.alert(h,g,f,true);return false}},onsubmit:function(f,g){f.preventDefault()},onclickOk:function(f,g){this.ok()},onclickCancel:function(f,g){this.cancel()},onclickRemove:function(f,g){this.remove()},onerrorConvMsg:function(h){var g="";if(!!h&&!!h.errmsgadd&&h.errmsgadd!=""){var f=this._getElForm().find('[name="'+h.errmsgadd+'"]').closest("td").prev("th").find(".setting-item_name").eq(0).text();g=f+desknets.merrMsgConnect}return g},__closure:d.__closure,__bind:d.__bind,banpei:null}});a.constructor()})(jQuery);(function(b){var d=neo.core.readyNamespace("neo.denbun.Setting.SettingTable");if(!d){return}var c=neo.denbun;var a=neo.denbun.Setting.SettingTable=new neo.core.Class({superClass:c.Table,classProperties:{CLS_USUALLYUSE_LABEL:"setting-table-usuallyuse-label",NAME_USUALLYUSE:"setting-table-usuallyuse",MOVEROW_UP:"up",MOVEROW_DOWN:"down"},properties:{_getUrlToLoad:function(){return c.getUrl(c.CGI_EML)},_hookCom:function(){c.Table.prototype._hookCom.apply(this,arguments);var e;e=this._getElContainer().find('[name="'+a.NAME_USUALLYUSE+'"]');this.__bind(e,"click","UsuallyUse")},_defaultId:null,getDefaultId:function(){return this._defaultId},_setDefaultId:function(e){return this._defaultId=e},moveRangeCheck:function(f,e){var g;if(e==a.MOVEROW_UP){g=this.getFirstRowId()}else{if(e==a.MOVEROW_DOWN){g=this.getLastRowId()}}if(!g){return false}if(b.inArray(g,f)>=0){return false}return true},getFirstRowId:function(){var e=this._getIdList();var f=null;if(e){f=e[0]}return f},getLastRowId:function(){var e=this._getIdList();var f=null;if(e){f=e[e.length-1]}return f},moveRow:function(g,e){if(!g||g.length<1){return}if(this.moveRangeCheck(g,e)!=true){return}var h=this._getIdList();var f;f=this.getMovedArray(h,g,e);this._setIdList(f);this._updateTable()},getMovedArray:function(h,e,f){var g;if(f==a.MOVEROW_UP){g=this._getMovedUpArray(h,e)}else{if(f==a.MOVEROW_DOWN){g=this._getMovedDownArray(h,e)}}return g},_getMovedUpArray:function(g,e){var f=[];g.reverse();try{f=this._getMovedDownArray(g,e)}finally{g.reverse()}f.reverse();return f},_getMovedDownArray:function(p,l){var g=[];var n=[];var e=false;var k=null;for(var h=0;h<p.length;h++){var o=p[h];if(b.inArray(o,l)>=0){if(e==true){n.push(o);continue}e=true;for(var f=h+1;f<p.length;f++){var m=p[f];if(b.inArray(m,l)>=0){continue}k=f;g.push(m);break}n.push(o);continue}if(e){g=g.concat(n);n=[];e=false}if(o==p[k]){continue}g.push(o)}if(e){g=g.concat(n);n=[]}return g},_setIdList:function(f){var h=this._getData();h.idList=f;var g=this._getRows();for(var e=0;e<f.length;e++){var k=f[e];var j=g[k];if(j){j.index=e}}},deleteRowByIds:function(f){for(var e=0;e<f.length;e++){this.deleteRowById(f[e])}this._updateTable()},deleteRowById:function(e){this._setCurRow(null);var g=this._getIdList();var h=[];for(var f=0;f<g.length;f++){var j=g[f];if(j!=e){h.push(j)}}this._setIdList(h)},show:function(){var e=this._getElContainer();e.show()},hide:function(){var e=this._getElContainer();e.hide()},setHeight:function(e){var f=this._getElContainer();f.height(e)},onclickUsuallyUse:function(e,f){var g=this._getRowIdFrom(b(e.target));this._setDefaultId(g)},banpei:null}});a.constructor()})(jQuery);(function(a){var d=neo.core.readyNamespace("neo.denbun.Setting.SettingAddressImportExportList");if(!d){return}var c=neo.denbun;var b=neo.denbun.Setting.SettingAddressImportExportList=new neo.core.Class({classProperties:{MOVEITEM_UP:"up",MOVEITEM_DOWN:"down",constructor:function(){}},properties:{_getElList:function(){return this.setting.elList},_data:null,_getData:function(){return this._data},_setData:function(e){return this._data=e},setting:null,_ajaxLoad:null,_getAjaxLoad:function(){return this._ajaxLoad||this._initAjaxLoad()},_initAjaxLoad:function(){var e=this;var f={getSendData:function(){var h=e._getDataToLoad();return h},onsuccess:this.__closure(this.onsuccessLoad)};if(DENBUN_MODE_XNEO){f.url=c.getUrl(c.CGI_WMAIL_EML)}var g=new c.Ajax(f);g.initialize();return this._ajaxLoad=g},__constructor:function(e){this.setting=e},initialize:function(){this._hook()},_hook:function(){},load:function(f){var e=this._getAjaxLoad();e.sendRequest()},_getDataToLoad:function(){var e={cmd:"addritemseq"};return e},_parseData:function(f){var g={};var e=a(f).children();g.list=this._parseDataList(e);return g},_parseDataList:function(f){var l=this._getDefaultListOrder();var k=new Array(l.length);var e=f.children();for(var j=0;j<l.length;j++){var g=f.children(l[j][0]);if(g.length>0){var h=g.attr("seq")-1;var m={id:l[j][0],text:l[j][1]};k[h]=m}}return k},_update:function(f){this._setData(f);var e=f.list;this._updateList(e)},_updateList:function(e){this._buildElList(e)},_buildElList:function(j){var f=this._getElList();f.empty();for(var g=0;g<j.length;g++){var h=j[g];if(!h){continue}var e=this._buildElItem(h);f.append(e)}},_buildElItem:function(f){var e=a("<option />");e.attr("value",f.id);e.text(f.text);return e},getElSelectedItem:function(){var f=this._getElList();var e=f.children(":selected");return e},getSelectedItemId:function(){var e=this.getElSelectedItem();return e.val()},getItemIdList:function(){var f=this._getElList();var e=f.children();var h=[];for(var g=0;g<e.length;g++){var j=e.eq(g).attr("value");h.push(j)}return h},moveListItem:function(h,g){if(!h){return}if(this.moveRangeCheck(h,g)!=true){return}var e=this.getItemIdList();var f=this._getMovedArray(e,h,g);this._setListOrderByRowIds(f)},moveRangeCheck:function(i,f){var h=this._getElList();var e=h.children();var g=0;for(;g<e.length;g++){if(e.eq(g).attr("value")==i){break}}if(f==b.MOVEITEM_UP){if(g<1){return false}}else{if(f==b.MOVEITEM_DOWN){if(g>=e.length-1){return false}}}return true},_setListOrderByRowIds:function(e){var f=this;var g=function(){var n=0;var q=f._getElList();var p=q.children();var r=[];for(var o=0;o<p.length;o++){r.push(p.eq(o))}for(var o=0;o<e.length;){if(n>=r.length){break}var l=r[n];if(l==null){n++;continue}var h=l.attr("value");if(e[o]==h){n++;o++;continue}for(var m=n+1;m<r.length;m++){var s=r[m];if(s==null){continue}var t=s.attr("value");if(e[o]==t){l.before(s);r[m]=null;break}}o++}};this._updateOrder(e,function(){g()})},_updateOrder:function(f,e){var k={cmd:"addrcmditemseq"};for(var g=0;g<f.length;g++){k[f[g]]=g+1}var h={getSendData:function(){return k},onsuccess:function(){if(e){e()}}};if(DENBUN_MODE_XNEO){h.url=c.getUrl(c.CGI_WMAIL_EML)}var j=new c.Ajax(h);j.initialize();j.sendRequest()},restoreDefault:function(){var f=this._getDefaultListOrder();var g=[];for(var e=0;e<f.length;e++){g.push(f[e][0])}this._setListOrderByRowIds(g)},_getDefaultListOrder:function(){var h=c.getLang();if(h==c.LANG_JA){var f=[["id",c.getText("ＩＤ（システムＩＤ：自動発番）")],["Name",c.getText("氏名")],["Kana",c.getText("ふりがな")],["Mail",c.getText("e-mail")],["TelHand",c.getText("携帯電話")],["homeCountry",c.getText("自宅－国名")],["homeZip",c.getText("自宅－郵便番号")],["homeState",c.getText("自宅－都道府県")],["homeCity",c.getText("自宅－市区町村・番地")],["homeAddress",c.getText("自宅－ビル・マンション名")],["TelHome",c.getText("自宅－TEL")],["Country",c.getText("勤務先－国名")],["Zip",c.getText("勤務先－郵便番号")],["State",c.getText("勤務先－都道府県")],["City",c.getText("勤務先－市区町村・番地")],["Address",c.getText("勤務先－ビル・マンション名")],["Company",c.getText("勤務先－会社名")],["CompanyKana",c.getText("勤務先－会社名ふりがな")],["Tel1",c.getText("勤務先－代表TEL")],["CompanyFax",c.getText("勤務先－代表FAX")],["Post",c.getText("勤務先－役職")],["Office",c.getText("勤務先－事業所")],["Dept1",c.getText("勤務先－部署１")],["Dept2",c.getText("勤務先－部署２")],["Tel2",c.getText("勤務先－部署TEL")],["TelFax",c.getText("勤務先－部署FAX")],["mailprivate",c.getText("個人－e-mail(個人)")],["mailmobile",c.getText("個人－e-mail(携帯)")],["Birthday",c.getText("個人－生年月日")],["Memo",c.getText("個人－備考")]]}else{var f=[["id",c.getText("ＩＤ（システムＩＤ：自動発番）")],["Name",c.getText("氏名")],["Mail",c.getText("e-mail")],["TelHand",c.getText("携帯電話")],["homeCountry",c.getText("自宅－国名")],["homeZip",c.getText("自宅－郵便番号")],["homeState",c.getText("自宅－都道府県")],["homeCity",c.getText("自宅－市区町村・番地")],["homeAddress",c.getText("自宅－ビル・マンション名")],["TelHome",c.getText("自宅－TEL")],["Country",c.getText("勤務先－国名")],["Zip",c.getText("勤務先－郵便番号")],["State",c.getText("勤務先－都道府県")],["City",c.getText("勤務先－市区町村・番地")],["Address",c.getText("勤務先－ビル・マンション名")],["Company",c.getText("勤務先－会社名")],["Tel1",c.getText("勤務先－代表TEL")],["CompanyFax",c.getText("勤務先－代表FAX")],["Post",c.getText("勤務先－役職")],["Office",c.getText("勤務先－事業所")],["Dept1",c.getText("勤務先－部署１")],["Dept2",c.getText("勤務先－部署２")],["Tel2",c.getText("勤務先－部署TEL")],["TelFax",c.getText("勤務先－部署FAX")],["mailprivate",c.getText("個人－e-mail(個人)")],["mailmobile",c.getText("個人－e-mail(携帯)")],["Birthday",c.getText("個人－生年月日")],["Memo",c.getText("個人－備考")]]}if(c.getCurPageName()==c.PAGE_SETTING_ADDRESSIMPORT){var g=0;var e=f.length;for(g=0;g<e;g++){if(f[g][0]=="Name"){f[g][1]=f[g][1]+" (*)"}else{if(f[g][0]=="Kana"){f[g][1]=f[g][1]+" (*)"}}}}return f},_getMovedArray:function(m,l,e){var k=[];for(var h=0;h<m.length;h++){var j=m[h];k.push(j)}var g=null;for(var h=0;h<k.length;h++){var j=k[h];if(j==l){g=h;break}}if(g==null){return}if(e==b.MOVEITEM_UP){if(g<1){return}var f=k[g-1];k[g-1]=k[g];k[g]=f}else{if(e==b.MOVEITEM_DOWN){if(g>=k.length-1){return}var f=k[g+1];k[g+1]=k[g];k[g]=f}}return k},onsuccessLoad:function(f,e,g){var h=this._parseData(f);this._update(h)},__closure:c.__closure,__bind:c.__bind,banpei:null}});b.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.IndexPage");if(!e){return}var d=neo.denbun;var b=d.Setting;var a=neo.denbun.Setting.IndexPage=new neo.core.Class({superClass:d.Page,classProperties:{CLS_INDEX_ITEM:"page-setting_index-item",constructor:function(){}},properties:{_elPageBody:null,_getElPageBody:function(){return this._elPageBody||this._initElPageBody()},_initElPageBody:function(){return this._elPageBody=c("."+a.CLS_INDEX_ITEM+"."+d.Page.CLS_CENTER_ITEM+" ."+d.CLS_COM_CONTENT_BODY+":first")},__constructor:function(){},initialize:function(){if(DENBUN_MODE_XNEO){b._getIndex()._setMailGeneralSettingToForm()}},_initOnOpening:function(){this._showLeft();this._hideRight();b.setScrollTopToLeftPageBody(0);var f=this;setTimeout(function(){f._revertScrolling()},0);this._updateToolbarMenuVisiblity();b.loadSetting()},_revertScrolling:function(){var f=this._getElPageBody();f.scrollTop(0)},_getElOwnItemsLow:function(){return c("."+b.CLS_COM_ITEM+", ."+a.CLS_INDEX_ITEM)},_updateToolbarMenuVisiblity:function(){b.toggleVisibilityOkAndCancelToolbarButton(false);b.toggleVisibilityRemoveToolbarButton(false)},banpei:null}});a.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.VisualSettingPage");if(!e){return}var d=neo.denbun;var a=d.Setting;var b=neo.denbun.Setting.VisualSettingPage=new neo.core.Class({superClass:a.SettingPage,classProperties:{FIELD_NAME_AJAXDDCTRLUSE:"ajaxddctrluse",FIELD_NAME_SVCONFIRM:"svconfirm",FIELD_NAME_SVPERIOD:"svperiod",VAL_AJAXDDCTRLUSE_NONUSE:"0",constructor:function(){}},properties:{_elDDCtrlDataCell:null,_getElDDCtrlDataCell:function(){return this._elDDCtrlDataCell||this._initElDDCtrlDataCell()},_initElDDCtrlDataCell:function(){var f=this._getElForm();return this._elDDCtrlDataCell=f.find(".setting_visual-ddctrluse-data-cell")},_elSavePeriodRow:null,_getElSavePeriodRow:function(){return this._elSavePeriodRow||this._initElSavePeriodRow()},_initElSavePeriodRow:function(){var f=this._getElForm();return this._elSavePeriodRow=f.find(".setting_visual-svconfirm-row")},_getClsThisPage:function(){return"page-setting_visual-item"},_updateToolbarMenuVisiblity:function(){a.toggleVisibilityOkAndCancelToolbarButton(true);a.toggleVisibilityRemoveToolbarButton(false)},_getDataToGetSetting:function(){var f={cmd:"mailgenprivate"};return f},_setToForm:function(g){if(!DENBUN_MODE_XNEO){var f=c(g).children();var h="";h=f.find(b.FIELD_NAME_AJAXDDCTRLUSE).text();this._setToFileDragAndDrop(h);h=f.find(b.FIELD_NAME_SVPERIOD).text();this._setToSavePeriod(h)}a.setResponseToForm(this,g)},_setToFileDragAndDrop:function(h){var f=this._getElInputOf(b.FIELD_NAME_AJAXDDCTRLUSE);var g=this._getElDDCtrlDataCell();if(h){f.attr("disabled",false);g.removeClass("disabled")}else{f.attr("disabled",true);f.val([b.VAL_AJAXDDCTRLUSE_NONUSE]);g.addClass("disabled")}},_setToSavePeriod:function(f){var g=this._getElSavePeriodRow();if(!!f&&f>0){g.show()}else{g.hide()}},banpei:null}});b.constructor()})(jQuery);(function(b){var e=neo.core.readyNamespace("neo.denbun.Setting.BasicSettingPage");if(!e){return}var c=neo.denbun;var a=c.Setting;var d=neo.denbun.Setting.BasicSettingPage=new neo.core.Class({superClass:a.SettingPage,classProperties:{FIELD_NAME_SVCONFIRM:"svconfirm",constructor:function(){}},properties:{_elSavePeriodRow:null,_getElSavePeriodRow:function(){return this._elSavePeriodRow||this._initElSavePeriodRow()},_initElSavePeriodRow:function(){var f=this._getElForm();return this._elSavePeriodRow=f.find(".setting_basic-svconfirm-row")},_elMlOpenTypeRow:null,_getElMlOpenTypeRow:function(){return this._elMlOpenTypeRow||this._initElMlOpenTypeRow()},_initElMlOpenTypeRow:function(){var f=this._getElForm();return this._elMlOpenTypeRow=f.find(".setting_basic-mlopentype-row")},_elSavePeriod:null,_getElSavePeriod:function(){return this._elSavePeriod||this._initElSavePeriod()},_initElSavePeriod:function(){var f=this._getElForm();return this._elSavePeriod=f.find(".setting_basic-svrmail-value")},_getClsThisPage:function(){return"page-setting_basic-item"},_updateToolbarMenuVisiblity:function(){a.toggleVisibilityOkAndCancelToolbarButton(true);a.toggleVisibilityRemoveToolbarButton(false)},_initOnOpening:function(){this._clean();this._getElMlOpenTypeRow().show();var g=this._getElSavePeriod();var f=c.comSetting.getSavePeriod();var i="";if(f==0){i=c.getText("無期限")}else{var h=c.getText("$$ヶ月");i=neo.core.replace(h,f+"")}g.text(i);this.__call("_initOnOpening",arguments)},_getDataToGetSetting:function(){var f={cmd:"mailgenprivate"};return f},_setToForm:function(g){var f=b(g).children();var h="";h=f.find(d.FIELD_NAME_SVCONFIRM).text();this._setToSavePeriod(h);a.setResponseToForm(this,g)},_setToSavePeriod:function(f){var g=this._getElSavePeriodRow();if(f){g.show()}else{g.hide()}},banpei:null}});d.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.SendMistakeSettingPage");if(!e){return}var d=neo.denbun;var a=d.Setting;var b=neo.denbun.Setting.SendMistakeSettingPage=new neo.core.Class({superClass:a.SettingPage,classProperties:{constructor:function(){}},properties:{_elSendRow:null,_getElSendRow:function(){return this._elSendRow||this._initElSendRow()},_initElSendRow:function(){var f=this._getElForm();return this._elSendRow=f.find(".setting_sendmistake-send-row")},_elUndoSendRow:null,_getElUndoSendRow:function(){return this._elUndoSendRow||this._initElUndoSendRow()},_initElUndoSendRow:function(){var f=this._getElForm();return this._elUndoSendRow=f.find(".setting_sendmistake-undosend-row")},_getClsThisPage:function(){return"page-setting_sendmistake-item"},_updateToolbarMenuVisiblity:function(){a.toggleVisibilityOkAndCancelToolbarButton(true);a.toggleVisibilityRemoveToolbarButton(false)},_getDataToGetSetting:function(){var f={cmd:"mailgenprivate"};return f},_setToForm:function(h){var v=c(h).children();var C="";a.setResponseToForm(this,h);if(DENBUN_MODE_XNEO){if(!d.comSetting.getFlgConfirmBeforeSendSetting()){var C=d.comSetting.getConfirmBeforeSendGen();var z=this._getElInputOf("send");z.filter('[value="'+C+'"]').attr("checked",true);z.attr("disabled",true);var l=d.comSetting.isSendConfTargetFrom();var t=this._getElInputOf("sendconffrom");t.attr("checked",l);var A=d.comSetting.isSendConfTargetTo();var K=this._getElInputOf("sendconfto");K.attr("checked",A);var M=d.comSetting.isSendConfTargetCc();var y=this._getElInputOf("sendconfcc");y.attr("checked",M);var m=d.comSetting.isSendConfTargetBcc();var i=this._getElInputOf("sendconfbcc");i.attr("checked",m);var q=d.comSetting.isSendConfTargetPriority();var J=this._getElInputOf("sendconfpriority");J.attr("checked",q);var r=d.comSetting.isSendConfTargetNotify();var o=this._getElInputOf("sendconfnotify");o.attr("checked",r);var B=d.comSetting.isSendConfTargetCharset();var k=this._getElInputOf("sendconfcharset");k.attr("checked",B);var s=d.comSetting.isSendConfTargetSubject();var n=this._getElInputOf("sendconfsubject");n.attr("checked",s);var F=d.comSetting.isSendConfTargetBody();var L=this._getElInputOf("sendconfbody");L.attr("checked",F);var f=d.comSetting.isSendConfTargetAtt();var H=this._getElInputOf("sendconfatt");H.attr("checked",f);var x=(d.comSetting.isSendConfExceptWhiteList()?1:0);var u=this._getElInputOf("exceptwhitelist");u.filter('[value="'+x+'"]').attr("checked",true);var w=(d.comSetting.isSendConfManySend()?1:0);var I=this._getElInputOf("manysend");I.filter('[value="'+w+'"]').attr("checked",true);var g=d.comSetting.getSendConfManySendCount();var D=this._getElInputOf("manysendcount");D.val(g);t.attr("disabled",true);K.attr("disabled",true);y.attr("disabled",true);i.attr("disabled",true);J.attr("disabled",true);o.attr("disabled",true);k.attr("disabled",true);n.attr("disabled",true);L.attr("disabled",true);H.attr("disabled",true);u.attr("disabled",true);I.attr("disabled",true);D.attr("disabled",true)}if(!d.comSetting.getFlgUndoSendSetting()){var E=d.comSetting.getUndoSendTypeGen();var j=this._getElInputOf("undosendtype");j.attr("checked",(E=="1"?true:false));var G=d.comSetting.getUndoSendTimeGen();var p=this._getElInputOf("undosendtime");p.val(G);j.attr("disabled",true);p.attr("disabled",true)}}},_getDataToSetSetting:function(){var f=this.__call("_getDataToSetSetting",arguments);return f},onsuccessGetSetting:function(g,f,h){this.__call("onsuccessGetSetting",arguments);if(!d.comSetting.getFlgConfirmBeforeSendSetting()&&!d.comSetting.getFlgUndoSendSetting()){this._disableOkButton()}},banpei:null}});b.constructor()})(jQuery);(function(b){var e=neo.core.readyNamespace("neo.denbun.Setting.TrushSettingPage");if(!e){return}var c=neo.denbun;var a=c.Setting;var d=neo.denbun.Setting.TrushSettingPage=new neo.core.Class({superClass:a.SettingPage,classProperties:{VAL_DUSTKIND_DELETE:"1",constructor:function(){}},properties:{getDustKind:function(){var f=this._getElForm();return f.find("input[name=dustkind]:checked").val()},getDelDays:function(){var f=this._getElForm();return f.find("input[name=ddeldays]").val()},_getClsThisPage:function(){return"page-setting_trush-item"},_updateToolbarMenuVisiblity:function(){a.toggleVisibilityOkAndCancelToolbarButton(true);a.toggleVisibilityRemoveToolbarButton(false)},_validate:function(){var g=[];var f;if(this._validateDeleteButElapsedDaysIsNothing()){var h=c.getText("経過日数");var i=neo.denbun.getText("$$を入力してください。");f=neo.core.replace(i,h);g.push(f)}if(this._validateElapsedDaysIsNaN()){var h=c.getText("経過日数");var i=neo.denbun.getText("$$に不正な文字が使われています。");f=neo.core.replace(i,h);g.push(f)}return g},_validateDeleteButElapsedDaysIsNothing:function(){if(this.getDustKind()==d.VAL_DUSTKIND_DELETE){if(!this.getDelDays()){return true}}return false},_validateElapsedDaysIsNaN:function(){if(isNaN(this.getDelDays())){return true}return false},_getDataToGetSetting:function(){var f={cmd:"maildusttray"};return f},_setToForm:function(f){a.setResponseToForm(this,f)},banpei:null}});d.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.AccountEditSettingPage");if(!e){return}var d=neo.denbun;var b=d.Setting;var a=neo.denbun.Setting.AccountEditSettingPage=new neo.core.Class({superClass:b.SettingPage,classProperties:{defaults:{Name:"",Mail:"",userid:"",smtpauthuid:""},VAL_DEFAULT_PASSWORD:"***************",FIELD_NAME_USERID:"userid",FIELD_NAME_PASSWORD:"_word",FIELD_NAME_SMTP_AUTH_PASSWORD:"smtpauthpwd",constructor:function(){}},properties:{_elSmtpAuthDataCell:null,_getElSmtpAuthDataCell:function(){return this._elSmtpAuthDataCell||this._initElSmtpAuthDataCell()},_initElSmtpAuthDataCell:function(){var f=this._getElForm();return this._elSmtpAuthDataCell=f.find(".setting_account_edit-smtpauth-data-cell")},_getClsThisPage:function(){return"page-setting_account_edit-item"},_updateToolbarMenuVisiblity:function(){b.toggleVisibilityOkAndCancelToolbarButton(true);b.toggleVisibilityRemoveToolbarButton(false)},_validate:function(){var g=[];var f;if(this._validateEMailIsNothing()){var h=neo.denbun.getText("メールアドレス");var i=neo.denbun.getText("$$を入力してください。");f=neo.core.replace(i,h);g.push(f)}if(this._validateLoginIdIsNothing()){var h=neo.denbun.getText("ユーザーID");var i=neo.denbun.getText("$$を入力してください。");f=neo.core.replace(i,h);g.push(f)}return g},_validateLoginIdIsNothing:function(){var f=this._getElInputOf("userid");var g=f.val();if(g.length<1){return true}return false},_validateEMailIsNothing:function(){var f=this._getElInputOf("Mail");var g=f.val();if(g.length<1){return true}return false},_getDataToGetSetting:function(){var f={cmd:"mailaccountentry"};return f},_getHttpMethod:function(){return"POST"},_setToForm:function(h){var i="";var g=c(h).children();this._setToSmtpAuth();i=g.find(a.FIELD_NAME_USERID).text();if(DNNEO.neo.isSet(i,{blank:false})){this._setPassWordFiled();b.setResponseToForm(this,h);var f=g.find("rstatus");this._setRStatusToForm(f.text());this._setSendRecvLoggingSetting(g)}else{this._setDefaultsToForm()}},_elRStatus:null,_getElRStatus:function(){return this._elRStatus||this._initElRStatus()},_initElRStatus:function(){var f=this._getElForm();return this._elRStatus=f.find(".setting_account_edit-rstatus")},_setRStatusToForm:function(g){var f=this._getElRStatus();var h=neo.core.escape(g).replace(/(\r\n|\r|\n)/g,"<br />");f.html(h)},_setSendRecvLoggingSetting:function(n){var h=this._getElForm();var l=h.find(".setting_account_recvlogview");var o=h.find(".setting_account_sendlogview");l.text("");o.text("");if(n){var g=d.getText("ログをダウンロード");var m=n.find("recvlogurl").text();var j=n.find("recvlogtime").text();var k=n.find("sendlogurl").text();var f=n.find("sendlogtime").text();var i="";var p="";if(m!=""){i='<a href="'+m+'" title="'+g+'" target="_blank">'+g+"</a> ("+j+")"}if(k!=""){p='<a href="'+k+'" title="'+g+'" target="_blank">'+g+"</a> ("+f+")"}l.html(i);o.html(p)}},_setToSmtpAuth:function(){var h=d.comSetting.isSmtpAuthentication();var f=this._getElSmtpAuthDataCell();var g=f.find(":input");if(h){g.attr("disabled",false);f.removeClass("disabled");f.closest("tr").show()}else{g.attr("disabled",true);f.addClass("disabled");f.closest("tr").hide()}},_setDefaultsToForm:function(){this._setToSmtpAuth();var f=this._getDefaults();this._setRStatusToForm(f.rstatus);this._setSendRecvLoggingSetting();b.setFormValues(this,f)},_getDefaults:function(){var f=d.comSetting.getAccountNameDef();var g=d.comSetting.getUserId();var i=d.comSetting.getUserMail();var h={Name:f,Mail:i,userid:g,rstatus:"",recvlog:"0",sendlog:"0"};var j=c.extend(a.defaults,h);return j},_setPassWordFiled:function(){var f=a.VAL_DEFAULT_PASSWORD;element=this._getElInputOf(a.FIELD_NAME_PASSWORD);element.val(f);element=this._getElInputOf(a.FIELD_NAME_SMTP_AUTH_PASSWORD);element.val(f)},banpei:null}});a.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.NotificationSettingPage");if(!e){return}var d=neo.denbun;var a=d.Setting;var b=neo.denbun.Setting.NotificationSettingPage=new neo.core.Class({superClass:a.SettingPage,classProperties:{constructor:function(){}},properties:{_getClsThisPage:function(){return"page-setting_notification-item"},_updateToolbarMenuVisiblity:function(){a.toggleVisibilityOkAndCancelToolbarButton(true);a.toggleVisibilityRemoveToolbarButton(false)},_getDataToGetSetting:function(){var f={cmd:"mailnotification"};return f},_setToForm:function(f){a.setResponseToForm(this,f)},banpei:null}});b.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.SignSettingPage");if(!e){return}var d=neo.denbun;var a=d.Setting;var b=neo.denbun.Setting.SignSettingPage=new neo.core.Class({superClass:a.SettingPage,classProperties:{constructor:function(){}},properties:{_elNew:null,_getElNew:function(){return this._elNew||this._initElNew()},_initElNew:function(){var f=this._getElForm();return this._elNew=f.find(".setting_sign-new")},_elEdit:null,_getElEdit:function(){return this._elEdit||this._initElEdit()},_initElEdit:function(){var f=this._getElForm();return this._elEdit=f.find(".setting_sign-edit")},_elDelete:null,_getElDelete:function(){return this._elDelete||this._initElDelete()},_initElDelete:function(){var f=this._getElForm();return this._elDelete=f.find(".setting_sign-delete")},_elUp:null,_getElUp:function(){return this._elUp||this._initElUp()},_initElUp:function(){var f=this._getElForm();return this._elUp=f.find(".setting_sign-up")},_elDown:null,_getElDown:function(){return this._elDown||this._initElDown()},_initElDown:function(){var f=this._getElForm();return this._elDown=f.find(".setting_sign-down")},_table:null,_getTable:function(){return this._table||this._initTable()},_initTable:function(){var f=new b.Table();f.initialize();return this._table=f},_hook:function(){var f;this.__call("_hook",arguments);f=this._getElNew();this.__bind(f,"click","New");f=this._getElEdit();this.__bind(f,"click","Edit");f=this._getElDelete();this.__bind(f,"click","Delete");f=this._getElUp();this.__bind(f,"click","Up");f=this._getElDown();this.__bind(f,"click","Down")},_getClsThisPage:function(){return"page-setting_sign-item"},_updateToolbarMenuVisiblity:function(){a.toggleVisibilityOkAndCancelToolbarButton(true);a.toggleVisibilityRemoveToolbarButton(false)},_getDataToSetSetting:function(){var f={};f.cmd="mailcmdsignlist";var g=this._getTable();var h=g.getDefaultId();if(h){f.id=h}return f},_clean:function(){this.__call("_clean",arguments);var f=this._getTable();f.load()},_load:function(){this._enableOkButton()},startCreatingSign:function(){d.openPage(d.PAGE_SETTING_SIGN_EDIT)},startEditingSign:function(){var f=this._getSelectedSignId();if(!f){var h=d.getText("対象署名を選択してください。");d.alert(h);return}var g={id:f};d.openPage(d.PAGE_SETTING_SIGN_EDIT,g)},deleteSign:function(){var h=this._getTable();var f=h.getSelectedIdList();if(f.length<1){var g=d.getText("対象署名を選択してください。");d.alert(g);return}var g=d.getText("選択した署名を削除してよろしいですか？");d.confirm(g,{onok:function(){a.deleteSign(f,function(){h.deleteRowByIds(f)})}})},moveSign:function(f){var j=this._getTable();var h=j.getSelectedIdList();if(h.length<1){var i=d.getText("対象署名を選択してください。");d.alert(i);return}if(j.moveRangeCheck(h,f)){var g={getSendData:function(){var l={cmd:"mailsignupdown",id:h,proc:f};return l},onsuccess:function(){j.moveRow(h,f)}};var k=new d.Ajax(g);k.initialize();k.sendRequest();d.app.setSettingModified()}},_getSelectedSignId:function(){var f=this._getTable();if(f.getSelectedCount()>0){var g=f.getCurId();return g}return null},onresize:function(g){var f=this._getTable();a.updateTableHeight(this,f,-7);f.onresize(g)},onclickNew:function(f,g){this.startCreatingSign()},onclickEdit:function(f,g){this.startEditingSign()},onclickDelete:function(f,g){this.deleteSign()},onclickUp:function(f,g){this.moveSign(a.SettingTable.MOVEROW_UP)},onclickDown:function(f,g){this.moveSign(a.SettingTable.MOVEROW_DOWN)},banpei:null}});b.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.SignSettingPage.Table");if(!e){return}var d=neo.denbun;var b=d.Setting;var a=neo.denbun.Setting.SignSettingPage.Table=new neo.core.Class({superClass:b.SettingTable,classProperties:{},properties:{_getElContainerLow:function(){return c("#setting_sign-table-container")},_updateData:function(f){if(f){this._setDefaultId(f.signdefault)}},_buildTableCellsHtml:function(j,k,h){var f=this._getTableCellEndHtml();var g=0;var i=k.data;j.push(this._getTableCellStartHtml(["setting_sign-table-cell-usuallyuse"],h[g++]));j.push('<label class="');j.push(b.SettingTable.CLS_USUALLYUSE_LABEL);j.push('"><input type="radio" name="');j.push(b.SettingTable.NAME_USUALLYUSE);j.push('"');if(i.id==this.getDefaultId()){j.push(" checked")}j.push(" /></label>");j.push(f);j.push(this._getTableCellStartHtml(["setting_sign-table-cell-signname",d.Table.CLS_CELL_FLEXIBLE],h[g++]));j.pushText(i.Name);j.push(f)},_getDataToLoad:function(){var f=this._getConditions();f.cmd="mailsignlist";return f},open:function(){var f=this.getCurId();d.openPage(d.PAGE_SETTING_SIGN_EDIT,{id:f})},banpei:null}});a.constructor()})(jQuery);(function(b){var e=neo.core.readyNamespace("neo.denbun.Setting.SignEditSettingPage");if(!e){return}var d=neo.denbun;var a=d.Setting;var c=neo.denbun.Setting.SignEditSettingPage=new neo.core.Class({superClass:a.SettingPage,classProperties:{defaults:{Name:"",sign:""},constructor:function(){}},properties:{_signId:null,_getSignId:function(){return this._signId||this._initSignId()},_initSignId:function(){return this._signId=d.getParameter("id")},_getClsThisPage:function(){return"page-setting_sign_edit-item"},_updateToolbarMenuVisiblity:function(){a.toggleVisibilityOkAndCancelToolbarButton(true)},_validate:function(){var g=[];var f;if(this._validateSignNameIsNothing()){var h=neo.denbun.getText("署名名称");var i=neo.denbun.getText("$$を入力してください。");f=neo.core.replace(i,h);g.push(f)}return g},_validateSignNameIsNothing:function(){var f=this._getElInputOf("Name");var g=f.val();if(g.length<1){return true}return false},_getDataToGetSetting:function(){var f={cmd:"mailsignentry",id:this._getSignId()};return f},_getHttpMethod:function(){return"POST"},_getDataToSetSetting:function(){var f=this.__call("_getDataToSetSetting",arguments);if(this._getSignId()){f.id=this._getSignId()}return f},cancel:function(){d.openPage(d.PAGE_SETTING_SIGN,null,false)},_load:function(){this._initSignId();this._setPageTitleToPage();this._setRemoveButtonVisibility();if(this._getSignId()){this.__call("_load",arguments)}else{this._setDefaultsToForm();this._enableOkButton()}},_setPageTitleToPage:function(){var f="";if(this._getSignId()){f=neo.denbun.getText("署名の変更")}else{f=neo.denbun.getText("署名の登録")}this._setPageTitle(f)},_setRemoveButtonVisibility:function(){if(this._getSignId()){this._showRemoveButton()}else{this._hideRemoveButton()}},_setDefaultsToForm:function(){var f=c.defaults;a.setFormValues(this,f)},_setToForm:function(f){a.setResponseToForm(this,f)},remove:function(){var g=d.getText("削除してよろしいですか？");var f=this;d.confirm(g,{onok:function(){var h=f._getSignId();a.deleteSign(h,function(){d.openPage(d.PAGE_SETTING_SIGN)})}})},onsuccessSetSetting:function(){d.openPage(d.PAGE_SETTING_SIGN)},banpei:null}});c.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.FilterSettingPage");if(!e){return}var d=neo.denbun;var b=d.Setting;var a=neo.denbun.Setting.FilterSettingPage=new neo.core.Class({superClass:b.SettingPage,classProperties:{constructor:function(){}},properties:{_elNew:null,_getElNew:function(){return this._elNew||this._initElNew()},_initElNew:function(){var f=this._getElForm();return this._elNew=f.find(".setting_filter-new")},_elEdit:null,_getElEdit:function(){return this._elEdit||this._initElEdit()},_initElEdit:function(){var f=this._getElForm();return this._elEdit=f.find(".setting_filter-edit")},_elDelete:null,_getElDelete:function(){return this._elDelete||this._initElDelete()},_initElDelete:function(){var f=this._getElForm();return this._elDelete=f.find(".setting_filter-delete")},_elUp:null,_getElUp:function(){return this._elUp||this._initElUp()},_initElUp:function(){var f=this._getElForm();return this._elUp=f.find(".setting_filter-up")},_elDown:null,_getElDown:function(){return this._elDown||this._initElDown()},_initElDown:function(){var f=this._getElForm();return this._elDown=f.find(".setting_filter-down")},_table:null,_getTable:function(){return this._table||this._initTable()},_initTable:function(){var f=new a.Table();f.initialize();return this._table=f},_hook:function(){var f;this.__call("_hook",arguments);f=this._getElNew();this.__bind(f,"click","New");f=this._getElEdit();this.__bind(f,"click","Edit");f=this._getElDelete();this.__bind(f,"click","Delete");f=this._getElUp();this.__bind(f,"click","Up");f=this._getElDown();this.__bind(f,"click","Down")},_getClsThisPage:function(){return"page-setting_filter-item"},_clean:function(){this.__call("_clean",arguments);var f=this._getTable();f.load()},_load:function(){this._enableOkButton()},startCreatingFilter:function(){d.openPage(d.PAGE_SETTING_FILTER_EDIT)},startEditingFilter:function(){var f=this._getSelectedFilterId();if(!f){var h=d.getText("対象フィルタを選択してください。");d.alert(h);return}var g={id:f};d.openPage(d.PAGE_SETTING_FILTER_EDIT,g)},deleteFilter:function(){var h=this._getTable();var f=h.getSelectedIdList();if(f.length<1){var g=d.getText("対象フィルタを選択してください。");d.alert(g);return}var g=d.getText("選択したフィルタを削除してよろしいですか？");d.confirm(g,{onok:function(){b.deleteFilter(f,function(){h.deleteRowByIds(f)})}})},moveFilter:function(f){var j=this._getTable();var h=j.getSelectedIdList();if(h.length<1){var i=d.getText("対象フィルタを選択してください。");d.alert(i);return}if(j.moveRangeCheck(h,f)){var g={getSendData:function(){var l={cmd:"mailfilterupdown",id:h,proc:f};return l},onsuccess:function(){j.moveRow(h,f)}};var k=new d.Ajax(g);k.initialize();k.sendRequest();d.app.setSettingModified()}},_getSelectedFilterId:function(){var f=this._getTable();if(f.getSelectedCount()>0){var g=f.getCurId();return g}return null},onresize:function(g){var f=this._getTable();b.updateTableHeight(this,f,-12);f.onresize(g)},onclickNew:function(f,g){this.startCreatingFilter()},onclickEdit:function(f,g){this.startEditingFilter()},onclickDelete:function(f,g){this.deleteFilter()},onclickUp:function(f,g){this.moveFilter(b.SettingTable.MOVEROW_UP)},onclickDown:function(f,g){this.moveFilter(b.SettingTable.MOVEROW_DOWN)},banpei:null}});a.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.FilterSettingPage.Table");if(!e){return}var d=neo.denbun;var b=d.Setting;var a=neo.denbun.Setting.FilterSettingPage.Table=new neo.core.Class({superClass:b.SettingTable,classProperties:{VAL_ENABLE_DISABLE:"0",VAL_ENABLE_ENABLE:"1",VAL_TIMING_AUTO:"1",VAL_TIMING_MANUAL:"2"},properties:{_getElContainerLow:function(){return c("#setting_filter-table-container")},_buildTableCellsHtml:function(j,k,h){var f=this._getTableCellEndHtml();var g=0;var i=k.data;j.push(this._getTableCellStartHtml(["setting_filter-table-cell-filtername",d.Table.CLS_CELL_FLEXIBLE],h[g++]));j.pushText(i.Name);j.push(f);j.push(this._getTableCellStartHtml(["setting_filter-table-cell-enable"],h[g++]));j.pushText((i.effect==a.VAL_ENABLE_DISABLE?d.getText("無効"):d.getText("有効")));j.push(f);j.push(this._getTableCellStartHtml(["setting_filter-table-cell-timing"],h[g++]));j.pushText((i.ftype==a.VAL_TIMING_AUTO?d.getText("自動"):d.getText("手動")));j.push(f)},_getDataToLoad:function(){var f=this._getConditions();f.cmd="mailfilter";return f},open:function(){var f=this.getCurId();d.openPage(d.PAGE_SETTING_FILTER_EDIT,{id:f})},banpei:null}});a.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.FilterEditSettingPage");if(!e){return}var d=neo.denbun;var b=d.Setting;var a=neo.denbun.Setting.FilterEditSettingPage=new neo.core.Class({superClass:b.SettingPage,classProperties:{defaults:{Name:"",effect:"1",ftype:"1",fvalue:"",fromeffect1:"",fromfrange1:"0",fromfvalue1:"",toeffect2:"",tofrange2:"0",tofvalue2:"",subjecteffect3:"",subjectfrange3:"0",subjectfvalue3:"",bodyeffect4:"",bodyfrange4:"0",bodyfvalue4:"",proc:"2",fid:"",forwardto:""},VAL_FILTER_ACTION_FOWARD:"2",VAL_FILTER_ACTION_MOVE_TO_SELECTED_FOLDER:"1",constructor:function(){}},properties:{_filterId:null,_getFilterId:function(){return this._filterId||this._initFilterId()},_initFilterId:function(){return this._filterId=d.getParameter("id")},_folders:null,_getFolders:function(){return this._folders||this._initFolders()},_initFolders:function(){var g={page:this};var f=new a.Folders(g);f.initialize();return this._folders=f},_dlgFolder:null,_getDlgFolder:function(){return this._dlgFolder||this._initDlgFolder()},_initDlgFolder:function(){var f={content:c("#dlg-setting_filter_edit-folder"),title:d.getText("フォルダ選択"),onopen:this.__closure(this._updateDlgFolder),onok:this.__closure(this._selectedIdFromFolder)};var g=new d.Dialog(f);g.initialize();return this._dlgFolder=g},_elAuto:null,_getElAuto:function(){return this._elAuto||this._initElAuto()},_initElAuto:function(){return this._elAuto=this._getElInputOf("ftype").filter('[value="1"]')},_elManual:null,_getElManual:function(){return this._elManual||this._initElManual()},_initElManual:function(){return this._elManual=this._getElInputOf("ftype").filter('[value="2"]')},_elSelectFolder:null,_getElSelectFolder:function(){return this._elSelectFolder||this._initElSelectFolder()},_initElSelectFolder:function(){var f=this._getElForm();return this._elSelectFolder=f.find(".setting_filter_edit-select_folder")},_elFolderId:null,_getElFolderId:function(){return this._elFolderId||this._initElFolderId()},_initElFolderId:function(){return this._elFolderId=this._getElInputOf("fid")},_elFolderName:null,_getElFolderName:function(){return this._elFolderName||this._initElFolderName()},_initElFolderName:function(){var f=this._getElForm();return this._elFolderName=f.find(".setting_filter_edit-select_folder_name")},_hook:function(){var f;this.__call("_hook",arguments);f=this._getElInputOf("proc");this.__bind(f,"click","Proc");f=this._getElSelectFolder();this.__bind(f,"click","SelectFolder")},_getClsThisPage:function(){return"page-setting_filter_edit-item"},_updateToolbarMenuVisiblity:function(){b.toggleVisibilityOkAndCancelToolbarButton(true)},_validate:function(){var g=[];var f;if(this._validateFilterNameIsNothing()){var h=neo.denbun.getText("フィルタ名");var i=neo.denbun.getText("$$を入力してください。");f=neo.core.replace(i,h);g.push(f)}if(this._validateKeywordsIsNothing()){var h;if(DENBUN_MODE_XNEO){h=neo.denbun.getText("条件")}else{h=neo.denbun.getText("文言")}var i=neo.denbun.getText("$$を入力してください。");f=neo.core.replace(i,h);g.push(f)}if(this._validateActionIsForwardAndForwadToIsNothing()){var h=neo.denbun.getText("転送先アドレス");var i=neo.denbun.getText("$$を入力してください。");f=neo.core.replace(i,h);g.push(f)}return g},_validateFilterNameIsNothing:function(){var f=this._getElInputOf("Name");var g=f.val();if(g.length<1){return true}return false},_validateKeywordsIsNothing:function(){if(DENBUN_MODE_XNEO){var f=this._getElForm();var l=f.find(".setting_filter_edit-fvalue-input");var j=l.length;for(var h=0;h<j;h++){var g=l.eq(h);var k=g.val();if(k.length>0){return false}}return true}else{var g=this._getElInputOf("fvalue");var k=g.val();if(k.length<1){return true}return false}},_validateActionIsForwardAndForwadToIsNothing:function(){var f=this._getElInputOf("proc").filter(":checked");var g=f.val();if(g==a.VAL_FILTER_ACTION_FOWARD){var f=this._getElInputOf("forwardto");var g=f.val();if(g.length<1){return true}}return false},_getDataToGetSetting:function(){var f={cmd:"mailfilterentry",id:this._getFilterId()};return f},_getDataToSetSetting:function(){var f=this.__call("_getDataToSetSetting",arguments);if(this._getFilterId()){f.id=this._getFilterId()}return f},cancel:function(){d.openPage(d.PAGE_SETTING_FILTER,null,false)},_load:function(){this._initFilterId();this._setPageTitleToPage();this._setRemoveButtonVisibility();this._setMailGeneralSettingToForm();if(this._getFilterId()){this.__call("_load",arguments)}else{this._setDefaultsToForm();this._enableOkButton();this._setFolderName("")}},_setPageTitleToPage:function(){var f="";if(this._getFilterId()){f=neo.denbun.getText("フィルタの変更")}else{f=neo.denbun.getText("フィルタの登録")}this._setPageTitle(f)},_setRemoveButtonVisibility:function(){if(this._getFilterId()){this._showRemoveButton()}else{this._hideRemoveButton()}},_setMailGeneralSettingToForm:function(){var h={};var g=d.comSetting.isAllowedToFilterTransfer();h=this._getElInputOf("proc");var j=h.filter("[value="+a.VAL_FILTER_ACTION_FOWARD+"]");var f=j.closest("li");var i=this._getElInputOf("forwardto");if(g){f.removeClass("disabled");j.attr("disabled",false);i.attr("disabled",false)}else{f.addClass("disabled");j.attr("disabled",true);i.attr("disabled",true)}},_setDefaultsToForm:function(){var g=a.defaults;var f=d.comSetting.isAllowedToFilterTransfer();if(f){g.proc=a.VAL_FILTER_ACTION_FOWARD}else{g.proc=a.VAL_FILTER_ACTION_MOVE_TO_SELECTED_FOLDER}b.setFormValues(this,g);this._setAmongTiming()},_setToForm:function(i){b.setResponseToForm(this,i);var j=c(i);var n=j.children("result");var q=n.children("conditions");var p=q.children("from");var f=q.children("to");var m=q.children("subject");var l=q.children("body");var o=n.children("proc");var k={fromeffect1:p.attr("effect"),fromfrange1:p.attr("range")||"0",toeffect2:f.attr("effect"),tofrange2:f.attr("range")||"0",subjecteffect3:m.attr("effect"),subjectfrange3:m.attr("range")||"0",bodyeffect4:l.attr("effect"),bodyfrange4:l.attr("range")||"0",proc:o.attr("val"),fid:o.attr("fid"),forwardto:o.attr("forwardto")};if(DENBUN_MODE_XNEO){k.fromfvalue1=p.attr("value");k.tofvalue2=f.attr("value");k.subjectfvalue3=m.attr("value");k.bodyfvalue4=l.attr("value")}b.setFormValues(this,k);var g=this._getFolderId();if(g){var h=this._getFolders();var r=this;h.update(function(){r._updateFolderName()})}else{if(g==""){this._setFolderName("")}}this._setAmongTiming()},_updateFolderName:function(){var g=this._getFolders();var f=this._getFolderId();var h=g.getNameOf(f);if(!h){h=""}this._setFolderName(h)},_setAmongTiming:function(){var g=this._getElInputOf("proc").filter(":checked");var j=g.val();var i=this._getElAuto();var h=this._getElManual();var f=h.parent();if(j==a.VAL_FILTER_ACTION_FOWARD){i.attr("checked",true);h.attr("disabled",true);f.addClass(d.CLS_DISABLED)}else{h.attr("disabled",false);f.removeClass(d.CLS_DISABLED)}},remove:function(){var g=d.getText("削除してよろしいですか？");var f=this;d.confirm(g,{onok:function(){var h=f._getFilterId();b.deleteFilter(h,function(){d.openPage(d.PAGE_SETTING_FILTER)})}})},_selectFolder:function(){var f=this._getDlgFolder();f.open()},_updateDlgFolder:function(h){var f=this;var g=this._getFolders();g.update(function(){var i=f._getFolderId();if(i){g.select(null);g.select(i)}})},_selectedIdFromFolder:function(){var g=this._getErrorToSelectFolder();if(g){this._setFolderId(null);this._updateFolderName();return false}var i=this._getFolders();var f=i.getCurNodeId();this._setFolderId(f);this._updateFolderName();if(DENBUN_MODE_XNEO){var h=this._getElInputOf("proc");h.filter("[value="+a.VAL_FILTER_ACTION_MOVE_TO_SELECTED_FOLDER+"]").attr("checked",true);this._setAmongTiming()}},_getErrorToSelectFolder:function(){var h=null;var i=this._getFolders();var f=i.getCurNodeId();var g=i.getElNodeOf(f);if(i.isCannotSelectedFolder(g)){return true}return h},_getFolderId:function(){var f=this._getElFolderId();return f.val()},_setFolderId:function(g){var f=this._getElFolderId();f.val(g)},_setFolderName:function(g){var f=this._getElFolderName();f.text(g)},onsuccessSetSetting:function(){d.openPage(d.PAGE_SETTING_FILTER)},onclickProc:function(f,g){this._setAmongTiming()},onclickSelectFolder:function(f,g){f.preventDefault();this._selectFolder()},banpei:null}});a.constructor()})(jQuery);(function(c){var f=neo.core.readyNamespace("neo.denbun.Setting.FilterEditSettingPage.Folders");if(!f){return}var e=neo.denbun;var d=e.Tree;var b=e.Setting;var a=neo.denbun.Setting.FilterEditSettingPage.Folders=new neo.core.Class({superClass:e.Tree,classProperties:{CLS_ACCOUNT:"mail-folder-node-account",CLS_RECEIVED:"mail-folder-node-received",CLS_SENT:"mail-folder-node-sent",CLS_TRASH:"mail-folder-node-trash",CLS_DRAFT:"mail-folder-node-draft",DATA_ACCOUNT_ID:"data-aid",KEY_NODE_TYPE:"sysid",ID_ROOT:"",NODE_TYPE_ACCOUNT:"0",NODE_TYPE_RECEIVED:"1",NODE_TYPE_SENT:"2",NODE_TYPE_TRASH:"3",NODE_TYPE_DRAFT:"4",NODE_TYPE_OTHER:"9",constructor:function(){}},properties:{_callbackForUpdating:null,_getCallbackForUpdating:function(){return this._callbackForUpdating},_setCallbackForUpdating:function(g){return this._callbackForUpdating=g},initialize:function(){d.hook()},_getElContainerLow:function(){return c("#setting_filter_edit-folder")},_getSendDataToLoad:function(){var g={cmd:"mailfolders"};return g},_openFirstNode:function(){var g=a.ID_ROOT;this.open(g);this.select(null)},_parseResponse:function(i){var g=this.__call("_parseResponse",arguments);var h=this._buildRootNode(g);return h},_buildRootNode:function(g){var j=a.ID_ROOT;var h=this._createTree();var i={aid:j,children:g,id:j,Name:e.getText("ウェブメールIMAP")};i[a.KEY_NODE_TYPE]=a.NODE_TYPE_ACCOUNT;h.add(j,i);return h},_buildElNodeLow:function(k){var h=k[a.KEY_NODE_TYPE];var j;switch(h){case a.NODE_TYPE_ACCOUNT:j=this._buildElAccountNode(k);break;case a.NODE_TYPE_TRASH:j=this._buildElTrashNode(k);break;default:j=this.__call("_buildElNodeLow",arguments)}var g=this._getClsNodeType(k);j.addClass(g);if(this.isCannotSelectedFolder(j)){var i=this._getElLinkFrom(j);i.addClass(e.CLS_DISABLED)}return j},_buildElAccountNode:function(h){var g=this.__call("_buildElNodeLow",arguments);g.attr(d.DATA_ID,h.id).attr(a.DATA_ACCOUNT_ID,h.aid);return g},_buildElTrashNode:function(h){var g=this.__call("_buildElNodeLow",arguments);return g},_getClsNodeType:function(i){var h=i[a.KEY_NODE_TYPE];var g;switch(h){case a.NODE_TYPE_ACCOUNT:g=a.CLS_ACCOUNT;break;case a.NODE_TYPE_RECEIVED:g=a.CLS_RECEIVED;break;case a.NODE_TYPE_SENT:g=a.CLS_SENT;break;case a.NODE_TYPE_TRASH:g=a.CLS_TRASH;break;case a.NODE_TYPE_DRAFT:g=a.CLS_DRAFT;break}return g},_addNode:function(h){if(this._isAccountNode(h)){return}var g=this._getNodes();var i=this._getNodeId(h);g.set(i,h)},_getNodeId:function(g){var h;if(this._isAccountNode(g)){h=g.aid}else{h=g.id}return h},_isAccountNode:function(g){return(g[a.KEY_NODE_TYPE]==a.NODE_TYPE_ACCOUNT)},update:function(g){this._setCallbackForUpdating(g);this._clean();this._load()},_clean:function(){var g=this.getElContainer();g.empty();this._initNodes()},isCannotSelectedFolder:function(g){return(g.hasClass(a.CLS_ACCOUNT)||g.hasClass(a.CLS_RECEIVED)||g.hasClass(a.CLS_DRAFT))},onsuccessLoad:function(h,g,i){this._clean();this.__call("onsuccessLoad",arguments);this._openFirstNode();var j=this._getCallbackForUpdating();if(typeof j=="function"){j()}},__bind:e.__bind,banpei:null}});a.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.JunkMailSettingPage");if(!e){return}var d=neo.denbun;var a=d.Setting;var b=neo.denbun.Setting.JunkMailSettingPage=new neo.core.Class({superClass:a.SettingPage,classProperties:{constructor:function(){}},properties:{_elNew:null,_getElNew:function(){return this._elNew||this._initElNew()},_initElNew:function(){var f=this._getElForm();return this._elNew=f.find(".setting_junkmail-new")},_elEdit:null,_getElEdit:function(){return this._elEdit||this._initElEdit()},_initElEdit:function(){var f=this._getElForm();return this._elEdit=f.find(".setting_junkmail-edit")},_elDelete:null,_getElDelete:function(){return this._elDelete||this._initElDelete()},_initElDelete:function(){var f=this._getElForm();return this._elDelete=f.find(".setting_junkmail-delete")},_table:null,_getTable:function(){return this._table||this._initTable()},_initTable:function(){var f=this;var g={onloaded:function(){f.onloadedTable()}};var h=new b.Table(g);h.initialize();return this._table=h},_hook:function(){var f;this.__call("_hook",arguments);f=this._getElNew();this.__bind(f,"click","New");f=this._getElEdit();this.__bind(f,"click","Edit");f=this._getElDelete();this.__bind(f,"click","Delete")},_getClsThisPage:function(){return"page-setting_junkmail-item"},_updateToolbarMenuVisiblity:function(){a.toggleVisibilityOkAndCancelToolbarButton(true);a.toggleVisibilityRemoveToolbarButton(false)},_getDataToSetSetting:function(){var h={};h.cmd="mailcmdtrouble";var g=this._getElInputOf("proc");var f=g.val();h.proc=f;return h},_clean:function(){this.__call("_clean",arguments);var f=this._getTable();f.load()},_load:function(){this._enableOkButton()},startCreatingJunkSetting:function(){d.openPage(d.PAGE_SETTING_JUNKMAIL_EDIT)},startEditingJunkSetting:function(){var f=this._getSelectedJunkSettingId();if(!f){var h=d.getText("対象行を選択してください。");d.alert(h);return}var g={id:f};d.openPage(d.PAGE_SETTING_JUNKMAIL_EDIT,g)},deleteJunkSetting:function(){var h=this._getTable();var f=h.getSelectedIdList();if(f.length<1){var g=d.getText("対象行を選択してください。");d.alert(g);return}var g=d.getText("選択した迷惑メール設定を削除してよろしいですか？");d.confirm(g,{onok:function(){a.deleteJunkSetting(f,function(){h.deleteRowByIds(f)})}})},_getSelectedJunkSettingId:function(){var f=this._getTable();if(f.getSelectedCount()>0){var g=f.getCurId();return g}return null},_setJunkMailProcToForm:function(f){var g=this._getElInputOf("proc");g.val(f)},onresize:function(g){var f=this._getTable();a.updateTableHeight(this,f,-7);f.onresize(g)},onloadedTable:function(){var g=this._getTable();var f=g.getJunkMailProc();this._setJunkMailProcToForm(f)},onclickNew:function(f,g){this.startCreatingJunkSetting()},onclickEdit:function(f,g){this.startEditingJunkSetting()},onclickDelete:function(f,g){this.deleteJunkSetting()},banpei:null}});b.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.JunkMailSettingPage.Table");if(!e){return}var d=neo.denbun;var b=d.Setting;var a=neo.denbun.Setting.JunkMailSettingPage.Table=new neo.core.Class({superClass:b.SettingTable,classProperties:{VAL_TASK_FORCEDELETE:"1",VAL_TASK_DELETEEXCLUDED:"2"},properties:{_getElContainerLow:function(){return c("#setting_junkmail-table-container")},_updateData:function(f){if(f){if(this.setting.onloaded){this.setting.onloaded()}}},_buildTableCellsHtml:function(j,k,h){var f=this._getTableCellEndHtml();var g=0;var i=k.data;j.push(this._getTableCellStartHtml(["setting_junkmail-table-cell-subject",d.Table.CLS_CELL_FLEXIBLE],h[g++]));j.pushText(i.subject);j.push(f);j.push(this._getTableCellStartHtml(["setting_junkmail-table-cell-task"],h[g++]));j.pushText((i.type==a.VAL_TASK_FORCEDELETE?d.getText("強制削除"):d.getText("削除対象外")));j.push(f)},_getDataToLoad:function(){var f=this._getConditions();f.cmd="mailtrouble";return f},open:function(){var f=this.getCurId();d.openPage(d.PAGE_SETTING_JUNKMAIL_EDIT,{id:f})},getJunkMailProc:function(){var f=this._getData();return f.proc},banpei:null}});a.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.JunkMailEditSettingPage");if(!e){return}var d=neo.denbun;var b=d.Setting;var a=neo.denbun.Setting.JunkMailEditSettingPage=new neo.core.Class({superClass:b.SettingPage,classProperties:{defaults:{subject:"",type:"1"},constructor:function(){}},properties:{_junkSettingId:null,_getJunkSettingId:function(){return this._junkSettingId||this._initJunkSettingId()},_initJunkSettingId:function(){return this._junkSettingId=d.getParameter("id")},_getClsThisPage:function(){return"page-setting_junkmail_edit-item"},_updateToolbarMenuVisiblity:function(){b.toggleVisibilityOkAndCancelToolbarButton(true)},_validate:function(){var g=[];var f;if(this._mailAddressDomainIsNothing()){var h=neo.denbun.getText("メールアドレス/ドメイン");var i=neo.denbun.getText("$$を入力してください。");f=neo.core.replace(i,h);g.push(f)}return g},_mailAddressDomainIsNothing:function(){var f=this._getElInputOf("subject");var g=f.val();if(g.length<1){return true}return false},_getDataToGetSetting:function(){var f={cmd:"mailtroubleentry",id:this._getJunkSettingId()};return f},_getDataToSetSetting:function(){var f=this.__call("_getDataToSetSetting",arguments);if(this._getJunkSettingId()){f.id=this._getJunkSettingId()}return f},_setToForm:function(f){b.setResponseToForm(this,f)},cancel:function(){d.openPage(d.PAGE_SETTING_JUNKMAIL,null,false)},_load:function(){this._initJunkSettingId();this._setPageTitleToPage();this._setRemoveButtonVisibility();if(this._getJunkSettingId()){this.__call("_load",arguments)}else{this._setDefaultsToForm();this._enableOkButton()}},_setPageTitleToPage:function(){var f="";if(this._getJunkSettingId()){f=neo.denbun.getText("迷惑メール設定の変更")}else{f=neo.denbun.getText("迷惑メール設定の登録")}this._setPageTitle(f)},_setRemoveButtonVisibility:function(){if(this._getJunkSettingId()){this._showRemoveButton()}else{this._hideRemoveButton()}},_setDefaultsToForm:function(){var f=a.defaults;b.setFormValues(this,f)},remove:function(){var g=d.getText("削除してよろしいですか？");var f=this;d.confirm(g,{onok:function(){var h=f._getJunkSettingId();b.deleteJunkSetting(h,function(){d.openPage(d.PAGE_SETTING_JUNKMAIL)})}})},onsuccessSetSetting:function(){d.openPage(d.PAGE_SETTING_JUNKMAIL)},banpei:null}});a.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.AddressVisualSettingPage");if(!e){return}var d=neo.denbun;var a=d.Setting;var b=neo.denbun.Setting.AddressVisualSettingPage=new neo.core.Class({superClass:a.SettingPage,classProperties:{constructor:function(){}},properties:{_getClsThisPage:function(){return"page-setting_addressvisual-item"},_updateToolbarMenuVisiblity:function(){a.toggleVisibilityOkAndCancelToolbarButton(true);a.toggleVisibilityRemoveToolbarButton(false)},_getUrlToGetSetting:function(){if(DENBUN_MODE_XNEO){return d.getUrl(d.CGI_WMAIL_EML)}return undefined},_getDataToGetSetting:function(){var f={cmd:"addrgenprivate"};return f},_setToForm:function(g){var f=c(g).children();a.setResponseToForm(this,g)},_getUrlToSetSetting:function(){return this._getUrlToGetSetting()},onsuccessSetSetting:function(){d.comSetting.getAddressSetting();this.__call("onsuccessSetSetting",arguments)},banpei:null}});b.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.PersonalAddressDeleteSettingPage");if(!e){return}var d=neo.denbun;var b=d.Setting;var a=neo.denbun.Setting.PersonalAddressDeleteSettingPage=new neo.core.Class({superClass:b.SettingPage,classProperties:{constructor:function(){}},properties:{_elCheckAllDelete:null,_getElCheckAllDelete:function(){return this._elCheckAllDelete||this._initElCheckAllDelete()},_initElCheckAllDelete:function(){var f=this._getElForm();return this._elCheckAllDelete=f.find(".setting_personaladdressdelete_checkalldelete")},_elAllDelete:null,_getElAllDelete:function(){return this._elAllDelete||this._initElAllDelete()},_initElAllDelete:function(){var f=this._getElForm();return this._elAllDelete=f.find(".setting_personaladdressdelete_alldelete")},_hook:function(){var f;this.__call("_hook",arguments);f=this._getElCheckAllDelete();this.__bind(f,"click","CheckAllDelete");f=this._getElAllDelete();this.__bind(f,"click","AllDelete")},_getClsThisPage:function(){return"page-setting_personaladdressdelete-item"},_load:function(){this._uncheckAllDeleteCheckBox();this._disableAllDeleteButton()},_uncheckAllDeleteCheckBox:function(){var f=this._getElCheckAllDelete();f.attr("checked",false)},_enableAllDeleteButton:function(){var f=this._getElAllDelete();f.attr("disabled",false)},_disableAllDeleteButton:function(){var f=this._getElAllDelete();f.attr("disabled",true)},_deleteAllPersonalAddress:function(){var f={getSendData:function(){var h={cmd:"addrcmddelete"};return h},onsuccess:function(){d.openPage(d.PAGE_SETTING_INDEX)}};if(DENBUN_MODE_XNEO){f.url=d.getUrl(d.CGI_WMAIL_EML)}var g=new d.Ajax(f);g.initialize();g.sendRequest();d.app.setSettingModified()},onclickCheckAllDelete:function(g,h){var f=c(h);var i=f.attr("checked");if(i){this._enableAllDeleteButton()}else{this._disableAllDeleteButton()}},onclickAllDelete:function(f,g){this._deleteAllPersonalAddress()},banpei:null}});a.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.PublicAddressDeleteSettingPage");if(!e){return}var d=neo.denbun;var b=d.Setting;var a=neo.denbun.Setting.PublicAddressDeleteSettingPage=new neo.core.Class({superClass:b.SettingPage,classProperties:{constructor:function(){}},properties:{_elCheckAllDelete:null,_getElCheckAllDelete:function(){return this._elCheckAllDelete||this._initElCheckAllDelete()},_initElCheckAllDelete:function(){var f=this._getElForm();return this._elCheckAllDelete=f.find(".setting_publicaddressdelete_checkalldelete")},_elAllDelete:null,_getElAllDelete:function(){return this._elAllDelete||this._initElAllDelete()},_initElAllDelete:function(){var f=this._getElForm();return this._elAllDelete=f.find(".setting_publicaddressdelete_alldelete")},_hook:function(){var f;this.__call("_hook",arguments);f=this._getElCheckAllDelete();this.__bind(f,"click","CheckAllDelete");f=this._getElAllDelete();this.__bind(f,"click","AllDelete")},_getClsThisPage:function(){return"page-setting_publicaddressdelete-item"},_load:function(){this._uncheckAllDeleteCheckBox();this._disableAllDeleteButton()},_uncheckAllDeleteCheckBox:function(){var f=this._getElCheckAllDelete();f.attr("checked",false)},_enableAllDeleteButton:function(){var f=this._getElAllDelete();f.attr("disabled",false)},_disableAllDeleteButton:function(){var f=this._getElAllDelete();f.attr("disabled",true)},_deleteAllPublicAddress:function(){var f={url:d.getUrl(d.CGI_WMAIL_EML),getSendData:function(){var h={cmd:"addrcmddeletepublic"};return h},onsuccess:function(){d.openPage(d.PAGE_SETTING_INDEX)}};var g=new d.Ajax(f);g.initialize();g.sendRequest();d.app.setSettingModified()},onclickCheckAllDelete:function(g,h){var f=c(h);var i=f.attr("checked");if(i){this._enableAllDeleteButton()}else{this._disableAllDeleteButton()}},onclickAllDelete:function(f,g){this._deleteAllPublicAddress()},banpei:null}});a.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.AddressImportSettingPage");if(!e){return}var d=neo.denbun;var a=d.Setting;var b=neo.denbun.Setting.AddressImportSettingPage=new neo.core.Class({superClass:a.SettingPage,classProperties:{VAL_ADDRESS_TYPE_PERSONAL:"1",FIELD_NAME_ADDRESS_TYPE:"select_address_type",constructor:function(){}},properties:{_elUp:null,_getElUp:function(){return this._elUp||this._initElUp()},_initElUp:function(){var f=this._getElForm();return this._elUp=f.find(".setting_addressimport-up")},_elDown:null,_getElDown:function(){return this._elDown||this._initElDown()},_initElDown:function(){var f=this._getElForm();return this._elDown=f.find(".setting_addressimport-down")},_elRestoreDefault:null,_getElRestoreDefault:function(){return this._elRestoreDefault||this._initElRestoreDefault()},_initElRestoreDefault:function(){var f=this._getElForm();return this._elRestoreDefault=f.find(".setting_addressimport_restoredefault")},_elCsvExport:null,_getElCsvExport:function(){return this._elCsvExport||this._initElCsvExport()},_initElCsvExport:function(){var f=this._getElForm();return this._elCsvExport=f.find(".setting_addressimport_csvimport")},_elList:null,_getElList:function(){return this._elList||this._initElList()},_initElList:function(){var f=this._getElForm();return this._elList=f.find(".setting_addressimport_list")},_list:null,_getList:function(){return this._list||this._initList()},_initList:function(){var f={elList:this._getElList()};var g=new a.SettingAddressImportExportList(f);g.initialize();return this._list=g},_hook:function(){var f;this.__call("_hook",arguments);f=this._getElUp();this.__bind(f,"click","Up");f=this._getElDown();this.__bind(f,"click","Down");f=this._getElRestoreDefault();this.__bind(f,"click","RestoreDefault");f=this._getElCsvExport();this.__bind(f,"click","CsvImport")},_getClsThisPage:function(){return"page-setting_addressimport-item"},_load:function(){var g=this._getList();g.load();if(DENBUN_MODE_XNEO){this._refreshAddressTypeStatus();var f=this._getElForm();f.find('[name="title_except"]').attr("checked",false);this._initEncodeType()}},_restoreDefault:function(){var f=this._getList();f.restoreDefault()},_refreshAddressTypeStatus:function(){var j=this._getElInputOf(b.FIELD_NAME_ADDRESS_TYPE);var f=j.parent();var h=d.comSetting.hasAuthorityToImportPublicAddress();var i=false;if(!h){i=true}j.attr("disabled",i);f.toggleClass(d.CLS_DISABLED,i);if(i){var g=j.filter('[value="'+b.VAL_ADDRESS_TYPE_PERSONAL+'"]');g.attr("checked",true)}},_importCsv:function(){var q=c("#dlg-addresscsvimport_input");var t=c("#dlg-addresscsvimport_input_template").clone();var l="./"+d.getUrl(d.CGI_EML);if(DENBUN_MODE_XNEO){l="./"+d.getUrl(d.CGI_WMAIL_EMLC)}var g=t.find("form");g.attr("action",l);var i="addrimport";if(DENBUN_MODE_XNEO){var h=this._getElInputOf(b.FIELD_NAME_ADDRESS_TYPE).filter(":checked");i+=h.val()}var k=t.find('[name="cmd"]');k.val(i);if(DENBUN_MODE_XNEO){var r=this._getElForm();var j="0";if(r.find('[name="title_except"]').attr("checked")){j="1"}t.find('[name="title_except"]').val(j);var o=r.find('[name="char_code"]').val();var f=r.find('[name="char_sep"]').val();t.find('[name="char_code"]').val(o);t.find('[name="char_sep"]').val(f)}var u={content:q,title:d.getText("インポート"),buttons:{}};u.buttons[d.getText("閉じる")]=function(){this.close()};var s=new neo.denbun.Dialog(u);s.initialize();s.open();var m=q.find("iframe:first");var n=m.contents()[0];n.open();n.write(["<html>","<head>","<title>","</title>","</head>",'<body style="text-align:center;">',t.wrap("<div />").html(),"</body>","</html>"].join(""));n.close();if(d.isAndroid()){var p=c(n).find("body");p.css("font-size","12px");p.find('input[type="file"]').width(330)}d.app.setSettingModified()},moveListItem:function(f){var h=this._getList();var i=h.getSelectedItemId();if(!i){var g=d.getText("項目を選択してください。");d.alert(g);return}h.moveListItem(i,f)},onclickUp:function(f,g){this.moveListItem(a.SettingAddressImportExportList.MOVEITEM_UP)},onclickDown:function(f,g){this.moveListItem(a.SettingAddressImportExportList.MOVEITEM_DOWN)},onclickRestoreDefault:function(f,g){this._restoreDefault()},onclickCsvImport:function(f,g){if(DENBUN_MODE_XNEO){this._setCookiesEncodeType()}this._importCsv()},banpei:null}});b.constructor()})(jQuery);(function(c){var e=neo.core.readyNamespace("neo.denbun.Setting.AddressExportSettingPage");if(!e){return}var d=neo.denbun;var a=d.Setting;var b=neo.denbun.Setting.AddressExportSettingPage=new neo.core.Class({superClass:a.SettingPage,classProperties:{VAL_ADDRESS_TYPE_PERSONAL:"1",FIELD_NAME_ADDRESS_TYPE:"select_address_type",constructor:function(){}},properties:{_elUp:null,_getElUp:function(){return this._elUp||this._initElUp()},_initElUp:function(){var f=this._getElForm();return this._elUp=f.find(".setting_addressexport-up")},_elDown:null,_getElDown:function(){return this._elDown||this._initElDown()},_initElDown:function(){var f=this._getElForm();return this._elDown=f.find(".setting_addressexport-down")},_elRestoreDefault:null,_getElRestoreDefault:function(){return this._elRestoreDefault||this._initElRestoreDefault()},_initElRestoreDefault:function(){var f=this._getElForm();return this._elRestoreDefault=f.find(".setting_addressexport_restoredefault")},_elCsvExport:null,_getElCsvExport:function(){return this._elCsvExport||this._initElCsvExport()},_initElCsvExport:function(){var f=this._getElForm();return this._elCsvExport=f.find(".setting_addressexport_csvexport")},_elList:null,_getElList:function(){return this._elList||this._initElList()},_initElList:function(){var f=this._getElForm();return this._elList=f.find(".setting_addressexport_list")},_list:null,_getList:function(){return this._list||this._initList()},_initList:function(){var f={elList:this._getElList()};var g=new a.SettingAddressImportExportList(f);g.initialize();return this._list=g},_hook:function(){var f;this.__call("_hook",arguments);f=this._getElUp();this.__bind(f,"click","Up");f=this._getElDown();this.__bind(f,"click","Down");f=this._getElRestoreDefault();this.__bind(f,"click","RestoreDefault");f=this._getElCsvExport();this.__bind(f,"click","CsvExport")},_getClsThisPage:function(){return"page-setting_addressexport-item"},_load:function(){var f=this._getList();f.load();if(DENBUN_MODE_XNEO){this._refreshAddressTypeStatus();this._initEncodeType()}},_restoreDefault:function(){var f=this._getList();f.restoreDefault()},_refreshAddressTypeStatus:function(){var j=this._getElInputOf(b.FIELD_NAME_ADDRESS_TYPE);var f=j.parent();var i=d.comSetting.hasAuthorityToExportPublicAddress();var h=false;if(!i){h=true}j.attr("disabled",h);f.toggleClass(d.CLS_DISABLED,h);if(h){var g=j.filter('[value="'+b.VAL_ADDRESS_TYPE_PERSONAL+'"]');g.attr("checked",true)}},_exportCsv:function(){var f=this._buildUrlToDownload();window.open(f)},_buildUrlToDownload:function(){var f="address.csv";var i="addrexport";var k=d.getUrl(d.CGI_EML);if(DENBUN_MODE_XNEO){i=this._getCmd();k=d.getUrl(d.CGI_WMAIL_EMLC)}if(c.browser.webkit){k+="/"+f}var l="cmd="+i;if(DENBUN_MODE_XNEO){var g=this._getElForm();var j=neo.core.joinParam({char_code:g.find('[name="char_code"]').val(),char_sep:g.find('[name="char_sep"]').val()});l=l+"&"+j}var h=k+"?"+l;return h},_getCmd:function(){var h=this._getElInputOf("select_address_type").filter(":checked");var f=h.val();var g="addrexport"+f;return g},moveListItem:function(f){var h=this._getList();var i=h.getSelectedItemId();if(!i){var g=d.getText("項目を選択してください。");d.alert(g);return}h.moveListItem(i,f)},onclickUp:function(f,g){this.moveListItem(a.SettingAddressImportExportList.MOVEITEM_UP)},onclickDown:function(f,g){this.moveListItem(a.SettingAddressImportExportList.MOVEITEM_DOWN)},onclickRestoreDefault:function(f,g){this._restoreDefault()},onclickCsvExport:function(f,g){if(DENBUN_MODE_XNEO){this._setCookiesEncodeType()}this._exportCsv()},banpei:null}});b.constructor()})(jQuery);