/*
 * desknet's NEO
 * https://www.desknets.com/
 * Copyright (C)2012-2016 NEOJAPAN Inc. All Rights Reserved.
 * 本製品は日本国著作権法および国際条約により保護されています。 
 * 本製品の全部または一部を無断で複製したり、無断で複製物を頒 
 * 布すると著作権の侵害となりますのでご注意ください。 
 */
(function(){if(window.neo!=null&&window.neo.core!=null){return}neo={};neo.ready={};neo.core={version:"1.0",language:"ja",initialize:function(){var a=navigator.userAgent.toLowerCase();this.isIE=/msie/.test(a)&&!/opera/.test(a)},isIE:null,getElSrcScript:function(){var d=document.getElementsByTagName("script");var b=d[d.length-1];var a=b.url=b.getAttribute("src");if(!neo.core.exists(a)){return b}if(a.indexOf("?")>=0){b.params=neo.core.splitParam(a);a=a.substr(0,a.indexOf("?"))}var c=a.lastIndexOf("/");b.fname=a.substr(c+1,a.length);b.path=a.substr(0,c+1);return b},splitParam:function(f){var g={};if(!neo.core.exists(f)){return{}}f=f.substr(0,(f+"#").indexOf("#"));f=f.substr(f.indexOf("?")+1,f.length);if(f==""){return{}}var a=f.split("&");for(var c=0;c<a.length;c++){a[c]=a[c].split("=");try{var b=a[c][0];var e=a[c][1];e=e.replace(/\+/g,"%20");e=this.decode(e);if(neo.core.exists(g,b)){if(g[b] instanceof Array){g[b].push(e)}else{g[b]=[g[b],e]}}else{g[b]=e}}catch(d){g[a[c][0]]=a[c][1]}}return g},joinParam:function(g){if(!neo.core.exists(g)){return""}var f="";var a=[];for(var c in g){var b=g[c];if(!(b instanceof Array)){b=[b]}for(var d=0;d<b.length;d++){var e=b[d];if(e!=null){a.push(c+"="+this.encode(e))}}}f=a.join("&");return f},encode:function(a){return encodeURIComponent(a)},decode:function(b){try{return decodeURIComponent(b)}catch(a){return b}},decodeAll:function(d){if(!neo.core.exists(d)){return""}if(isNaN(d.length)){var a={};for(var b in d){var c=d[b];if(typeof c=="string"||c instanceof String){c=neo.core.decode(c)}a[b]=c}return a}else{var a=[];for(var e=0;e<d.length;e++){var c=d[e];if(typeof c=="string"||c instanceof String){c=neo.core.decode(c)}a.push(c)}return a}},getZeroFilled:function(a,c){if(!neo.core.exists(a)){return""}var b=a.toString();while(b.length<c){b="0"+b}return b},exists:function(d,b,a){var c=neo.core.get(d,b);if(c==undefined){return false}if(neo.core.isString(a)){if(typeof c!=a){return false}}return true},get:function(f,c,e){var a=function(g){return(typeof g=="undefined"||g==null)};if(a(f)){return e}if(!a(c)){if(typeof c.split!="function"){return e}var b=c.split(".");for(var d=0;d<b.length;d++){var c=b[d];if(typeof f[c]=="unknown"||a(f[c])){return e}f=f[c]}}return f},isString:function(a){return(typeof a=="string"||a instanceof String)},readyNamespace:function(a){var d=window;var e=false;var c=a.split(".");for(var b=0;b<c.length;b++){if(d[c[b]]==undefined){d[c[b]]={};e=true}d=d[c[b]]}return e},escape:function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescape:function(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},escapeValue:function(a){return a.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/`/g,"&#96;")},replace:function(e,b){var a;if(neo.core.isString(b)){a=e.replace(/\$\$/g,b)}else{a=e;for(var c in b){var d=b[c];var f=new RegExp("\\$"+c+"\\$","g");a=a.replace(f,d)}}return a},toUpperCapital:function(d){var c=d.charAt(0);var e=c.toUpperCase();var b=d.slice(1);var a=e+b;return a},buildDateByFormat:function(l,k,f){f=f||{};f.month=f.month||["01","02","03","04","05","06","07","08","09","10","11","12"];f.day=f.day||["S","M","T","W","T","F","S"];f.ampm=f.ampm||["AM","PM"];var g=l.getFullYear();var c=f.month[l.getMonth()];var a=l.getDate();var h=f.day[l.getDay()];var i=l.getHours();var b=l.getMinutes();var j=l.getSeconds();var e=f.ampm[Number(i>=12)];var d=k.replace(/\$YYYY\$/g,g).replace(/\$YY\$/g,neo.core.getZeroFilled(g%100,2)).replace(/\$month\$/g,c).replace(/\$DD\$/g,neo.core.getZeroFilled(a,2)).replace(/\$D\$/g,a).replace(/\$W\$/g,h).replace(/\$hh\$/g,neo.core.getZeroFilled(i,2)).replace(/\$h\$/g,i).replace(/\$h12\$/g,i%12).replace(/\$mm\$/g,neo.core.getZeroFilled(b,2)).replace(/\$m\$/g,b).replace(/\$ss\$/g,neo.core.getZeroFilled(j,2)).replace(/\$s\$/g,j).replace(/\$AMPM\$/g,e);return d},getCookie:function(a){try{var d=new RegExp("(?:^|; *)"+a+" *= *(.*?)(;|$)");var c=document.cookie.match(d)[1];return decodeURIComponent(c)}catch(b){return null}},setCookie:function(c,e,a){if(!a){a={}}var b=c+"="+encodeURIComponent(e);if(a.expires&&a.expires!=""){if(a.expires=="unlimited"){var f=new Date();f.setFullYear(f.getFullYear()+50);a.expires=neo.core.getRfc822DateText(f)}b+="; expires="+a.expires}if(a.domain&&a.domain!=""){b+="; domain="+encodeURI(a.domain)}if(a.path&&a.path!=""){b+="; path="+encodeURI(a.path)}document.cookie=b},getRfc822DateText:function(a){var d="$W$, $DD$-$month$-$YYYY$ $hh$:$mm$:$ss$ GMT";var c={day:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};var e="";if(!(a instanceof Date)){a=new Date()}var b=new Date(a.getTime()+a.getTimezoneOffset()*1000*60);e+=neo.core.buildDateByFormat(b,d,c);return e},getClosure:function(c,a){if(typeof c!="function"){throw new Error("neo.core.getClosure : method is not function.")}if(!a){a=this}var b=function(){var d=Math.max(c.length,arguments.length);arguments[d]=this;arguments.length=d+1;return c.apply(a,arguments)};return b},overwriteMethod:function(d,c,a){if(!a){a=this}var e=c[d];var b=a[d];c[d]=function(){var f=arguments;Array.prototype.push.apply(f,[e,this]);return b.apply(a,f)}},replaceNbsp:function(c){var b=new RegExp(String.fromCharCode(160),"g");var a=c.replace(b," ");return a},replaceToNbsp:function(c){var a=new RegExp(" ","g");var b=c.replace(a,String.fromCharCode(160));return b},preloadImages:function(d){if(!d){return}if(typeof d=="string"){d=[d]}for(var c=0;c<d.length;c++){var b=d[c];if(typeof b!="string"){continue}var a=new Image();a.src=b}},createRandomId:function(){var a=""+(new Date()).getTime()+parseInt(Math.random()*10000);return a},};neo.core.Strage=function(){return this.__constructor.apply(this,arguments)};neo.core.Strage.prototype={__constructor:function(a){this._strage={};this._initialize(a)},_initialize:function(a){for(var b in a){this.set(b,a[b])}},set:function(b,a){if(arguments.length<2){a=b;b=this._createId()}this._strage[b]=a;return b},get:function(a){return this._strage[a]},remove:function(a){delete this._strage[a]},getIdList:function(){var a=[];for(id in this._strage){a.push(id)}return a},_createId:function(){var a=""+(new Date()).getTime()+parseInt(Math.random()*10000);return a},_strage:null};neo.core.Class=function(){return this.__constructor.apply(this,arguments)};neo.core.Class.prototype={__constructor:function(c){var f=c.superClass;var d=c.properties;var b=c.classProperties;var g;if(typeof f=="function"&&neo.core.exists(f,"prototype")){g=f.prototype}var a={};$.extend(true,a,this.defaultPrototype,g,d);a.__superClass=f;var e=function(){return this.__constructor.apply(this,arguments)};$.extend(e,c.superClass,b);e.prototype=a;return e},defaultPrototype:{__superClass:null,__constructor:function(){},__get:function(a){return neo.core.get(this,"__superClass.prototype."+a)},__call:function(b,a){var c=this.__get(b);if(typeof c!="function"){throw new Error("neo.core.Class.__call : '"+b+"' is not function in super class.")}return c.apply(this,a||[])},__super:function(){var a=arguments.callee.caller.toSource().match(/function (.*?)\(/)[1];return this.__call(a,arguments)},__closure:neo.core.getClosure}};neo.core.Messages=new neo.core.Class({superClass:neo.core.Strage,properties:{_initialize:function(a){var a=neo.core.decodeAll(a);this.__call("_initialize",arguments)}}});neo.core.Showcase=new neo.core.Class({superClass:neo.core.Strage,properties:{_keyName:null,getKeyName:function(){return this._keyName},__constructor:function(a){this._keyName=a||"neoshowcase"+this._createId();this.__call("__constructor",[])},set:function(b,a){if(typeof jQuery=="function"&&b instanceof jQuery){b=b.get(0)}if(typeof b.setAttribute!="function"&&typeof b.setAttribute!="object"){throw new Error("neo.core.Showcase.set : element is not Element Object.")}var c=this._createId();b.setAttribute(this._keyName,c);this.__call("set",[c,a]);return c},getInstance:function(c){var d;if(typeof c=="string"){d=c}else{var b=c;if(typeof jQuery=="function"&&b instanceof jQuery){b=b.get(0)}if(!b||(typeof b.getAttribute!="function"&&typeof b.getAttribute!="object")){return null}d=b.getAttribute(this._keyName)}var a=this.__call("get",[d]);return a}}});neo.core.initialize()})();(function(){if(!neo.core.readyNamespace("neo.Ajax")){return}neo.Ajax=function(){neo.Ajax.prototype.__constructor.apply(this,arguments)};neo.Ajax.prototype={options:{},_getElConMark:function(){return neo.Ajax._elConMark},_setElConMark:function(a){neo.Ajax._elConMark=a},__constructor:function(a){this.options=this._getOptions(a);this._initialize()},_getOptions:function(b){var a=this._getCompoundedOptions(b);this._regulateOptions(a);return a},_getCompoundedOptions:function(b){var a={};$.extend(a,neo.Ajax.defaultOptions);if(neo.core.exists(b)){$.extend(a,b)}return a},_regulateOptions:function(a){return a},_initialize:function(){this._initElements()},_initElements:function(){this._initElConMark()},_initElConMark:function(){var a;if(this.options.elConMark){a=this.options.elConMark}else{if(this.options.elConMark===null){a=null}else{a=$(neo.Ajax.SEL_CON_MARK);if(a.length<1){a=$('<span id="neo-ajax-con-mark">connecting...</span>').css({display:"none",position:"fixed",top:"0px",right:"0px",padding:"1px 5px",backgroundColor:"#900",color:"#f99"}).appendTo("body");if($.browser.msie&&$.browser.version<7){a.css({position:"absolute"})}}}}this._setElConMark(a)},sendRequest:function(){if(!neo.Ajax.moveConfIsBinded){neo.Ajax.moveDespiteConnecting.bindActions()}var a=this._getAjaxOptions();try{$.ajax(a)}catch(b){}},_getAjaxOptions:function(){var b=$.extend({},this.options);if(neo.core.exists(this.options,"getSendData","function")){var c=this.options.getSendData(this);if(typeof c!="string"){c=$.extend({},c)}b.data=c;if(neo.core.exists(b.data,"url","string")){b.url=b.data.url;delete b.data.url}}if(!b.url){b.url=this.options.url}if(!b.type){b.type=this._getHttpType(b.data)}if(this.options.cache===true){b.cache=true}else{b.cache=false}var a=this;b.beforeSend=function(){return a.beforeAjaxSend.apply(a,neo.Ajax.getProxyArguments(this,arguments))};b.success=function(){return a.onAjaxSuccess.apply(a,neo.Ajax.getProxyArguments(this,arguments))};b.error=function(){return a.onAjaxError.apply(a,neo.Ajax.getProxyArguments(this,arguments))};b.complete=function(){return a.onAjaxComplete.apply(a,neo.Ajax.getProxyArguments(this,arguments))};return b},_getHttpType:function(c){var a=2048;if($.browser.msie&&$.browser.version<8){a=1024}var b="";if(neo.core.exists(c)){if(neo.core.isString(c)){b=c}else{b=$.param(c)}}if(b.length>a){return"POST"}else{return"GET"}},beforeAjaxSend:function(a,b){this._showConMark();if(neo.core.exists(this.options,"beforeAjaxSend","function")){return this.options.beforeAjaxSend.apply(arguments[0],neo.Ajax.getRealArguments(arguments))}},onAjaxSuccess:function(c,b){if(this.options.useDefaultXml&&(c.dataType=="xml"||c.dataType==undefined)){var d=$(b);var a=d.find("result");if(!this._isStatusOk(a)){this._showError(c,{elResult:a});return}}if(neo.core.exists(this.options,"onAjaxSuccess","function")){this.options.onAjaxSuccess.apply(arguments[0],neo.Ajax.getRealArguments(arguments))}},_isStatusOk:function(a){if(!neo.core.exists(a,"find","function")){return false}var b=a.find("status");if(!neo.core.exists(b,"text","function")||b.text()!="ok"){return false}return true},onAjaxError:function(a,c,b){if(neo.core.exists(this.options,"onAjaxError","function")){this.options.onAjaxError.apply(arguments[0],neo.Ajax.getRealArguments(arguments))}this._showError(a,{xhr:c,statusText:b})},onAjaxComplete:function(a,c,b){this._hideConMark();if(neo.core.exists(this.options,"onAjaxComplete","function")){this.options.onAjaxComplete.apply(arguments[0],neo.Ajax.getRealArguments(arguments))}},_showConMark:function(){var a=this._getElConMark();if(!a){return}a.show();neo.Ajax._conCnt++},_hideConMark:function(){var a=this._getElConMark();if(!a){return}neo.Ajax._conCnt--;if(!neo.Ajax.isConnecting()){a.hide()}},_showError:function(b,d){var c=this._getErrorMessage(d);if(neo.core.exists(this.options,"beforeShowError","function")){var a=this.options.beforeShowError.apply(arguments[0],[d.xhr,d.statusText,c]);if(a===false){return}}neo.Ajax.showErrorMessage(c,this.options)},_getErrorMessage:function(g){var f="";if(neo.core.exists(g,"elResult.0")){var e="";var a=g.elResult.find("errorno");if(neo.core.exists(a,"text","function")){e=a.text()}var d="";var c=g.elResult.find("errormessage");if(neo.core.exists(c,"text","function")){d=c.text()}if(!isNaN(e)&&neo.core.isString(d)&&d!=""){f=d;if(neo.core.isString(e)&&e!=""){f+="["+e+"]"}return f}else{return neo.Ajax.ajaxMessages.parsererror}}if(neo.core.exists(g,"statusText")){switch(g.statusText){case"error":var b=neo.core.get(g,"xhr.status");return this._getMsgHttp(b);case"timeout":break;case"parsererror":return neo.Ajax.ajaxMessages.parsererror}}return neo.Ajax.ajaxMessages.defaultMessage},_getMsgHttp:function(b){var a=null;if(neo.core.exists(b)){a=neo.Ajax.ajaxMessages.errHttp[b]}if(a){return a}else{return neo.Ajax.ajaxMessages.defaultMessage}},onEvent:function(d){try{var a=this.element[0].tagName.toLowerCase();var b=this.element.attr("type").toLowerCase();if(a=="button"||(a=="input"&&(b=="button"||b=="submit"||b=="reset"||b=="image"))){d.preventDefault()}}catch(c){}this.sendRequest()}};neo.Ajax.SEL_CON_MARK="#neo-ajax-con-mark";neo.Ajax.CLS_NO_CONFIRM="neo-ajax-no-confirm";neo.Ajax._elConMark=null;neo.Ajax._conCnt=0;neo.Ajax.moveConfIsBinded=false;neo.Ajax.initDialog=function(){neo.Ajax.elDialog=$('<div id="'+neo.Ajax.ID_DIALOG_MSG+'" />');var a=neo.Ajax._getDialogOptions();neo.Ajax.elDialog.dialog(a);return neo.Ajax.elDialog};neo.Ajax._getDialogOptions=function(){var b=neo.Ajax.defaultDialogOptions;if(!neo.core.exists(b.title)||b.title==""){b.title=neo.Ajax.ajaxMessages.dialogTitle}var a=neo.Ajax.ajaxMessages.dialogCloseButtonCaption;b.buttons[a]=function(){$(this).dialog("close")};return b};neo.Ajax.setConfirm=function(b,a){if(a){b.removeClass(neo.Ajax.CLS_NO_CONFIRM)}else{b.addClass(neo.Ajax.CLS_NO_CONFIRM)}};neo.Ajax.bind=function(b,a){if(!neo.core.exists(a,"eventType")){a.eventType=neo.Ajax._getAutoEventType(b)}var c=new neo.Ajax(a);c.element=b;b.bind(a.eventType,function(){c.onEvent.apply(c,arguments)})};neo.Ajax._getAutoEventType=function(b){try{var a=b[0].tagName.toLowerCase();var c=b.attr("type").toLowerCase();if((a=="input"&&c=="text")||a=="select"||a=="textarea"){return"change"}}catch(d){}return"click"};neo.Ajax.getProxyArguments=function(b,a){var c=[b];for(var d=0;d<a.length;d++){c.push(a[d])}return c};neo.Ajax.getRealArguments=function(a){var b=[];for(var c=1;c<a.length;c++){b.push(a[c])}return b};neo.Ajax.showErrorMessage=function(c,a){var b=neo.Ajax.elDialog;if(!b){b=neo.Ajax.initDialog()}if(b.dialog("isOpen")){b.find("ul").append("<li>"+c+"</li>")}else{b.empty();b.append(neo.Ajax.ajaxMessages.errBase);b.unbind("dialogclose");if(typeof a.afterShowError=="function"){b.bind("dialogclose",a.afterShowError)}b.append("<ul><li>"+c+"</li></ul>");b.dialog("open")}};neo.Ajax.isConnecting=function(){if(neo.Ajax._conCnt>0){return true}else{return false}};neo.Ajax.ID_DIALOG_MSG="neo-ajax-dialogcontent";neo.Ajax.elDialog=null;neo.Ajax.defaultOptions={url:undefined,useDefaultXml:true,getSendData:null,eventType:null};neo.Ajax.defaultDialogOptions={autoOpen:false,draggable:false,resizable:false,modal:true,height:300,buttons:{}};neo.Ajax.moveDespiteConnecting={elTarget:null,getElDlgConfirmMove:function(){return this.elDlgConfirmMove||this.initElDlgConfirmMove()},initElDlgConfirmMove:function(){var a=this._getElDialogContent();var b=this._getDialogOptions();return this.elDlgConfirmMove=a.dialog(b)},elDlgConfirmMove:null,_getElDialogContent:function(){var a=$('<div class="dlg-ajax-confirm-move" />');var b=neo.Ajax.ajaxMessages.msgConfirmMove;a.text(b);return a},_getDialogOptions:function(){var b=neo.Ajax.moveDespiteConnecting;var a={autoOpen:false,draggable:false,modal:true,resizable:false,title:neo.Ajax.ajaxMessages.confirm,width:300,buttons:{}};a.buttons[neo.Ajax.ajaxMessages.cancel]=b.onCancel;a.buttons[neo.Ajax.ajaxMessages.OK]=b.onOk;return a},bindActions:function(d){var c=neo.core.get(d,"0.tagName","").toLowerCase();if(c=="a"){this._bindActionsToLinks(d);return}else{if(c=="form"){this._bindActionsToForms(d);return}}var b=$("a",d);this._bindActionsToLinks(b);var a=$("form",d);this._bindActionsToForms(a);neo.Ajax.moveConfIsBinded=true},_bindActionsToLinks:function(a){for(var c=0;c<a.length;c++){var b=a.eq(c);if(this._isTargetLink(b)){b.click(neo.Ajax.moveDespiteConnecting.onMove)}}},_isTargetLink:function(a){var g=a.attr("href");if(!g){return false}if(g.indexOf("javascript:")==0){return false}if(g.indexOf("#")<0){return true}var e=function(f){var j=f.indexOf("#");if(j>=0){f=f.substr(0,j)}return f};var d=e(g);if(d==""){return false}var c=e(location.href);if(d==c){return false}var b=c.substr(location.protocol.length+2,c.length);var i=b.substr(b.indexOf("/"),b.length);if(d==i){return false}var h=c.substr(c.lastIndexOf("/")+1,c.length);if(d==h){return false}return true},_bindActionsToForms:function(a){a.submit(neo.Ajax.moveDespiteConnecting.onMove)},onMove:function(c){var b=neo.Ajax.moveDespiteConnecting;b.elTarget=$(this);if(neo.Ajax.isConnecting()&&!b.elTarget.hasClass(neo.Ajax.CLS_NO_CONFIRM)){c.preventDefault();var a=b.getElDlgConfirmMove();a.dialog("open")}},onOk:function(){var b=neo.Ajax.moveDespiteConnecting;neo.Ajax.prototype.onAjaxError=function(){};var c=b.elTarget;if(c.get(0).tagName.toLowerCase()=="form"){neo.Ajax.setConfirm(c,false);c.submit();var a=b.getElDlgConfirmMove();a.dialog("close")}else{location.href=c.attr("href")}},onCancel:function(){var a=neo.Ajax.moveDespiteConnecting;a.elTarget=null;$(this).dialog("close")}}})();(function(){if(!neo.core.readyNamespace("neo.jq")){return}$=$;$.fn=$.fn;$.datepicker=$.datepicker;neo.jq={bindListener:function(f,b,e,a){if(!e){e=""}if(!a){a=this}var d="on"+b+e;var c=a[d];if(typeof c!="function"){throw new Error('neo.jq.bindListener : context has no function "'+d+'".')}var g=neo.core.getClosure(c,a);f.bind(b,g)},getIdName:function(a,d,b){if(!neo.core.isString(b)||b==""){b="name"}var e=new RegExp("(?:^|\\s)neo-"+d+"-"+b+"--(\\S+)(?:\\s|$)");try{return a[0].className.match(e)[1]||""}catch(c){return""}},redrawElement:function(a){a.css({visibility:"hidden"});setTimeout(function(){a.css({visibility:"visible"})},1)},buildPlugin:function(a){if(typeof a!="function"){throw new Error("neo.jq.buildPlugin : <pluginClass> is not function : "+a)}var b=function(f){var i=this;var e=arguments;if(typeof f=="string"){var h=f;if(h=="option"&&e.length!=2){i.each(function(m,k){var l=$(k);var j=a.getInstance(l);if(j){var n=j[h];var o=Array.prototype.slice.apply(e,[1]);n.apply(j,o)}});return i}else{var d=a.getInstance(i);if(d){var g=d[h];if(typeof g=="function"){var e=Array.prototype.slice.apply(arguments,[1]);var c=g.apply(d,e);return c}}}}else{i.each(function(m,k){var l=$(k);var j=a.getInstance(l);if(!j){j=new a(l,e)}j.initialize()})}return this};return b}};neo.jq.jQPluginBase={__constructor:function(b,a){if(!this._isValidElement(b)){return}this.element=$(b);this.options=this._getOptions(a);this._initialize()},_isValidElement:function(a){return neo.core.exists(a,"tagName")},_getOptions:function(b){var a=this._getCompoundedOptions(b);this._regulateOptions(a);return a},_getCompoundedOptions:function(b){var a={};$.extend(a,this._getDefaultOptions());if(neo.core.exists(b)){$.extend(a,b)}return a},_getDefaultOptions:function(){return{}},_regulateOptions:function(a){return a},_initialize:function(){}}})(jQuery);(function(){neo.Rte={textToHtml:function(e){if(e==""){return""}var d=e;d=d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");d=d.replace(/ /g,"&nbsp;");d=d.replace(/([^\n]*)\n/g,"<div>$1</div>\n");d=d.replace(/([^\n]*)$/,"<div>$1</div>");return d},htmlToText:function(f){var e=$("<div />").html(f);e.find("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,dfn,em,font,i,iframe,img,input,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var").filter(function(h){return !!!$(this).css("display")}).css("display","inline");f=e.html();var d=document.createElement("DIV");d.innerHTML=f.replace(/\s+/g," ");var g=a("",d);g=g.replace(/\u00A0/g," ");return g}};function c(d){return d.nodeType==1&&$(d).css("display")!="inline"}function b(e){if(e.tagName=="BR"){return true}var d=e.nextSibling;if(!d){return false}if(c(e)||c(d)){return true}return false}function a(h,g){var d="";d+=h;for(var f=g.childNodes.length-1;f>=0;f--){var e=g.childNodes[f];if((e.nodeType==3||e.nodeType==4)&&e.data.match(/^\s*$/)){g.removeChild(e)}}for(var f=0;f<g.childNodes.length;f++){var e=g.childNodes[f];if(e.nodeType==1){d+=a(h,e);if(b(e)){d+="\n"}}else{if(e.nodeType==3||e.nodeType==4){d+=e.data}}}return d}})();(function(){return;function b(d,f){var h=d+"{";for(var e in f){var g=f[e];h+=e+":"+g+";"}h+="}";return h}function a(){var e=$("<div />").css({opacity:0,overflow:"scroll",position:"absolute",width:16}).appendTo("body");var d=(e[0]?e.width()-e[0].clientWidth:false)||16;e.remove();var f="";f+=b(".com_table-header",{"margin-right":d+"px"});f+=b(".ie7 .com_table-body",{"padding-right":d+"px"});return f}var c="";c+=a();document.write("<style>"+c+"</style>")})();(function($){var firstTime=neo.core.readyNamespace("neo.denbun");if(!firstTime){return}var denbun=neo.denbun=new neo.core.Class({classProperties:{VERSION:"0.0.0",CLS_TEMPLATE:"template",CLS_DISABLED:"disabled",CLS_INLINE_LIST_ITEM:"inline_list-item",CLS_COM_CONTENT_HEADER:"com_content-header",CLS_COM_CONTENT_TITLE:"com_content-title",CLS_COM_CONTENT_BODY:"com_content-body",CLS_SLIDE_BAR_OVERLAY:"overlay-slide_bar",CLS_COM_TRIANGLE:"com_triangle",CLS_COM_TRIANGLE_UP:"com_triangle-up",CLS_COM_TRIANGLE_DOWN:"com_triangle-down",CLS_COM_TRIANGLE_LEFT:"com_triangle-left",CLS_COM_TRIANGLE_RIGHT:"com_triangle-right",CLS_COM_LEFT_CONTAINER_NARROW:"com_left-container-narrow",DATA_ID:"data-id",PATH_IMG_SPACER:DENBUN_DOC_ROOT+"/img/sp.gif",DIR_SCRIPT:DENBUN_DOC_ROOT+"/dnhtml5i/js/",CGI_EML:"dnwml",CGI_EMLC:"dnwml",CGI_EMLFILE:"dnwmlfile",CGI_RICH:"dnwmlcom",CGI_DIR:"dnwmldir",CGI_REFER:"dnprefer",CGI_TRANSLATION:"dntranslation",CGI_CONFIG:"dnwmlconfig",CGI_DNEO:"dneo",CGI_ZREFER:"zsrefer",CGI_ZCABINET:"zcabinet",CGI_ZRCABINET:"zrcabinet",CGI_WMAIL_EML:"zrweml",CGI_WMAIL_EMLC:"zrwemlc",CGI_USET:"zrwuset",KEY_LANG:"lang",KEY_TIMEZONE_OFFSET:"timezoneoffset",LANG_JA:"ja",LANG_ZHCN:"zh_cn",PARAM_PAGE:"page",PARAM_METHOD:"method",PARAM_FORK:"fork",PARAM_INIT:"init",PARAM_MAIL_ID:"id",PARAM_FOLDER_ID:"fid",PARAM_PROC:"proc",PARAM_BACK_PAGE:"backPage",PARAM_PART_HTML:"parthtml",METHOD_POST:"POST",MODULE_MAIL:"Mail",MODULE_ADDRESS:"Address",MODULE_SETTING:"Setting",PAGE_MAIL_LIST:"MailList",PAGE_MAIL_VIEW:"MailView",PAGE_MAIL_EDIT:"MailEdit",PAGE_MAIL_VIEW_OF_MAIL_FILE:"MailViewOfMailFile",PAGE_ADDRESS_LIST:"AddressList",PAGE_ADDRESS_USERS_LIST:"AddressUsersList",PAGE_ADDRESS_DIRECTORY_LIST:"AddressDirectoryList",PAGE_ADDRESS_VIEW:"AddressView",PAGE_ADDRESS_EDIT:"AddressEdit",PAGE_ADDRESS_USER_VIEW:"AddressUserView",PAGE_ADDRESS_DIRECTORY_VIEW:"AddressDirectoryView",PAGE_SETTING_INDEX:"Setting",PAGE_SETTING_VISUAL:"SettingVisual",PAGE_SETTING_BASIC:"SettingBasic",PAGE_SETTING_SENDMISTAKE:"SettingSendMistake",PAGE_SETTING_PERSONALITY:"SettingPersonality",PAGE_SETTING_TRUSH:"SettingTrush",PAGE_SETTING_COLOR:"SettingColor",PAGE_SETTING_ACCOUNT_EDIT:"SettingAccountEdit",PAGE_SETTING_NOTIFICATION:"SettingNotification",PAGE_SETTING_SIGN:"SettingSign",PAGE_SETTING_SIGN_EDIT:"SettingSignEdit",PAGE_SETTING_FILTER:"SettingFilter",PAGE_SETTING_FILTER_EDIT:"SettingFilterEdit",PAGE_SETTING_JUNKMAIL:"SettingJunkMail",PAGE_SETTING_JUNKMAIL_EDIT:"SettingJunkMailEdit",PAGE_SETTING_ADDRESSVISUAL:"SettingAddressVisual",PAGE_SETTING_PERSONALADDRESSDELETE:"SettingPersonalAddressDelete",PAGE_SETTING_PUBLICADDRESSDELETE:"SettingPublicAddressDelete",PAGE_SETTING_ADDRESSIMPORT:"SettingAddressImport",PAGE_SETTING_ADDRESSEXPORT:"SettingAddressExport",HTMLFILE_MAIL_LIST:"wimaillist",HTMLFILE_MAIL_EDIT:"wimailedit",HTMLFILE_ADDRESS_LIST:"wiaddrlist",HTMLFILE_ADDRESS_VIEW:"wiaddrview",HTMLFILE_ADDRESS_EDIT:"wiaddredit",HTMLFILE_ADDRESS_DIRECTORY_LIST:"widirlist",HTMLFILE_ADDRESS_DIRECTORY_VIEW:"widirview",HTMLFILE_ADDRESS_USER_LIST:"wiuserlist",HTMLFILE_ADDRESS_USER_VIEW:"wiuserview",HTMLFILE_SETTING_INDEX:"wiset",HTMLFILE_SETTING_VISUAL:"wisetvisual",HTMLFILE_SETTING_BASIC:"wisetbasic",HTMLFILE_SETTING_ACCOUNT:"wisetaccount",HTMLFILE_SETTING_TRUSH:"wisettrush",HTMLFILE_SETTING_NOTIFICATION:"wisetnotify",HTMLFILE_SETTING_SIGN:"wisetsign",HTMLFILE_SETTING_FILTER:"wisetfilter",HTMLFILE_SETTING_JUNKMAIL:"wisetjunk",HTMLFILE_SETTING_ADDRESSVISUAL:"wisetaddrvisual",HTMLFILE_SETTING_ADDRESSDELETE:"wisetaddrdel",HTMLFILE_SETTING_ADDRESSIMPORT:"wisetaddrimp",HTMLFILE_SETTING_SENDMISTAKE:"wisetsendmistake",DESTINATION_ALL:"all",DESTINATION_NAME:"Name",DESTINATION_MAIL:"Mail",SEND_GROUP_TYPE_ADDRESS_PERSONAL:"01",SEND_GROUP_TYPE_ADDRESS_PUBLIC:"02",SEND_GROUP_TYPE_USERS_PERSONAL:"03",SEND_GROUP_TYPE_USERS_PUBLIC:"04",parent:null,$window:null,$document:null,$html:null,$body:null,_topZIndex:null,_getTopZIndex:function(){return this._topZIndex||this._initTopZIndex()},_setTopZIndex:function(obj){return this._topZIndex=obj},_lang:null,getLang:function(){return this._lang},_initLang:function(){var lang="";if(DENBUN_MODE_XNEO){lang=this.$html.attr("data-langid")}else{lang=this.getCookie(denbun.KEY_LANG);if(!lang||lang==""){var majorLang=navigator.language||navigator.browserLanguage;var index=majorLang.indexOf("-");var minorLang;if(index>0){minorLang=majorLang.slice(0,index)}else{minorLang=majorLang}switch(minorLang){case"ja":break;case"zh":minorLang=denbun.LANG_ZHCN;break;default:minorLang="en"}lang=minorLang;denbun.setCookie(denbun.KEY_LANG,lang)}}return this._lang=lang},_deflang:null,getDefLang:function(){return this._deflang},_initDefLang:function(){var lang="";lang=this.$html.attr("data-deflangid");return this._deflang=lang},_ie7:null,isIe7:function(){return this._ie7},_initIe7:function(){this._ie7=($.browser.msie&&$.browser.version<=7);if(this._ie7){denbun.$body.addClass("ie7")}return this._ie7},_extension:null,_getExtension:function(){return this._extension||this._initExtension()},_initExtension:function(){return this._extension=this._getExtensionOf(location.pathname)},textMap:null,datepickerLangSetting:null,_curPageName:null,getCurPageName:function(){return this._curPageName},_setCurPageName:function(obj){return this._curPageName=obj},_parameters:null,getParameters:function(){return this._parameters||this._initParameters()},_initParameters:function(){var query=location.hash.slice(1);var parameters=neo.core.splitParam(query);return this._parameters=parameters},setParameters:function(obj){this._parameters=obj||{};this._updateParameters();return this._parameters},_loginPage:null,_getLoginPage:function(){return this._loginPage||this._initLoginPage()},_initLoginPage:function(){var page=new denbun.LoginPage();page.initialize();return this._loginPage=page},comSetting:null,_initPreference:function(){return this.comSetting=new denbun.ComSetting()},app:null,_initApp:function(){var app=new denbun.App();app.initialize();return this.app=app},_singleInputDialog:null,_getSingleInputDialog:function(){return this._singleInputDialog||this._initSingleInputDialog()},_initSingleInputDialog:function(){var dialog=new denbun.SingleInputDialog();dialog.initialize();return this._singleInputDialog=dialog},_elPagesContainer:null,getElPagesContainer:function(){return this._elPagesContainer||this._initElPagesContainer()},_initElPagesContainer:function(){return this._elPagesContainer=$("#pages-container")},_elDialogsContainer:null,getElDialogsContainer:function(){return this._elDialogsContainer||this._initElDialogsContainer()},_initElDialogsContainer:function(){return this._elDialogsContainer=$("#dialogs-container")},_elOverlay:null,getElOverlay:function(){return this._elOverlay||this._initElOverlay()},_initElOverlay:function(){return this._elOverlay=$("#overlay")},_elBgIFrame:null,getElBgIFrame:function(){var elOriginal=this._elBgIFrame||this._initElBgIFrame();var elBg=elOriginal.clone().removeAttr("id");return elBg},_initElBgIFrame:function(){return this._elBgIFrame=$("#bgiframe")},_elSlideDownMsg:null,_getElSlideDownMsg:function(){return this._elSlideDownMsg||this._initElSlideDownMsg()},_initElSlideDownMsg:function(){return this._elSlideDownMsg=$("#com-slide_down-msg")},_lastConnectionKey:null,_getLastConnectionKey:function(){return this._lastConnectionKey||this._initLastConnectionKey()},_setLastConnectionKey:function(obj){return this._lastConnectionKey=obj},_conditionsForGetAddressList:null,_getConditionsForGetAddressList:function(){return this._conditionsForGetAddressList},_setConditionsForGetAddressList:function(obj){return this._conditionsForGetAddressList=obj},_callbackForGetAddressList:null,_getCallbackForGetAddressList:function(){return this._callbackForGetAddressList},_setCallbackForGetAddressList:function(obj){return this._callbackForGetAddressList=obj},_ajaxGetAddressList:null,_getAjaxGetAddressList:function(){return this._ajaxGetAddressList||this._initAjaxGetAddressList()},_initAjaxGetAddressList:function(){var self=this;var setting={cache:true,getSendData:function(){var data=self._getDataToGetAddressList();if(neo.core.isString(data)){data=neo.core.splitParam(data)}var key=String(new Date().getTime());self._setLastConnectionKey(key);data._=key;return data},onsuccess:this.__closure(this.onsuccessGetAddressList)};if(DENBUN_MODE_XNEO){setting.url=denbun.getUrl(denbun.CGI_WMAIL_EML)}var ajax=new denbun.Ajax(setting);ajax.initialize();return this._ajaxGetAddressList=ajax},_conditionsForGetUsersList:null,_getConditionsForGetUsersList:function(){return this._conditionsForGetUsersList},_setConditionsForGetUsersList:function(obj){return this._conditionsForGetUsersList=obj},_callbackForGetUsersList:null,_getCallbackForGetUsersList:function(){return this._callbackForGetUsersList},_setCallbackForGetUsersList:function(obj){return this._callbackForGetUsersList=obj},_ajaxGetUsersList:null,_getAjaxGetUsersList:function(){return this._ajaxGetUsersList||this._initAjaxGetUsersList()},_initAjaxGetUsersList:function(){var self=this;var setting={cache:true,getSendData:function(){var data=self._getDataToGetUsersList();if(neo.core.isString(data)){data=neo.core.splitParam(data)}var key=String(new Date().getTime());self._setLastConnectionKey(key);data._=key;return data},onsuccess:this.__closure(this.onsuccessGetUsersList)};var ajax=new denbun.Ajax(setting);ajax.initialize();return this._ajaxGetUsersList=ajax},_conditionsForGetHtml:null,_getConditionsForGetHtml:function(){return this._conditionsForGetHtml},_setConditionsForGetHtml:function(obj){return this._conditionsForGetHtml=obj},_callbackForGetHtml:null,_getCallbackForGetHtml:function(){return this._callbackForGetHtml},_setCallbackForGetHtml:function(obj){return this._callbackForGetHtml=obj},_ajaxGetHtml:null,_getAjaxGetHtml:function(){return this._ajaxGetHtml||this._initAjaxGetHtml()},_initAjaxGetHtml:function(){var self=this;var setting={cache:true,getSendData:function(){var data=self._getDataToGetHtml();if(neo.core.isString(data)){data=neo.core.splitParam(data)}var key=String(new Date().getTime());self._setLastConnectionKey(key);data._=key;return data},onsuccess:this.__closure(this.onsuccessGetHtml)};var ajax=new denbun.Ajax(setting);ajax.initialize();return this._ajaxGetHtml=ajax},_ipad:null,isIpad:function(){return this._ipad||this._initIpad()},_initIpad:function(){return this._ipad=this.$html.hasClass("co-device-iPad")},_ipadiOS6:null,isIpadiOS6:function(){return this._ipadiOS6||this._initIpadiOS6()},_initIpadiOS6:function(){if(this.isIpad()){var version=this._getiOSVersion();if(version>=6){return this._ipadiOS6=true}}return false},_ipadiOS8:null,isIpadiOS8:function(){return this._ipadiOS8||this._initIpadiOS8()},_initIpadiOS8:function(){return this._ipadiOS8=(this.isIpad()&&this.$html.hasClass("co-browser-Mobile-Safari-8"))},_iOSVersion:null,_getiOSVersion:function(){if(this._iOSVersion!==null){return this._iOSVersion}var val=this.$html.attr("class");if(val){var re=new RegExp("co-browser-Mobile-Safari-([0-9]*)");var ismatch=val.match(re);if(ismatch!=null){return this._iOSVersion=Number(RegExp.$1)}}return this._iOSVersion=0},_android:null,isAndroid:function(){return this._android||this._initAndroid()},_initAndroid:function(){return this._android=this.$html.hasClass("co-device-Android")},_tablet:null,isTablet:function(){return this._tablet||this._initTablet()},_initTablet:function(){return this._tablet=(this.isIpad()||this.isAndroid())},_msie:null,isMsie:function(){return this._msie||this._initMsie()},_initMsie:function(){return this._msie=this.$html.hasClass("co-browser-IE")},_msie7:null,isMsie7:function(){return this._msie7||this._initMsie7()},_initMsie7:function(){return this._msie7=this.$html.hasClass("co-browser-IE-7")},_msie8:null,isMsie8:function(){return this._msie8||this._initMsie8()},_initMsie8:function(){return this._msie8=this.$html.hasClass("co-browser-IE-8")},_firefox:null,isFirefox:function(){return this._firefox||this._initFirefox()},_initFirefox:function(){return this._firefox=this.$html.hasClass("co-browser-Firefox")},_chrome:null,isChrome:function(){return this._chrome||this._initChrome()},_initChrome:function(){return this._chrome=this.$html.hasClass("co-browser-Chrome")},_safari:null,isSafari:function(){return this._safari||this._initSafari()},_initSafari:function(){return this._safari=this.$html.hasClass("co-browser-Safari")},__constructor:function(){this._topZIndex=100;this.textMap={};if(!DENBUN_MODE_XNEO){this.datepickerLangSetting={}}},initialize:function(){if(DENBUN_MODE_XNEO){denbun.CGI_EML="zrwimapeml";denbun.CGI_EMLC="zrwimapeml";denbun.CGI_EMLFILE="zrwimapemlfile";denbun.CGI_RICH="zrwimaprich";denbun.CGI_DIR="zrwimapdir";denbun.LANG_JA="ja_JP"}try{if(window!=window.opener){this.parent=neo.core.get(window,"opener.neo.denbun")}}catch(e){}this.$window=$(window);this.$document=$(document);this.$html=$("html");this.$body=$("body");this._initIe7();this._initDefLang();this._initLang();this._initPreference();this._initApp();if($.browser.mozilla){denbun.$window.bind("unload",function(){$("[disabled]").attr("disabled",false)})}if(denbun.isIpad()){denbun.$window.bind("orientationchange",function(e){denbun.$window.trigger("resize")})}this._boot()},_boot:function(){denbun._loadLangCssNeo();var self=this;this._loadLangText(function(){if(!DENBUN_MODE_XNEO){self._setTimezoneOffset()}if(!self.getSessionId()){if(DENBUN_MODE_XNEO){self.moveNeoTopPage()}else{var page=self._getLoginPage();page.open()}}else{self.start()}})},moveNeoTopPage:function(){denbun.app.forceToClose();var url=denbun.getUrl(denbun.CGI_DNEO);location.href=url},_setTimezoneOffset:function(){denbun.setCookie(denbun.KEY_TIMEZONE_OFFSET,new Date().getTimezoneOffset())},getTimezoneOffset:function(){return denbun.getCookie(denbun.KEY_TIMEZONE_OFFSET)},start:function(data,pageName){var self=this;denbun.comSetting.load(data,function(){denbun._loadThemeCss();if(DENBUN_MODE_XNEO){self._initMenuDisplayControl();self._initPager();self._initUserId();self._initUserInfoDisp();self._initSlideDownMsg();desknets._initSetDatepicker();desknets._initSetUp();desknets.dateTime.init();desknets.popUp.init();desknets.chooser.init();desknets.refDialog.init()}var elPagesContainer=denbun.getElPagesContainer();elPagesContainer.show();elPagesContainer.removeClass("minimum");denbun.app.openFirstPage(pageName)})},_initMenuDisplayControl:function(){var element;if(!denbun.comSetting.isAvailableImap()){$("#page_selector-item-mail").hide()}if(!denbun.comSetting.isAvailableImap()&&!denbun.comSetting.isAvailableAddress()&&!denbun.comSetting.isAvailableUserList()){$("#page_selector-item-address").hide()}else{denbun.comSetting.getDirectoryServiceList(function(){var hasDirectoryService=denbun.comSetting.hasDirectoryService();if(denbun.comSetting.isAvailableAddress()){}else{if(denbun.comSetting.isAvailableUserList()){$("#page_selector-item-address").find("a").attr("href","#page="+denbun.PAGE_ADDRESS_USERS_LIST)}else{if(hasDirectoryService){$("#page_selector-item-address").find("a").attr("href","#page="+denbun.PAGE_ADDRESS_DIRECTORY_LIST)}else{$("#page_selector-item-address").hide()}}}})}},_initPager:function(){desknets.Pager.objDefOptions.msgPageNavi=desknets.Resource.Pager.msgPageNavi;desknets.Pager.objDefOptions.msgPageMove=desknets.Resource.Pager.msgPageMove;desknets.Pager.objDefOptions.msgPageInput=desknets.Resource.Pager.msgPageInput;desknets.Pager.objDefOptions.msgPageInputBtn=desknets.Resource.Pager.msgPageInputBtn;desknets.Pager.objDefOptions.msgPageFirst=desknets.Resource.Pager.msgPageFirst;desknets.Pager.objDefOptions.msgPagePrev=desknets.Resource.Pager.msgPagePrev;desknets.Pager.objDefOptions.msgPageNext=desknets.Resource.Pager.msgPageNext;desknets.Pager.objDefOptions.msgPageLast=desknets.Resource.Pager.msgPageLast;return},_initUserInfoDisp:function(){var value;value=denbun.comSetting.getMailLinkSetting();$("#jco-loginmaillink").val(value);value=denbun.comSetting.isAvailableUserList()?"1":"0";$("#jco-userinfodisp").val(value);value=denbun.comSetting.getUserNoDisp();if(!!value){$("#jco-usernodispitems").val(value)}value=denbun.comSetting.getUserDispItems();if(!!value){$("#jco-user-dispitems").val(value)}},_initSlideDownMsg:function(){var element;element=this._getElSlideDownMsg();this.__bind(element,"click","SlideDownMsg")},_initUserId:function(){var id=denbun.comSetting.getSysUserId();$("#jco-loginuid").val(id)},_loadThemeCss:function(){var color=encodeURIComponent(denbun.comSetting.getColorName());var url=DENBUN_DOC_ROOT+"/dnhtml5i/themes/"+color+"/css/theme.css";url+="?_="+this.getAntiCache();if(document.createStyleSheet){try{document.createStyleSheet(url)}catch(e){}}else{var elLink=$('<link rel="stylesheet" href="'+url+'" />').insertAfter('link[rel="stylesheet"]:last')}},_loadLangCssNeo:function(){var lang=this.getLang();var urlList=[];urlList[0]=DENBUN_DOC_ROOT+"/dneores/lang/"+lang+"/themes/common.css";urlList[1]=DENBUN_DOC_ROOT+"/lang/"+lang+"/themes/common.css";for(var i=0;i<urlList.length;i++){var url=urlList[i];url+="?_="+this.getAntiCache();if(document.createStyleSheet){try{document.createStyleSheet(url)}catch(e){}}else{var elLink=$('<link rel="stylesheet" href="'+url+'" />').insertAfter('link[rel="stylesheet"]:last')}}},initExciteTrans:function(){if(denbun.comSetting.isAvailableExciteTrans()){var elItems=$(".excite_trans");if(denbun.isIe7()){elItems.css({display:"inline",zoom:1})}else{elItems.css({display:"inline-block"})}}},openPage:function(pageName,parameters,flgInit){denbun.app.openPage(pageName,parameters,flgInit)},getUrl:function(cgiName){var extension=this._getExtension();var url=cgiName+"."+extension;return url},_getExtensionOf:function(url){var index=url.lastIndexOf(".");var extension=url.slice(index+1);return extension},openLoginPage:function(){},logout:function(){var page=this._getLoginPage();page.logout()},alert:function(message,setting,type,isHtml){return denbun.Dialog.alert(message,setting,type,isHtml)},notify:function(message,setting){return denbun.Dialog.notify(message,setting)},confirm:function(message,setting,addmsg){return denbun.Dialog.confirm(message,setting,addmsg)},prevent:function(message,setting){return denbun.Dialog.prevent(message,setting)},inputOne:function(setting){var dialog=this._getSingleInputDialog();dialog.open(setting)},moveToTop:function(element){var zIndex=this._getTopZIndex();element.css({zIndex:++zIndex});this._setTopZIndex(zIndex)},getDestinationText:function(name,mail){name=name.replace(/\\/g,"\\\\");name=name.replace(/'/g,"\\'");name=name.replace(/"/g,'\\"');var destinatin='"'+name+'"<'+mail+">";return destinatin},splitDestinationText:function(source){if(!source){source=""}var data={};data[denbun.DESTINATION_ALL]=source;var matched=source.match(/(?:\"(.*)\")? *<?([^>]*)>?/);if(matched){data[denbun.DESTINATION_NAME]=matched[1];data[denbun.DESTINATION_MAIL]=matched[2]}data[denbun.DESTINATION_NAME]=data[denbun.DESTINATION_NAME]||"";data[denbun.DESTINATION_MAIL]=data[denbun.DESTINATION_MAIL]||"";return data},getMailAddressByAddressSendGroup:function(mailAddress,callback){var data=this._parseGroupIdAndType(mailAddress);if(!data){return}var groupType=data.groupType;var groupId=data.groupId;switch(groupType){case denbun.SEND_GROUP_TYPE_ADDRESS_PERSONAL:case denbun.SEND_GROUP_TYPE_ADDRESS_PUBLIC:if(groupType==denbun.SEND_GROUP_TYPE_ADDRESS_PERSONAL){groupType="1";if(DENBUN_MODE_XNEO){groupId="-"+groupId}}else{groupType="2"}this.getMailAddressesOfAddressBookByGroup(groupId,groupType,callback);break;case denbun.SEND_GROUP_TYPE_USERS_PERSONAL:case denbun.SEND_GROUP_TYPE_USERS_PUBLIC:if(groupType==denbun.SEND_GROUP_TYPE_USERS_PERSONAL){groupId="-"+groupId}groupType="3";this.getMailAddressesOfUsersListByGroup(groupId,groupType,callback);break;default:}},_parseGroupIdAndType:function(mailAddress){if(!mailAddress){return null}var groupIdEndIndex;var lastIndex=mailAddress.lastIndexOf('"');if(lastIndex>1){groupIdEndIndex=lastIndex}else{return null}var groupIdStartIndex;var lastIndex=mailAddress.lastIndexOf(":");if(lastIndex>1){groupIdStartIndex=lastIndex+1}else{return null}var groupTypeEndIndex=lastIndex;var groupTypeStartIndex;lastIndex=mailAddress.lastIndexOf(":",lastIndex-1);if(lastIndex>0){groupTypeStartIndex=lastIndex+1}else{return null}var groupId=mailAddress.slice(groupIdStartIndex,groupIdEndIndex);var groupType=mailAddress.slice(groupTypeStartIndex,groupTypeEndIndex);var data={groupId:groupId,groupType:groupType};return data},getMailAddressesOfAddressBookByGroup:function(groupId,groupType,callback){var conditions={};conditions.addrgid=groupId;conditions.area=groupType;conditions.kind="1";conditions.num="999";var self=this;this._getAddressList(conditions,function(data){var mailAddresses=self._getMailAddressesOfAddressBookByData(data);if(typeof callback=="function"){callback(mailAddresses)}})},_getMailAddressesOfAddressBookByData:function(data){var mailAddresses=[];var dataList=data.dataList;for(var i=0;i<dataList.length;i++){var rowData=dataList[i];var name=rowData.Name;var mail=rowData.Mail;if(mail&&mail!=""){var text=denbun.getDestinationText(name,mail);var mailAddress={mail:mail,text:text};mailAddresses.push(mailAddress)}}return mailAddresses},_getAddressList:function(conditions,callback){this._setCallbackForGetAddressList(callback);this._setConditionsForGetAddressList(conditions);var ajax=this._getAjaxGetAddressList();ajax.sendRequest()},_getDataToGetAddressList:function(){var data=this._getConditionsForGetAddressList();data.cmd="addrindex";return data},getMailAddressesOfUsersListByGroup:function(groupId,groupType,callback){var conditions={};conditions.gid=groupId;conditions.area=groupType;conditions.num="999";var self=this;this._getUsersList(conditions,function(data){var mailAddresses=self._getMailAddressesOfUsersListByData(data);if(typeof callback=="function"){callback(mailAddresses)}})},_getMailAddressesOfUsersListByData:function(data){var mailAddresses=[];var dataList=data.dataList;for(var i=0;i<dataList.length;i++){var rowData=dataList[i];var name=rowData.Name;var mail=rowData.Mail;if(mail&&mail!=""){var text=denbun.getDestinationText(name,mail);var mailAddress={mail:mail,text:text};mailAddresses.push(mailAddress)}}return mailAddresses},_getUsersList:function(conditions,callback){this._setCallbackForGetUsersList(callback);this._setConditionsForGetUsersList(conditions);var ajax=this._getAjaxGetUsersList();ajax.sendRequest()},_getDataToGetUsersList:function(){var data=this._getConditionsForGetUsersList();data.url=denbun.getUrl(denbun.CGI_USET);data.cmd="usetindex";return data},_parseForAddressList:function(response){var elResult=$("result",response);var data=denbun.parseNode(elResult);this._parseListForAddressList(elResult,data);return data},_parseListForAddressList:function(elResult,data){delete data.list;data.dataList=[];var elItems=elResult.find("item");for(var i=0;i<elItems.length;i++){var elItem=elItems.eq(i);var rowData=denbun.parseNode(elItem);data.dataList.push(rowData)}},getMailAddressForToMailInputItem:function(mailAddresses){var value="";if(mailAddresses.text){return mailAddresses.text}for(var i=0;i<mailAddresses.length;i++){if(!mailAddresses[i]){continue}if(value.charAt(0)!=""){value+=", "}value+=mailAddresses[i].text}return value},isSendGroupFormat:function(value){if(value.slice(0,2)=='@"'){return true}return false},getHtml:function(htmlName,callback,pageName,parameters,flgInit){var conditions={};conditions.htmlname=htmlName;var self=this;this._getHtml(conditions,function(data){self._setHtml(data,htmlName);if(typeof callback=="function"){callback(pageName,parameters,flgInit)}})},_setHtml:function(data,htmlName){var html=data[denbun.PARAM_PART_HTML];var partid="part-"+htmlName;var elem=denbun.$body.find("#"+partid);elem.empty().html(html);if(denbun.isAndroid()){denbun.app.bindMenuItemsForAndroid(elem)}},_getHtml:function(conditions,callback){this._setCallbackForGetHtml(callback);this._setConditionsForGetHtml(conditions);var ajax=this._getAjaxGetHtml();ajax.sendRequest()},_getDataToGetHtml:function(){var data=this._getConditionsForGetHtml();data.url=denbun.getUrl(denbun.CGI_RICH);data.cmd="gethtml";return data},getRect:function(elRect,globally){var rect;if(!elRect||elRect.length<1){rect={height:0,left:0,top:0,width:0}}else{if(globally){rect=elRect.offset()}else{rect=elRect.position()}rect.height=elRect.outerHeight();rect.width=elRect.outerWidth()}return rect},getClientSize:function(){var size={height:document.documentElement.clientHeight,width:document.documentElement.clientWidth};if(denbun.isAndroid()){size.height=size.height>400?size.height:400}return size},getParameter:function(key){var parameters=this.getParameters();var value=parameters[key];return value},addParameter:function(key,value){var parameters=this.getParameters();if(value==null){delete parameters[key]}else{parameters[key]=value}this._updateParameters()},_updateParameters:function(){var method=this.getParameter(denbun.PARAM_METHOD);if(method==denbun.METHOD_POST){if(DENBUN_MODE_XNEO){var pageName=denbun.getCurPageName();var query=denbun.PARAM_PAGE+"="+pageName;location.hash=query}else{location.hash=""}}else{var parameters=this.getParameters();var query=neo.core.joinParam(parameters);var pageName=denbun.getCurPageName();query=denbun.PARAM_PAGE+"="+pageName+"&"+query;location.hash=query}},getCookie:function(key){return neo.core.getCookie(key)},setCookie:function(key,value,options){return neo.core.setCookie(key,value,options)},parseFlatData:function(response){var data={};var elResult=$(response).children();denbun.parseChildElements(data,elResult);return data},parseListElements:function(elList){var dataList=[];var elChildren=elList.children();for(var i=0;i<elChildren.length;i++){var elChild=elChildren.eq(i);var data=denbun.parseNode(elChild);dataList.push(data)}return dataList},parseNode:function(elNode){var data={};denbun.parseAttributes(data,elNode);denbun.parseChildElements(data,elNode);return data},parseAttributes:function(data,elItem){$.each(elItem[0].attributes,function(i,attribute){var name=attribute.name;var value=attribute.nodeValue;data[name]=value});return data},parseChildElements:function(data,elItem){$.each(elItem.children(),function(i,rawElChild){var key=rawElChild.tagName;var value=$(rawElChild).text();data[key]=value});return data},getSessionId:function(){var key="dnwmlsid";if(DENBUN_MODE_XNEO){key="dnzSid"}var sessionId=this.getCookie(key);return sessionId},isCtrlPressed:function(){return denbun.app.isCtrlPressed()},isShiftPressed:function(){return denbun.app.isShiftPressed()},isAltPressed:function(){return denbun.app.isAltPressed()},setCombinationKey:function(keyCode,value){denbun.app.setCombinationKey(keyCode,true)},_loadLangText:function(callback){var lang=this.getLang();var self=this;var deflang=this.getDefLang();var self=this;var count=0;var MAX=2;MAX+=1;var funcNext=function(){count++;if(count<MAX){return}if(denbun.textMap&&neo.Ajax.ajaxMessages){callback()}};var data=denbun.inherit("textMap");if(data){denbun.textMap=data;if(!DENBUN_MODE_XNEO){denbun.datepickerLangSetting=denbun.inherit("datepickerLangSetting")}funcNext()}else{var funcload=function(loadlang,funcNextSet){var url=self._getLangTextUrl(loadlang);$.ajax({url:url,success:function(text){try{eval(text)}catch(e){}},complete:funcNextSet})};if(!!deflang){funcload(deflang,function(){funcload(lang,funcNext)})}else{funcload(lang,funcNext)}}var dataAjax=neo.core.get(denbun.parent,"neo.Ajax.ajaxMessages");if(dataAjax){neo.Ajax.ajaxMessages=dataAjax;funcNext()}else{var funcloadajax=function(loadlang,funcNextSet){var urlAjax=self._getAjaxLangTextUrl(loadlang);$.ajax({url:urlAjax,success:function(text){try{eval(text)}catch(e){}},complete:funcNextSet})};if(!!deflang){funcloadajax(deflang,function(){funcloadajax(lang,funcNext)})}else{funcloadajax(lang,funcNext)}}var urlList=this._getLangTextUrlListNeo(lang);var urldefList=this._getLangTextUrlListNeo(deflang);var ilen=urlList.length;var itemcount=0;var funcloadres=function(resurl,funcNextSet){$.ajax({url:resurl,success:function(text){try{eval(text)}catch(e){}},complete:funcNextSet})};var funcLoadLangJsNeo=function(){if(itemcount>=ilen){funcNext()}else{if(!!deflang){funcloadres(urldefList[itemcount],function(){funcloadres(urlList[itemcount],funcLoadLangJsNeo)})}else{funcloadres(urlList[itemcount],funcLoadLangJsNeo)}itemcount++}};funcLoadLangJsNeo()},_getLangTextUrl:function(lang){var url;if(DENBUN_MODE_XNEO){url=DENBUN_DOC_ROOT+"/lang/"+lang+"/js/text.imap.js?_="+denbun.getAntiCache()}else{url=DENBUN_DOC_ROOT+"/dnhtml5i/js/text/text."+lang+".js?_="+denbun.getAntiCache()}return url},_getAjaxLangTextUrl:function(lang){var url;if(DENBUN_MODE_XNEO){url=DENBUN_DOC_ROOT+"/lang/"+lang+"/js/neoajax.msg.js?_="+denbun.getAntiCache()}else{url=DENBUN_DOC_ROOT+"/dnhtml5i/js/text/neoajax.msg."+lang+".js?_="+denbun.getAntiCache()}return url},getText:function(key){var text=denbun.textMap[key]||key;return text},_getLangTextUrlListNeo:function(langNeo){var urlList=[];urlList[0]=DENBUN_DOC_ROOT+"/dneores/lang/"+langNeo+"/js/resource.js?_="+denbun.getAntiCache();return urlList},reload:function(pageName){denbun.Ajax.setNotShowedError(true);denbun.app.forceToClose();if(pageName){this._setCurPageName(pageName);this.setParameters()}location.reload()},showSlideBarOverlay:function(cls){if(cls==null){cls=denbun.CLS_SLIDE_BAR_OVERLAY}var elOverlay=denbun.getElOverlay();elOverlay.addClass(cls).show()},hideSlideBarOverlay:function(cls){if(cls==null){cls=denbun.CLS_SLIDE_BAR_OVERLAY}var elOverlay=denbun.getElOverlay();elOverlay.removeClass(cls).hide()},inherit:function(path){return neo.core.get(denbun.parent,path,null)},resizeDialogOverlay:function(){$(".overlay-dialog:visible").css({width:0,height:0}).css({width:denbun.$document.width()+"px",height:denbun.$document.height()+"px"})},notifyAndOverlay:function(message){denbun.notify(message,{onclose:function(){var elOverlay=denbun.getElOverlay().clone().removeAttr("id").addClass(denbun.Dialog.CLS_OVERLAY);elOverlay.appendTo("body");denbun.moveToTop(elOverlay);elOverlay.show()}})},getParsedAddressesToAddrAndName:function(mailAddress){var length=this.getLetterLength(mailAddress);var index=0;var cutStartPos=0;var _char;var addresses=[];if(!mailAddress){return[]}var work=mailAddress.replace(/\\\\/g,"**");work=work.replace(/\\\"/g,"**");for(;index<=length;index++){if(index==length||work.charAt(index)==","){var oneMail=mailAddress.substring(cutStartPos,index).replace(/^\s+|\s+$/g,"");if(oneMail!=""){var oneMap=this.getParsedMailToAddressAndName(oneMail);addresses.push(oneMap)}if(index==length){break}cutStartPos=index+1;continue}_char=work.charAt(index);if(_char=='"'){index=work.indexOf('"',index+1);if(index<0){index=length}continue}}return addresses},getLetterLength:function(value){value=value?value:"";value=unescape(escape(value).split("%00")[0]);value=value.replace(/[^0-9a-z\r\n\t\!\"\#\$\%\&\'\(\)\-\=\^\~\\\|\@\`\[\{\;\+\:\*\]\}\,\<\.\>\/\?\_]/ig,"#");return value.length},getParsedMailToAddressAndName:function(oneMail){var address=oneMail;var name="";var indexOfStart=oneMail.lastIndexOf("<");if(indexOfStart>=0){address=oneMail.substring(indexOfStart+1).replace(/^[　\s]+|[　\s]+$/g,"");if(address.slice(-1)==">"){address=address.slice(0,-1)}name=oneMail.substring(0,indexOfStart).replace(/^[　\s]+|[　\s]+$/g,"");if(name.charAt(0)=='"'&&name.slice(-1)=='"'){name=name.slice(1,-1);name=this.getDecodeQuotEscape(name)}}var map={address:address,name:name};return map},getDecodeQuotEscape:function(value){if(value==undefined||value==null){return null}var work=value;work=work.replace(/\\\"/g,'"');work=this._getDecodeQuotEscapeNonDubleQuot(work);return work},_getDecodeQuotEscapeNonDubleQuot:function(value){if(value==undefined||value==null){return null}var work=value;work=work.replace(/\\'/g,"'");work=work.replace(/\\\\/g,"\\");return work},getEncodeQuotEscape:function(value){if(value==undefined||value==null){return null}var work=value;work=work.replace(/\\/g,"\\\\");work=work.replace(/\'/g,"\\'");work=work.replace(/\"/g,'\\"');return work},getParsedAddresses:function(mailAddress){var length=denbun.getLetterLength(mailAddress);var index=0;var cutStartPos=0;var _char;var addresses=[];if(!mailAddress){return[]}var work=mailAddress.replace(/\\\\/g,"**");work=work.replace(/\\\"/g,"**");for(;index<=length;index++){if(index==length||work.charAt(index)==","){var oneMail=mailAddress.substring(cutStartPos,index).replace(/^\s+|\s+$/g,"");if(oneMail!=""){var oneAddress=denbun._getParsedOneAddresse(oneMail);addresses.push(oneAddress)}if(index==length){break}cutStartPos=index+1;continue}_char=work.charAt(index);if(_char=='"'){index=work.indexOf('"',index+1);if(index<0){index=length}continue}}return addresses},_getParsedOneAddresse:function(oneMail){var mail="";var text="";if(denbun.isSendGroupFormat(oneMail)){mail=oneMail}else{var oneMap=denbun.getParsedMailToAddressAndName(oneMail);mail=oneMap.address}text=oneMail;var oneAddress={mail:mail,text:text};return oneAddress},setTagColorStatus:function(elLink,tagColor){var elIcon=elLink.find(".jco-tag-select-item");elIcon.removeClass();elIcon.addClass("co-tag-select-item jco-tag-select-item");elIcon.addClass(desknets.tagDisp.getTagColorClass(tagColor));var sStr=desknets.tagDisp.getTagColorTitle(tagColor);elIcon.attr("title",sStr);elIcon.text(sStr)},showSlideDownMsg:function(content,classname){var self=this;var elSlideDownMsg=self._getElSlideDownMsg();self.hideSlideDownMsg();elSlideDownMsg.empty().append(content);if(classname&&classname!=""){elSlideDownMsg.addClass(classname)}setTimeout(function(){self.slideDownSlideDownMsg(elSlideDownMsg)},1)},hideSlideDownMsg:function(classname){var elSlideDownMsg=this._getElSlideDownMsg();elSlideDownMsg.hide();if(classname&&classname!=""){if(!elSlideDownMsg.hasClass(classname)){return}}elSlideDownMsg.removeAttr("class");this.resetAnimation(elSlideDownMsg)},slideDownSlideDownMsg:function(elSlideDownMsg){elSlideDownMsg.show();setTimeout(function(){if(denbun.isFirefox()){elSlideDownMsg.css({"-moz-transform":"translatey(30px)","-moz-transition":"-moz-transform 500ms cubic-bezier(0,0,0.25,1)"})}else{if(denbun.isChrome()||denbun.isSafari()||denbun.isTablet()){elSlideDownMsg.css({"-webkit-transform":"translate3d(0px,30px,0)","-webkit-transition":"-webkit-transform 500ms cubic-bezier(0,0,0.25,1)"})}else{elSlideDownMsg.animate({top:"30px"},500)}}},1)},slideUpSlideDownMsg:function(elSlideDownMsg){var self=this;if(denbun.isFirefox()){elSlideDownMsg.css({"-moz-transform":"translatey(0px)","-moz-transition":"-moz-transform 500ms cubic-bezier(0,0,0.25,1)"}).one("transitionend",function(){elSlideDownMsg.hide();self.resetAnimation(elSlideDownMsg)})}else{if(denbun.isChrome()||denbun.isSafari()||denbun.isTablet()){elSlideDownMsg.css({"-webkit-transform":"translate3d(0px,0px,0)","-webkit-transition":"-webkit-transform 500ms cubic-bezier(0,0,0.25,1)"}).one("webkitTransitionEnd",function(){elSlideDownMsg.hide();self.resetAnimation(elSlideDownMsg)})}else{elSlideDownMsg.animate({top:"0px"},500,"linear",function(){elSlideDownMsg.hide();self.resetAnimation(elSlideDownMsg)})}}},resetAnimation:function(element){if(denbun.isFirefox()){element.css({"-moz-transform":"","-moz-transition":""})}else{if(denbun.isChrome()||denbun.isSafari()||denbun.isTablet()){element.css({"-webkit-transform":"","-webkit-transition":""})}else{element.css({top:"0px"})}}},getAjaxSendParams:function(settingLow){var params={};if(settingLow){if(settingLow.type=="POST"){params=neo.core.splitParam(settingLow.data)}else{params=neo.core.splitParam(settingLow.url)}}return params},__closure:function(func,context){if(!context){context=this}if(typeof func!="function"){var message="<func> is not function.";throw new Error("neo.denbun.__closure : "+message)}var wrapedFunc=function(){Array.prototype.push.apply(arguments,[this]);var dummy=arguments.length;return func.apply(context,arguments)};return wrapedFunc},__bind:function(element,eventType,name,context){if(!name){name=""}if(!context){context=this}var funcName="on"+eventType+name;var func=context[funcName];if(typeof func!="function"){var message="This is not function : "+funcName+".";throw new Error("__bind : "+message)}var wrapedFunc=this.__closure(func,context);element.live(eventType,wrapedFunc)},onsuccessGetAddressList:function(response,settingLow,setting){var key=denbun.getAjaxSendParams(settingLow)["_"];var lastKey=this._getLastConnectionKey();if(key!=lastKey){return}var data=this._parseForAddressList(response);var callback=this._getCallbackForGetAddressList();if(typeof callback=="function"){callback(data)}},onsuccessGetUsersList:function(response,settingLow,setting){var key=denbun.getAjaxSendParams(settingLow)["_"];var lastKey=this._getLastConnectionKey();if(key!=lastKey){return}var data=this._parseForAddressList(response);var callback=this._getCallbackForGetUsersList();if(typeof callback=="function"){callback(data)}},onsuccessGetHtml:function(response,settingLow,setting){var key=denbun.getAjaxSendParams(settingLow)["_"];var lastKey=this._getLastConnectionKey();if(key!=lastKey){return}var data=denbun.parseFlatData(response);var callback=this._getCallbackForGetHtml();if(typeof callback=="function"){callback(data)}},onclickSlideDownMsg:function(event,orgContext){var elSlideDownMsg=this._getElSlideDownMsg();this.slideUpSlideDownMsg(elSlideDownMsg)},getAntiCache:g_denbun_getAntiCache,banpei:null},properties:{__constructor:function(){var message="This class is not allowed to build instance.";throw new Error("neo.denbun.__constructor : "+message)}}});denbun.__constructor();$(document).ready(function(){denbun.initialize()})})(jQuery);(function(b){var d=neo.core.readyNamespace("neo.denbun.ComSetting");if(!d){return}var c=neo.denbun;var a=neo.denbun.ComSetting=new neo.core.Class({classProperties:{constructor:function(){}},properties:{_callbackOnLoadGen:null,_getCallbackOnLoadGen:function(){return this._callbackOnLoadGen},_setCallbackOnLoadGen:function(e){return this._callbackOnLoadGen=e},_callbackOnLoadMailGeneralSetting:null,_getCallbackOnLoadMailGeneralSetting:function(){return this._callbackOnLoadMailGeneralSetting},_setCallbackOnLoadMailGeneralSetting:function(e){return this._callbackOnLoadMailGeneralSetting=e},_callbackOnLoadPSetUser:null,_getCallbackOnLoadPSetUser:function(){return this._callbackOnLoadPSetUser},_setCallbackOnLoadPSetUser:function(e){return this._callbackOnLoadPSetUser=e},_callbackOnLoadMailSetting:null,_getCallbackOnLoadMailSetting:function(){return this._callbackOnLoadMailSetting},_setCallbackOnLoadMailSetting:function(e){return this._callbackOnLoadMailSetting=e},_callbackOnLoadAccount:null,_getCallbackOnLoadAccount:function(){return this._callbackOnLoadAccount},_setCallbackOnLoadAccount:function(e){return this._callbackOnLoadAccount=e},_callbackOnLoadNotification:null,_getCallbackOnLoadNotification:function(){return this._callbackOnLoadNotification},_setCallbackOnLoadNotification:function(e){return this._callbackOnLoadNotification=e},_callbackOnLoadAllAddressList:null,_getCallbackOnLoadAllAddressList:function(){return this._callbackOnLoadAllAddressList},_setCallbackOnLoadAllAddressList:function(e){return this._callbackOnLoadAllAddressList=e},_callbackOnLoadCharset:null,_getCallbackOnLoadCharset:function(){return this._callbackOnLoadCharset},_setCallbackOnLoadCharset:function(e){return this._callbackOnLoadCharset=e},_callbackOnLoadSignature:null,_getCallbackOnLoadSignature:function(){return this._callbackOnLoadSignature},_setCallbackOnLoadSignature:function(e){return this._callbackOnLoadSignature=e},_callbackOnLoadAttExt:null,_getCallbackOnLoadAttExt:function(){return this._callbackOnLoadAttExt},_setCallbackOnLoadAttExt:function(e){return this._callbackOnLoadAttExt=e},_callbackOnLoadAddressSetting:null,_getCallbackOnLoadAddressSetting:function(){return this._callbackOnLoadAddressSetting},_setCallbackOnLoadAddressSetting:function(e){return this._callbackOnLoadAddressSetting=e},_callbackOnLoadDirectoryServiceList:null,_getCallbackOnLoadDirectoryServiceList:function(){return this._callbackOnLoadDirectoryServiceList},_setCallbackOnLoadDirectoryServiceList:function(e){return this._callbackOnLoadDirectoryServiceList=e},_loginInfo:null,getLoginInfo:function(){return this._loginInfo||{}},_setLoginInfo:function(e){return this._loginInfo=e},_setGen:null,_getSetGen:function(){return this._setGen},_setSetGen:function(e){return this._setGen=e},_setModulesx:null,_getSetModulesx:function(){return this._setModulesx},_setSetModulesx:function(e){return this._setModulesx=e},_pSetGen:null,_getPSetGen:function(){return this._pSetGen},_setPSetGen:function(e){return this._pSetGen=e},_sharedLinksData:null,getSharedLinksData:function(){if(c.parent&&!c.isIpadiOS6()){return c.parent.comSetting.getSharedLinksData()}else{return this._sharedLinksData}},_setSharedLinksData:function(e){return this._sharedLinksData=e},_mailSettingData:null,getMailSettingData:function(){if(c.parent&&!c.isIpadiOS6()){return c.parent.comSetting.getMailSettingData()}else{return this._mailSettingData}},_setMailSettingData:function(e){return this._mailSettingData=e},_mailGeneralSettingData:null,getMailGeneralSettingData:function(){if(c.parent&&!c.isIpadiOS6()){return c.parent.comSetting.getMailGeneralSettingData()}else{return this._mailGeneralSettingData}},_setMailGeneralSettingData:function(e){return this._mailGeneralSettingData=e},_setWListAddr:null,getSetWListAddr:function(){if(c.parent&&!c.isIpadiOS6()){return c.parent.comSetting.getSetWListAddr()}else{return this._setWListAddr}},_setSetWListAddr:function(e){return this._setWListAddr=e},_accountData:null,getAccountData:function(){if(c.parent&&!c.isIpadiOS6()){return c.parent.comSetting.getAccountData()}else{return this._accountData}},_setAccountData:function(e){return this._accountData=e},_notificationData:null,getNotificationData:function(){if(c.parent&&!c.isIpadiOS6()){return c.parent.comSetting.getNotificationData()}else{return this._notificationData}},_setNotificationData:function(e){return this._notificationData=e},_pSetUserData:null,getPSetUserData:function(){if(c.parent&&!c.isIpadiOS6()){return c.parent.comSetting.getPSetUserData()}else{return this._pSetUserData}},_setPSetUserData:function(e){return this._pSetUserData=e},_allAddressListData:null,getAllAddressListData:function(){if(c.parent&&!c.isIpadiOS6()){return c.parent.comSetting.getAllAddressListData()}else{return this._allAddressListData}},_setAllAddressListData:function(e){return this._allAddressListData=e},_charsetData:null,getCharsetData:function(){if(c.parent&&!c.isIpadiOS6()){return c.parent.comSetting.getCharsetData()}else{return this._charsetData}},_setCharsetData:function(e){return this._charsetData=e},_sigunatureData:null,getSignatureData:function(){if(c.parent&&!c.isIpadiOS6()){return c.parent.comSetting.getSignatureData()}else{return this._sigunatureData}},_setSignatureData:function(e){return this._sigunatureData=e},_attExtData:null,getAttExtData:function(){if(c.parent&&!c.isIpadiOS6()){if(c.isMsie()){var f=c.parent.comSetting.getAttExtData();if(f){var g=[];for(var e=0;e<f.length;e++){g.push(f[e])}return g}return f}else{return c.parent.comSetting.getAttExtData()}}else{return this._attExtData}},_setAttExtData:function(e){return this._attExtData=e},_addressSettingData:null,getAddressSettingData:function(){if(c.parent&&!c.isIpadiOS6()){return c.parent.comSetting.getAddressSettingData()}else{return this._AddressSettingData}},_setAddressSettingData:function(e){return this._AddressSettingData=e},_directoryServiceListData:null,getDirectoryServiceListData:function(){if(c.parent&&!c.isIpadiOS6()){return c.parent.comSetting.getDirectoryServiceListData()}else{return this._directoryServiceListData}},_setDirectoryServiceListData:function(e){return this._directoryServiceListData=e},_ajaxLoadLoginInfo:null,_getAjaxLoadLoginInfo:function(){return this._ajaxLoadLoginInfo||this._initAjaxLoadLoginInfo()},_initAjaxLoadLoginInfo:function(){var e=this;var f={getSendData:function(){var h={url:c.getUrl(c.CGI_RICH),cmd:"getlogin"};return h},onsuccess:this.__closure(this.onsuccessLoadLoginInfo),onerror:this.__closure(this.onerrorLoadLoginInfo)};var g=new c.Ajax(f);g.initialize();return this._ajaxLoadLoginInfo=g},_ajaxLoadSetGen:null,_getAjaxLoadSetGen:function(){return this._ajaxLoadSetGen||this._initAjaxLoadSetGen()},_initAjaxLoadSetGen:function(){var e=this;var f={getSendData:function(){var h={url:c.getUrl(c.CGI_RICH),cmd:"setgen"};return h},onsuccess:this.__closure(this.onsuccessLoadSetGen)};var g=new c.Ajax(f);g.initialize();return this._ajaxLoadSetGen=g},_ajaxLoadSetModulesx:null,_getAjaxLoadSetModulesx:function(){return this._ajaxLoadSetModulesx||this._initAjaxLoadSetModulesx()},_initAjaxLoadSetModulesx:function(){var e=this;var f={getSendData:function(){var h={url:c.getUrl(c.CGI_RICH),cmd:"setmodulesx"};return h},onsuccess:this.__closure(this.onsuccessLoadSetModulesx)};var g=new c.Ajax(f);g.initialize();return this._ajaxLoadSetModulesx=g},_ajaxLoadSetWListAddr:null,_getAjaxLoadSetWListAddr:function(){return this._ajaxLoadSetWListAddr||this._initAjaxLoadSetWListAddr()},_initAjaxLoadSetWListAddr:function(){var e=this;var f={getSendData:function(){var h={cmd:"mailsetwlistaddr"};return h},onsuccess:this.__closure(this.onsuccessLoadSetWListAddr)};var g=new c.Ajax(f);g.initialize();return this._ajaxLoadSetWListAddr=g},_ajaxLoadPSetGen:null,_getAjaxLoadPSetGen:function(){return this._ajaxLoadPSetGen||this._initAjaxLoadPSetGen()},_initAjaxLoadPSetGen:function(){var e=this;var f={getSendData:function(){var h={url:c.getUrl(c.CGI_RICH),cmd:"psetgen"};return h},onsuccess:this.__closure(this.onsuccessLoadPSetGen)};var g=new c.Ajax(f);g.initialize();return this._ajaxLoadPSetGen=g},_ajaxLoadSharedLinks:null,_getAjaxLoadSharedLinks:function(){return this._ajaxLoadSharedLinks||this._initAjaxLoadSharedLinks()},_initAjaxLoadSharedLinks:function(){var e=this;var f={url:c.getUrl(c.CGI_RICH),getSendData:function(){var h={cmd:"seturllink"};return h},onsuccess:this.__closure(this.onsuccessLoadSharedLinks)};var g=new c.Ajax(f);g.initialize();return this._ajaxLoadSharedLinks=g},_ajaxLoadMailGeneralSetting:null,_getAjaxLoadMailGeneralSetting:function(){return this._ajaxLoadMailGeneralSetting||this._initAjaxLoadMailGeneralSetting()},_initAjaxLoadMailGeneralSetting:function(){var e={getSendData:function(){var g={cmd:"mailsetgen"};return g},onsuccess:this.__closure(this.onsuccessLoadMailGeneralSetting)};var f=new c.Ajax(e);f.initialize();return this._ajaxLoadMailGeneralSetting=f},_ajaxLoadPSetUser:null,_getAjaxLoadPSetUser:function(){return this._ajaxLoadPSetUser||this._initAjaxLoadPSetUser()},_initAjaxLoadPSetUser:function(){var e=this;var f={getSendData:function(){var h={url:c.getUrl(c.CGI_RICH),cmd:"psetuser"};return h},onsuccess:this.__closure(this.onsuccessLoadPSetUser)};var g=new c.Ajax(f);g.initialize();return this._ajaxLoadPSetUser=g},_ajaxLoadMailSetting:null,_getAjaxLoadMailSetting:function(){return this._ajaxLoadMailSetting||this._initAjaxLoadMailSetting()},_initAjaxLoadMailSetting:function(){var e={getSendData:function(){var g={cmd:"mailgenprivate"};return g},onsuccess:this.__closure(this.onsuccessLoadMailSetting)};var f=new c.Ajax(e);f.initialize();return this._ajaxLoadMailSetting=f},_ajaxLoadAccount:null,_getAjaxLoadAccount:function(){return this._ajaxLoadAccount||this._initAjaxLoadAccount()},_initAjaxLoadAccount:function(){var e={getSendData:function(){var g={cmd:"mailaccountentry"};return g},onsuccess:this.__closure(this.onsuccessLoadAccount)};var f=new c.Ajax(e);f.initialize();return this._ajaxLoadAccount=f},_ajaxLoadNotification:null,_getAjaxLoadNotification:function(){return this._ajaxLoadNotification||this._initAjaxLoadNotification()},_initAjaxLoadNotification:function(){var e={getSendData:function(){var g={cmd:"mailnotification"};return g},onsuccess:this.__closure(this.onsuccessLoadNotification)};var f=new c.Ajax(e);f.initialize();return this._ajaxLoadNotification=f},_ajaxLoadAllAddressList:null,_getAjaxLoadAllAddressList:function(){return this._ajaxLoadAllAddressList||this._initAjaxLoadAllAddressList()},_initAjaxLoadAllAddressList:function(){var e={getSendData:function(){var g={cmd:"addrallmaillist"};return g},onsuccess:this.__closure(this.onsuccessLoadAllAddressList)};var f=new c.Ajax(e);f.initialize();return this._ajaxLoadAllAddressList=f},_ajaxLoadCharset:null,_getAjaxLoadCharset:function(){return this._ajaxLoadCharset||this._initAjaxLoadCharset()},_initAjaxLoadCharset:function(){var e={getSendData:function(){var g={cmd:"mailsetcharset"};return g},onsuccess:this.__closure(this.onsuccessLoadCharset)};var f=new c.Ajax(e);f.initialize();return this._ajaxLoadCharset=f},_ajaxLoadSignature:null,_getAjaxLoadSignature:function(){return this._ajaxLoadSignature||this._initAjaxLoadSignature()},_initAjaxLoadSignature:function(){var e={getSendData:function(){var g={cmd:"mailsignlist"};return g},onsuccess:this.__closure(this.onsuccessLoadSignature)};var f=new c.Ajax(e);f.initialize();return this._ajaxLoadSignature=f},_ajaxLoadAttExt:null,_getAjaxLoadAttExt:function(){return this._ajaxLoadAttExt||this._initAjaxLoadAttExt()},_initAjaxLoadAttExt:function(){var e={getSendData:function(){var g={cmd:"mailgetextlist"};return g},onsuccess:this.__closure(this.onsuccessLoadAttExt)};var f=new c.Ajax(e);f.initialize();return this._ajaxLoadAttExt=f},_ajaxLoadAddressSetting:null,_getAjaxLoadAddressSetting:function(){return this._ajaxLoadAddressSetting||this._initAjaxLoadAddressSetting()},_initAjaxLoadAddressSetting:function(){var e={getSendData:function(){var g={cmd:"addrgenprivate"};return g},onsuccess:this.__closure(this.onsuccessLoadAddressSetting)};if(DENBUN_MODE_XNEO){e.url=c.getUrl(c.CGI_WMAIL_EML)}var f=new c.Ajax(e);f.initialize();return this._ajaxLoadAddressSetting=f},_ajaxLoadDirectoryServiceList:null,_getAjaxLoadDirectoryServiceList:function(){return this._ajaxLoadDirectoryServiceList||this._initAjaxLoadDirectoryServiceList()},_initAjaxLoadDirectoryServiceList:function(){var e={url:c.getUrl(c.CGI_DIR),getSendData:function(){var g={cmd:"addrdirservices"};return g},onsuccess:this.__closure(this.onsuccessLoadDirectoryServiceList)};var f=new c.Ajax(e);f.initialize();return this._ajaxLoadDirectoryServiceList=f},setting:null,_getPage:function(){return this.setting.page},__constructor:function(e){this.setting=e},initialize:function(){this._hook()},load:function(e,f){this._setCallbackOnLoadGen(f);if(e){this._updateLoginInfo(e);this._updateGen()}else{if(c.parent&&!c.isIpadiOS6()){e=c.parent.comSetting.getLoginInfo();this._setLoginInfo(e);this._updateGen()}else{this._loadLoginInfo()}}},_loadLoginInfo:function(){var e=this._getAjaxLoadLoginInfo();e.sendRequest()},_updateSetGen:function(e){this._setSetGen(e);if(!DENBUN_MODE_XNEO){c.app.updateAbout()}},_updateSetModulesx:function(e){this._setSetModulesx(e)},_updateSetWListAddr:function(e){this._setSetWListAddr(e)},isAvailableSkype:function(){var e=this._getSetGen();return(e.skype=="1")},isAvailableExciteTrans:function(){var e=this._getSetGen();return(e.excitetrans=="1")},getDenbunVersion:function(){var f=this._getSetGen();var e=f.richver;return e},getHttpdVersion:function(){var f=this._getSetGen();var e=f.webver;return e},getBaseHelpUrl:function(){var f=this._getSetGen();var e=f.helplocaleurl;return e},hasAuthorityToExportPublicAddress:function(){var e=this._getSetGen();var f=e.exp;return(f=="1")},hasAuthorityToImportPublicAddress:function(){var e=this._getSetGen();var f=e.imp;return(f=="1")},hasAuthorityToDelAllPublicAddress:function(){var e=this._getSetGen();var f=e.delall;return(f=="1")},getUserNoDisp:function(){var f=this._getSetGen();var e=f.usernodispitems;return e},getUserDispItems:function(){var f=this._getSetGen();var e=f.userdispitems;return e},_parseModulesxList:function(g){var e=b(g);var f=e.find(":first > list > item");var i=[];f.each(function(l,j){var k=b(j);var m={id:k.attr("id"),name:k.children("Name").text()};i.push(m)});var h={list:i};return h},_parseWListAddrList:function(g){var e=b(g);var f=e.find(":first > list > item");var h=[];f.each(function(l,j){var k=b(j);var m=k.children("Name").text();h.push(m)});return h},isAvailableUserList:function(){var h=this._getSetModulesx();var g=h.list;for(var e=0;e<g.length;e++){var f=g[e];if(f.id=="24"){return true}}return false},isAvailableImap:function(){var h=this._getSetModulesx();var g=h.list;for(var e=0;e<g.length;e++){var f=g[e];if(f.id=="28"){return true}}return false},isAvailableAddress:function(){var h=this._getSetModulesx();var g=h.list;for(var e=0;e<g.length;e++){var f=g[e];if(f.id=="4"){return true}}return false},isAvailableCabinet:function(){var h=this._getSetModulesx();var g=h.list;for(var e=0;e<g.length;e++){var f=g[e];if(f.id=="23"){return true}}return false},isAvailableSch:function(){var h=this._getSetModulesx();var g=h.list;for(var e=0;e<g.length;e++){var f=g[e];if(f.id=="1"){return true}}return false},isAvailableCreport:function(){var h=this._getSetModulesx();var g=h.list;for(var e=0;e<g.length;e++){var f=g[e];if(f.id=="11"){return true}}return false},isAvailableInfo:function(){var h=this._getSetModulesx();var g=h.list;for(var e=0;e<g.length;e++){var f=g[e];if(f.id=="6"){return true}}return false},_updateGen:function(){if(c.parent&&!c.isIpadiOS6()){this._inheritGen()}else{this._loadGen()}},_inheritGen:function(){var h=["setGen","mailGeneralSettingData","setModulesx","pSetGen"];if(!DENBUN_MODE_XNEO){h.push("sharedLinksData")}for(var f=-1,e;e=h[++f];){var j="comSetting._"+e;var g=c.inherit(j);this["_"+e]=g}this._execLoadGenCallback()},_loadGen:function(){var e;e=this._getAjaxLoadSetGen();e.sendRequest();e=this._getAjaxLoadMailGeneralSetting();e.sendRequest();e=this._getAjaxLoadSetWListAddr();e.sendRequest();e=this._getAjaxLoadPSetGen();e.sendRequest();if(DENBUN_MODE_XNEO){e=this._getAjaxLoadSetModulesx();e.sendRequest()}else{e=this._getAjaxLoadSharedLinks();e.sendRequest()}},_execLoadGenCallback:function(){if(this._setGen&&this._mailGeneralSettingData&&this._pSetGen){if(DENBUN_MODE_XNEO){if(!this._setModulesx){return}}else{if(!this._sharedLinksData){return}}var e=this._getCallbackOnLoadGen();this._setCallbackOnLoadGen(null);if(e){e()}}},_updateLoginInfo:function(e){this._setLoginInfo(e);c.app.updateLoginInfo()},getUserName:function(){var e=this.getLoginInfo();var f=e.Name;return f},getSysUserId:function(){var e=this.getLoginInfo();var f=e.id;return f},getGroupId:function(){var e=this.getLoginInfo();var f=e.Group;return f},getUserId:function(){var e=this.getLoginInfo();var f=e.UserID;return f},getAccountNameDef:function(){var e=this.getLoginInfo();var f=e.accnamedef;return f},hasAuthorityToCreateAddress:function(){var e=this.getLoginInfo();var f=e.addritemacckind;return(f=="15")},hasAuthorityToCreateAddressFolder:function(){var e=this.getLoginInfo();var f=e.addrgroupacckind;return(f=="15")},hasExpiredMails:function(){var e=this.getLoginInfo();var f=e.savedel;return(f=="1")},getUserDispItemTitle:function(){var e=this.getLoginInfo();var f=e.item_title;return f},getColor:function(){var f=this._getPSetGen();var e=f.rmenucolor;return e},getColorName:function(){var e=this.getColor();var f="";switch(e){case"1":f="blue";break;case"2":f="green";break;case"3":f="orange";break;case"4":f="pink";break;case"5":f="red";break;case"6":f="gray";break}return f},getMailLinkSetting:function(){var f=this._getPSetGen();var e=f.maillink;if(e=="2"){e="3"}return e},_parseSharedLinks:function(g){var j=[];var e=b("item",g);for(var h=0;h<e.length;h++){var f=e.eq(h);var k={id:e.attr("id")};c.parseChildElements(k,f);j.push(k)}return j},_updateSharedLinks:function(e){this._setSharedLinksData(e);c.app.updateSharedLinks()},getMailGeneralSetting:function(h){var g=this.getMailGeneralSettingData();if(g){if(h){h(g)}}else{if(c.parent&&!c.isIpadiOS6()){c.parent.comSetting.getMailGeneralSetting();if(h){var e=this;(function(){var i=e.getMailGeneralSettingData();if(i){h(i)}else{setTimeout(arguments.callee,100)}})()}}else{this._setCallbackOnLoadMailGeneralSetting(h);var f=this._getAjaxLoadMailGeneralSetting();f.sendRequest()}}},getSavePeriod:function(){var f=this.getMailGeneralSettingData();var e=parseInt(neo.core.get(f,"setting.svrmail"),10);return e},isAllowedToFilterTransfer:function(){var f=this.getMailGeneralSettingData();var e=neo.core.get(f,"setting.pfilter");return(e=="1")},isAllowedToEditHtml:function(){var f=this.getMailGeneralSettingData();var e=neo.core.get(f,"setting.htmsend");return(e=="1")},getAttLimitSize:function(){var f=this.getMailGeneralSettingData();var e;if(DENBUN_MODE_XNEO){e=parseInt(neo.core.get(f,"setting.attachsize"))}else{e=parseInt(neo.core.get(f,"setting.attlimitsize"))}return e},isAllowedToAccountSetting:function(){var f=this.getMailGeneralSettingData();var e=neo.core.get(f,"setting.accsetting");return(e=="1")},isAllowedToDownloadMails:function(){var f=this.getMailGeneralSettingData();var e;if(DENBUN_MODE_XNEO){e=neo.core.get(f,"setting.zipexport")}else{e=neo.core.get(f,"setting.maildownload")}return(e=="1")},getWaitTimeToSend:function(){if(DENBUN_MODE_XNEO){var e=0;if(this.getFlgUndoSendSetting()){if(this.getUndoSendTypePri()=="1"){e=parseInt(this.getUndoSendTimePri(),10)}}else{if(this.getUndoSendTypeGen()=="1"){e=parseInt(this.getUndoSendTimeGen(),10)}}return e}var g=this.getMailGeneralSettingData();var f=parseInt(neo.core.get(g,"setting.undosendtime"),10);return f},isWaitingToSendAvailable:function(){if(!c.parent){return false}var e=c.comSetting.getWaitTimeToSend();return(e>0)},getConfirmBeforeSendGen:function(){var f=this.getMailGeneralSettingData();var e=neo.core.get(f,"setting.send");return e},getFlgConfirmBeforeSendSetting:function(){var f=this.getMailGeneralSettingData();var e=neo.core.get(f,"setting.sendcnfsetting");return(e=="1")},getUndoSendTypeGen:function(){var e=this.getMailGeneralSettingData();var f=neo.core.get(e,"setting.undosendtype");return f},getUndoSendTimeGen:function(){var f=this.getMailGeneralSettingData();var e=neo.core.get(f,"setting.undosendtime");return e},getFlgUndoSendSetting:function(){var f=this.getMailGeneralSettingData();var e=neo.core.get(f,"setting.undosendsetting");return(e=="1")},getMailServerPop3Server:function(){var f=this.getMailGeneralSettingData();var e=neo.core.get(f,"mserver.pop3server");return e},getMailServerPop3:function(){var e=this.getMailGeneralSettingData();var f=neo.core.get(e,"mserver.pop3");return f},getMailServerSmtpServer:function(){var f=this.getMailGeneralSettingData();var e=neo.core.get(f,"mserver.smtpserver");return e},getMailServerSmtp:function(){var e=this.getMailGeneralSettingData();var f=neo.core.get(e,"mserver.smtp");return f},getMailServerSmtpSecure:function(){var f=this.getMailGeneralSettingData();var e=neo.core.get(f,"mserver.smtpsecure");return e},getMailServerTimeout:function(){var f=this.getMailGeneralSettingData();var e=neo.core.get(f,"mserver.timeout");return e},isSmtpAuthentication:function(){var f=this.getMailGeneralSettingData();var e=neo.core.get(f,"mserver.popbsmtp");return(e=="2")},getPSetUser:function(h){var g=this.getPSetUserData();if(g){if(h){h(g)}}else{if(c.parent&&!c.isIpadiOS6()){c.parent.comSetting.getPSetUser();var e=this;(function(){var i=e.getPSetUserData();if(i){h(i)}else{setTimeout(arguments.callee,100)}})()}else{this._setCallbackOnLoadPSetUser(h);var f=this._getAjaxLoadPSetUser();f.sendRequest()}}},getUserMail:function(){if(DENBUN_MODE_XNEO){var e=this.getLoginInfo();var f=e.Mail;return f}var h=this.getPSetUserData();var g=h.Mail;return g},getUserSmtpId:function(){var f=this.getPSetUserData();var e=f.smtpauthuid;return e},getMailSetting:function(h){var g=this.getMailSettingData();if(g){if(h){h(g)}}else{if(c.parent&&!c.isIpadiOS6()){c.parent.comSetting.getMailSetting();if(h){var e=this;(function(){var i=e.getMailSettingData();if(i){h(i)}else{setTimeout(arguments.callee,100)}})()}}else{this._setCallbackOnLoadMailSetting(h);var f=this._getAjaxLoadMailSetting();f.sendRequest()}}},getMailRow:function(){var e=this.getMailSettingData();var f=e.row;return f},getMainPageLayout:function(){var e=this.getMailSettingData();var f=e.mainpglayout;return f},getFlgConfirmBeforeSend:function(){var e;if(DENBUN_MODE_XNEO){e=this.getConfirmBeforeSend()}else{var f=this.getMailSettingData();e=f.send}return(e=="1")},getFlgReadOnScrolling:function(){var f=this.getMailSettingData();var e=f.mlopentype;return(e=="1")},getReadInterval:function(){var f=this.getMailSettingData();var e=parseInt(f.mlopentime);return e},getFlgOpenDlgRemoveExpiredMails:function(){var f=this.getMailSettingData();var e=f.svconfirm;return(e=="1")},getConfirmBeforeSendPri:function(){var f=this.getMailSettingData();var e=f.send;return e},getUndoSendTypePri:function(){var f=this.getMailSettingData();var e=f.undosendtype;return e},getUndoSendTimePri:function(){var f=this.getMailSettingData();var e=f.undosendtime;return e},getAutoReceiveInterval:function(){var f=this.getMailSettingData();if(!f){return 0}var e=parseInt(f.autorecvinterval,10);return e},getConfirmBeforeSend:function(){if(this.getFlgConfirmBeforeSendSetting()){return this.getConfirmBeforeSendPri()}else{return this.getConfirmBeforeSendGen()}},getFlgDispValueBeforeSend:function(){var e=this.getConfirmBeforeSend();return(e=="2")},getFlgCheckValueBeforeSend:function(){var e=this.getConfirmBeforeSend();return(e=="3")},_isSendConfTarget:function(f){var g=null;var h="";if(this.getFlgConfirmBeforeSendSetting()){g=this.getMailSettingData();h=f}else{g=this.getMailGeneralSettingData();h="setting."+f}var e=neo.core.get(g,h);return(e=="1")},isSendConfTargetFrom:function(){return this._isSendConfTarget("sendconffrom")},isSendConfTargetTo:function(){return this._isSendConfTarget("sendconfto")},isSendConfTargetCc:function(){return this._isSendConfTarget("sendconfcc")},isSendConfTargetBcc:function(){return this._isSendConfTarget("sendconfbcc")},isSendConfTargetPriority:function(){return this._isSendConfTarget("sendconfpriority")},isSendConfTargetNotify:function(){return this._isSendConfTarget("sendconfnotify")},isSendConfTargetCharset:function(){return this._isSendConfTarget("sendconfcharset")},isSendConfTargetSubject:function(){return this._isSendConfTarget("sendconfsubject")},isSendConfTargetBody:function(){return this._isSendConfTarget("sendconfbody")},isSendConfTargetAtt:function(){return this._isSendConfTarget("sendconfatt")},isSendConfExceptWhiteList:function(){return this._isSendConfTarget("exceptwhitelist")},isSendConfManySend:function(){return this._isSendConfTarget("manysend")},getSendConfManySendCount:function(){var e=null;var f;if(this.getFlgConfirmBeforeSendSetting()){e=this.getMailSettingData();f=neo.core.get(e,"manysendcount")}else{e=this.getMailGeneralSettingData();f=neo.core.get(e,"setting.manysendcount")}return f},isWhiteListAddr:function(k){var h=this.getSetWListAddr();if(!DNNEO.neo.isSet(h)){return false}var g=h.length;for(var f=0;f<g;f++){var j=h[f];var e=k.indexOf(j);if(e>=0){return true}}return false},getAccount:function(h){var g=this.getAccountData();if(g){if(h){h(g)}}else{if(c.parent&&!c.isIpadiOS6()){c.parent.comSetting.getAccount();if(h){var e=this;(function(){var i=e.getAccountData();if(i){h(i)}else{setTimeout(arguments.callee,100)}})()}}else{this._setCallbackOnLoadAccount(h);var f=this._getAjaxLoadAccount();f.sendRequest()}}},_parseAccount:function(e){var f=c.parseFlatData(e);return f},getAccountUserName:function(){var f=this.getAccountData();var e=f.Name;return e},getAccountMail:function(){var f=this.getAccountData();var e=f.Mail;return e},getNotification:function(h){var g=this.getNotificationData();if(g){if(h){h(g)}}else{if(c.parent&&!c.isIpadiOS6()){c.parent.comSetting.getNotification();if(h){var e=this;(function(){var i=e.getNotificationData();if(i){h(i)}else{setTimeout(arguments.callee,100)}})()}}else{this._setCallbackOnLoadNotification(h);var f=this._getAjaxLoadNotification();f.sendRequest()}}},_parseNotification:function(e){var f=c.parseFlatData(e);return f},getFlgUseNotification:function(){var f=this.getNotificationData();var e=f.send;return(e=="2")},getFlgConfirmBeforeSendNotification:function(){var f=this.getNotificationData();var e=f.recv;return(e=="2")},getAllAddressList:function(h){var f=this.getAllAddressListData();if(f){if(h){h(f)}}else{if(c.parent&&!c.isIpadiOS6()){c.parent.comSetting.getAllAddressList();var e=this;(function(){var i=e.getAllAddressListData();if(i){h(i)}else{setTimeout(arguments.callee,100)}})()}else{this._setCallbackOnLoadAllAddressList(h);var g=this._getAjaxLoadAllAddressList();g.sendRequest()}}},_parseAllAddressList:function(e){var f=b("list",e);var g=c.parseListElements(f);return g},getCharset:function(h){var g=this.getCharsetData();if(g){if(h){h(g)}}else{if(c.parent&&!c.isIpadiOS6()){c.parent.comSetting.getCharset();if(h){var e=this;(function(){var i=e.getCharsetData();if(i){h(i)}else{setTimeout(arguments.callee,100)}})()}}else{this._setCallbackOnLoadCharset(h);var f=this._getAjaxLoadCharset();f.sendRequest()}}},_parseCharset:function(e){var f=b("list",e);var g=c.parseListElements(f);return g},getSignature:function(h){var g=this.getSignatureData();if(g){if(h){h(g)}}else{if(c.parent&&!c.isIpadiOS6()){c.parent.comSetting.getSignature();if(h){var e=this;(function(){var i=e.getSignatureData();if(i){h(i)}else{setTimeout(arguments.callee,100)}})()}}else{this._setCallbackOnLoadSignature(h);var f=this._getAjaxLoadSignature();f.sendRequest()}}},_parseSignature:function(g){var f=b("signdefault",g);var e=f.text();var h=b("list",g);var l=c.parseListElements(h);var i=b("signmethod",g);var k=i.text();var j={signmethod:k,defaultId:e,list:l};return j},getAttExtList:function(i){var h=this.getAttExtData();if(h){if(i){i(h)}}else{if(c.parent&&!c.isIpadiOS6()){c.parent.comSetting.getAttExtList();if(i){var e=this;(function(){var j=e.getAttExtData();if(j){i(j)}else{setTimeout(arguments.callee,100)}})()}}else{if(DENBUN_MODE_XNEO){this._setCallbackOnLoadAttExt(i);var g=this._getAjaxLoadAttExt();g.sendRequest();return}var f=["html","htm","latex","ltx","pdf","rtf","sgm","sgml","tab","tex","txt","xml","jar","cpt","gz","hqx","sit","tar","z","zip","ai","bmp","dwf","epsf","eps","ps","fif","gif","jpg","jpeg","jpe","jfif","jfi","pict","pct","png","tga","tpic","vda","vst","tiff","tif","wrl","xbm","xpm","aiff","aif","au","kar","m1a","m2a","midi","mid","smf","mp2","mp3","mpa","mpega","rpm","snd","swa","vqf","wav","aab","aam","aas","asf","avi","dcr","dir","dxr","flc","fli","mng","m1s","m1v","m2s","m2v","moov","mov","qt","mpeg","mpg","mpe","mpv","ppt","rm","spl","swf","vdo","viv","vivo","xdm","xdma","doc","xls","xps","vsto","wmd","wmz","application","manifest","deploy","mdb","hta","csv","jsw","jtd","jah","jbh","pic","psd","vsd","eml","xdw","css","js","hdml","docx","docm","dotx","dotm","xlsx","xlsm","xltx","xltm","xlam","pptx","pptm","potx","potm","ppam","ppsx","ppsm","mp4","exe","lzh","rar"];h=[];b.each(f,function(){h.push({id:this.toString()})});this._setAttExtData(h);if(i){i(h)}}}},_parseAttExt:function(e){var f=b("list",e);var g=c.parseListElements(f);return g},getAddressSetting:function(h){var g=this.getAddressSettingData();if(g){if(h){h(g)}}else{if(c.parent&&!c.isIpadiOS6()){c.parent.comSetting.getAddressSetting();if(h){var e=this;(function(){var i=e.getAddressSettingData();if(i){h(i)}else{setTimeout(arguments.callee,100)}})()}}else{this._setCallbackOnLoadAddressSetting(h);var f=this._getAjaxLoadAddressSetting();f.sendRequest()}}},getAddressRow:function(){var e=this.getAddressSettingData();var f=e.row;return f},getDirectoryServiceList:function(h){var f=this.getDirectoryServiceListData();if(f){if(h){h(f)}}else{if(c.parent&&!c.isIpadiOS6()){c.parent.comSetting.getDirectoryServiceList();if(h){var e=this;(function(){var i=e.getDirectoryServiceListData();if(i){h(i)}else{setTimeout(arguments.callee,100)}})()}}else{this._setCallbackOnLoadDirectoryServiceList(h);var g=this._getAjaxLoadDirectoryServiceList();g.sendRequest()}}},_parseDirectoryServiceList:function(e){var f=b("list",e);var g=c.parseListElements(f);return g},hasDirectoryService:function(){var e=this.getDirectoryServiceListData();return(e.length>0)},onsuccessLoadLoginInfo:function(f,e,g){var h=c.parseFlatData(f);this._updateLoginInfo(h);this._updateGen()},onerrorLoadLoginInfo:function(i,h,j){if(DENBUN_MODE_XNEO){if(j.errorno!=null){var g=j.errormessage||"";var e=g.indexOf(":",0);if(e>=0){g=g.substring(e+1)}var f={type:"warn",errorNo:j.errorno,close:function(){c.moveNeoTopPage()}};desknets.dialog.alert(g,f)}else{c.moveNeoTopPage()}}else{c.logout()}},onsuccessLoadSetGen:function(f,e,g){var h=c.parseFlatData(f);this._updateSetGen(h);this._execLoadGenCallback()},onsuccessLoadSetModulesx:function(f,e,g){var h=this._parseModulesxList(f);this._updateSetModulesx(h);this._execLoadGenCallback()},onsuccessLoadSetWListAddr:function(f,e,g){var h=this._parseWListAddrList(f);this._updateSetWListAddr(h);this._execLoadGenCallback()},onsuccessLoadPSetGen:function(f,e,g){var h=c.parseFlatData(f);this._setPSetGen(h);this._execLoadGenCallback()},onsuccessLoadSharedLinks:function(f,e,g){var h=this._parseSharedLinks(f);this._updateSharedLinks(h);this._execLoadGenCallback()},onsuccessLoadMailGeneralSetting:function(g,f,j){var k={mserver:{},setting:{},sserver:{}};var i=b("setting",g);c.parseChildElements(k.setting,i);var h=b("mserver",g);c.parseChildElements(k.mserver,h);var e=b("sserver",g);c.parseChildElements(k.sserver,e);this._setMailGeneralSettingData(k);this._execLoadGenCallback()},onsuccessLoadPSetUser:function(f,e,g){var h=c.parseFlatData(f);this._setPSetUserData(h);var i=this._getCallbackOnLoadPSetUser();if(i){i(h)}},onsuccessLoadMailSetting:function(f,e,g){var h=c.parseFlatData(f);this._setMailSettingData(h);var i=this._getCallbackOnLoadMailSetting();if(i){i(h)}},onsuccessLoadAccount:function(f,e,g){var h=this._parseAccount(f);this._setAccountData(h);var i=this._getCallbackOnLoadAccount();if(i){i(h)}},onsuccessLoadNotification:function(f,e,g){var h=this._parseNotification(f);this._setNotificationData(h);var i=this._getCallbackOnLoadNotification();if(i){i(h)}},onsuccessLoadAllAddressList:function(f,e,g){var h=this._parseAllAddressList(f);this._setAllAddressListData(h);var i=this._getCallbackOnLoadAllAddressList();if(i){i(h)}},onsuccessLoadCharset:function(f,e,g){var h=this._parseCharset(f);this._setCharsetData(h);var i=this._getCallbackOnLoadCharset();if(i){i(h)}},onsuccessLoadSignature:function(f,e,g){var h=this._parseSignature(f);this._setSignatureData(h);var i=this._getCallbackOnLoadSignature();if(i){i(h)}},onsuccessLoadAttExt:function(f,e,g){var h=this._parseAttExt(f);this._setAttExtData(h);var i=this._getCallbackOnLoadAttExt();if(i){i(h)}},onsuccessLoadAddressSetting:function(f,e,g){var h=c.parseFlatData(f);this._setAddressSettingData(h);var i=this._getCallbackOnLoadAddressSetting();if(i){i(h)}},onsuccessLoadDirectoryServiceList:function(f,e,g){var h=this._parseDirectoryServiceList(f);this._setDirectoryServiceListData(h);var i=this._getCallbackOnLoadDirectoryServiceList();if(i){i(h)}},__closure:c.__closure,__bind:c.__bind,banpei:null}});a.constructor()})(jQuery);(function(b){var d=neo.core.readyNamespace("neo.denbun.App");if(!d){return}var c=neo.denbun;var a=neo.denbun.App=new neo.core.Class({classProperties:{DATA_PAGE:"data-page",HOMEPAGE_BASEURL:"http://www.denbun.com/",PATH_HELP:"/help/helpimap/index.html",PATH_INQUIRY:"/support/inquiry/index.html",HOMEPAGE_HELPURL_NEO:"https://www.desknets.com/neo/help/",PATH_HELP_NEO_IMAP:"/public/mailimap.html",PATH_HELP_NEO_ADDR:"/public/addr.html",constructor:function(){}},properties:{_resizedTime:null,_getResizedTime:function(){return this._resizedTime},_setResizedTime:function(e){return this._resizedTime=e},_tmResize:null,_getTmResize:function(){return this._tmResize},_setTmResize:function(e){clearTimeout(this._tmResize);return this._tmResize=e},_childWindowList:null,_getChildWindowList:function(){return this._childWindowList||this._initChildWindowList()},_initChildWindowList:function(){return this._childWindowList=[]},_flgUpdateMailList:null,getFlgUpdateMailList:function(){return this._flgUpdateMailList},setFlgUpdateMailList:function(e){return this._flgUpdateMailList=e},_flgUpdateAddressList:null,getFlgUpdateAddressList:function(){return this._flgUpdateAddressList},setFlgUpdateAddressList:function(e){return this._flgUpdateAddressList=e},_flgUpdateUserList:null,getFlgUpdateUserList:function(){return this._flgUpdateUserList},setFlgUpdateUserList:function(e){return this._flgUpdateUserList=e},_settingModified:null,isSettingModified:function(){return this._settingModified},setSettingModified:function(){return this._settingModified=true},_forcedToClose:null,isForcedToClose:function(){return this._forcedToClose||this._initForcedToClose()},_initForcedToClose:function(){return this._forcedToClose=false},forceToClose:function(){return this._forcedToClose=true},unloaded:null,_keyboard:null,_getKeyboard:function(){return this._keyboard},_initKeyboard:function(){return this._keyboard=a.Keyboard.initInstance()},_menu:null,_getMenu:function(){return this._menu||this._initMenu()},_initMenu:function(){return this._menu=c.App.Menu.initInstance()},_header:null,_getHeader:function(){return this._header||this._initHeader()},_initHeader:function(){var e=new c.App.Header();e.initialize();return this._header=e},_mainArea:null,_getMainArea:function(){return this._mainArea||this._initMainArea()},_initMainArea:function(){return this._mainArea=c.App.MainArea.getInstance()},_curPage:null,getCurPage:function(){return this._curPage},_setCurPage:function(e){return this._curPage=e},_mailListPage:null,_getMailListPage:function(){return this._mailListPage||this._initMailListPage()},_initMailListPage:function(){var e={};var f=new neo.denbun.Mail.ListPage(e);f.initialize();return this._mailListPage=f},_mailViewPage:null,_getMailViewPage:function(){return this._mailViewPage||this._initMailViewPage()},_initMailViewPage:function(){var e={};var f=new neo.denbun.Mail.ViewPage(e);f.initialize();return this._mailViewPage=f},_mailEditPage:null,_getMailEditPage:function(){return this._mailEditPage||this._initMailEditPage()},_initMailEditPage:function(){var e={};var f=new neo.denbun.Mail.EditPage(e);f.initialize();return this._mailEditPage=f},_mailViewOfMailFilePage:null,_getMailViewOfMailFilePage:function(){return this._mailViewOfMailFilePage||this._initMailViewOfMailFilePage()},_initMailViewOfMailFilePage:function(){var e={};var f=new neo.denbun.Mail.ViewOfMailFilePage(e);f.initialize();return this._mailViewOfMailFilePage=f},_assressListPage:null,_getAddressListPage:function(){return this._assressListPage||this._initAddressListPage()},_initAddressListPage:function(){var e={};var f=new neo.denbun.Address.ListPage(e);f.initialize();return this._assressListPage=f},_addressUsersListPage:null,_getAddressUsersListPage:function(){return this._addressUsersListPage||this._initAddressUsersListPage()},_initAddressUsersListPage:function(){var e={};var f=new neo.denbun.Address.UsersListPage(e);f.initialize();return this._addressUsersListPage=f},_addressDirectoryListPage:null,_getAddressDirectoryListPage:function(){return this._addressDirectoryListPage||this._initAddressDirectoryListPage()},_initAddressDirectoryListPage:function(){var e={};var f=new neo.denbun.Address.DirectoryListPage(e);f.initialize();return this._addressDirectoryListPage=f},_addressViewPage:null,_getAddressViewPage:function(){return this._addressViewPage||this._initAddressViewPage()},_initAddressViewPage:function(){var e={};var f=new neo.denbun.Address.ViewPage(e);f.initialize();return this._addressViewPage=f},_addressEditPage:null,_getAddressEditPage:function(){return this._addressEditPage||this._initAddressEditPage()},_initAddressEditPage:function(){var e={};var f=new neo.denbun.Address.EditPage(e);f.initialize();return this._addressEditPage=f},_addressUserViewPage:null,_getAddressUserViewPage:function(){return this._addressUserViewPage||this._initAddressUserViewPage()},_initAddressUserViewPage:function(){var e={};var f=new neo.denbun.Address.UserViewPage(e);f.initialize();return this._addressUserViewPage=f},_addressDirectoryViewPage:null,_getAddressDirectoryViewPage:function(){return this._addressDirectoryViewPage||this._initAddressDirectoryViewPage()},_initAddressDirectoryViewPage:function(){var e={};var f=new neo.denbun.Address.DirectoryViewPage(e);f.initialize();return this._addressDirectoryViewPage=f},_settingIndexPage:null,_getSettingIndexPage:function(){return this._settingIndexPage||this._initSettingIndexPage()},_initSettingIndexPage:function(){var e={};var f=new neo.denbun.Setting.IndexPage(e);f.initialize();return this._settingIndexPage=f},_visualSettingPage:null,_getVisualSettingPage:function(){return this._visualSettingPage||this._initVisualSettingPage()},_initVisualSettingPage:function(){var e={};var f=new neo.denbun.Setting.VisualSettingPage(e);f.initialize();return this._visualSettingPage=f},_basicSettingPage:null,_getBasicSettingPage:function(){return this._basicSettingPage||this._initBasicSettingPage()},_initBasicSettingPage:function(){var e={};var f=new neo.denbun.Setting.BasicSettingPage(e);f.initialize();return this._basicSettingPage=f},_sendMistakeSettingPage:null,_getSendMistakeSettingPage:function(){return this._sendMistakeSettingPage||this._initSendMistakeSettingPage()},_initSendMistakeSettingPage:function(){var e={};var f=new neo.denbun.Setting.SendMistakeSettingPage(e);f.initialize();return this._sendMistakeSettingPage=f},_personalitySettingPage:null,_getPersonalitySettingPage:function(){return this._personalitySettingPage||this._initPersonalitySettingPage()},_initPersonalitySettingPage:function(){var e={};var f=new neo.denbun.Setting.PersonalitySettingPage(e);f.initialize();return this._personalitySettingPage=f},_trushSettingPage:null,_getTrushSettingPage:function(){return this._trushSettingPage||this._initTrushSettingPage()},_initTrushSettingPage:function(){var e={};var f=new neo.denbun.Setting.TrushSettingPage(e);f.initialize();return this._trushSettingPage=f},_colorSettingPage:null,_getColorSettingPage:function(){return this._colorSettingPage||this._initColorSettingPage()},_initColorSettingPage:function(){var e={};var f=new neo.denbun.Setting.ColorSettingPage(e);f.initialize();return this._colorSettingPage=f},_accountEditSettingPage:null,_getAccountEditSettingPage:function(){return this._accountEditSettingPage||this._initAccountEditSettingPage()},_initAccountEditSettingPage:function(){var e={};var f=new neo.denbun.Setting.AccountEditSettingPage(e);f.initialize();return this._accountEditSettingPage=f},_notificationSettingPage:null,_getNotificationSettingPage:function(){return this._notificationSettingPage||this._initNotificationSettingPage()},_initNotificationSettingPage:function(){var e={};var f=new neo.denbun.Setting.NotificationSettingPage(e);f.initialize();return this._notificationSettingPage=f},_signSettingPage:null,_getSignSettingPage:function(){return this._signSettingPage||this._initSignSettingPage()},_initSignSettingPage:function(){var e={};var f=new neo.denbun.Setting.SignSettingPage(e);f.initialize();return this._signSettingPage=f},_signEditSettingPage:null,_getSignEditSettingPage:function(){return this._signEditSettingPage||this._initSignEditSettingPage()},_initSignEditSettingPage:function(){var e={};var f=new neo.denbun.Setting.SignEditSettingPage(e);f.initialize();return this._signEditSettingPage=f},_filterSettingPage:null,_getFilterSettingPage:function(){return this._filterSettingPage||this._initFilterSettingPage()},_initFilterSettingPage:function(){var e={};var f=new neo.denbun.Setting.FilterSettingPage(e);f.initialize();return this._filterSettingPage=f},_filterEditSettingPage:null,_getFilterEditSettingPage:function(){return this._filterEditSettingPage||this._initFilterEditSettingPage()},_initFilterEditSettingPage:function(){var e={};var f=new neo.denbun.Setting.FilterEditSettingPage(e);f.initialize();return this._filterEditSettingPage=f},_junkMailSettingPage:null,_getJunkMailSettingPage:function(){return this._junkMailSettingPage||this._initJunkMailSettingPage()},_initJunkMailSettingPage:function(){var e={};var f=new neo.denbun.Setting.JunkMailSettingPage(e);f.initialize();return this._junkMailSettingPage=f},_junkMailEditSettingPage:null,_getJunkMailEditSettingPage:function(){return this._junkMailEditSettingPage||this._initJunkMailEditSettingPage()},_initJunkMailEditSettingPage:function(){var e={};var f=new neo.denbun.Setting.JunkMailEditSettingPage(e);f.initialize();return this._junkMailEditSettingPage=f},_addressVisualSettingPage:null,_getAddressVisualSettingPage:function(){return this._addressVisualSettingPage||this._initAddressVisualSettingPage()},_initAddressVisualSettingPage:function(){var e={};var f=new neo.denbun.Setting.AddressVisualSettingPage(e);f.initialize();return this._addressVisualSettingPage=f},_personalAddressDeleteSettingPage:null,_getPersonalAddressDeleteSettingPage:function(){return this._personalAddressDeleteSettingPage||this._initPersonalAddressDeleteSettingPage()},_initPersonalAddressDeleteSettingPage:function(){var e={};var f=new neo.denbun.Setting.PersonalAddressDeleteSettingPage(e);f.initialize();return this._personalAddressDeleteSettingPage=f},_publicAddressDeleteSettingPage:null,_getPublicAddressDeleteSettingPage:function(){return this._publicAddressDeleteSettingPage||this._initPublicAddressDeleteSettingPage()},_initPublicAddressDeleteSettingPage:function(){var e={};var f=new neo.denbun.Setting.PublicAddressDeleteSettingPage(e);f.initialize();return this._publicAddressDeleteSettingPage=f},_addressImportSettingPage:null,_getAddressImportSettingPage:function(){return this._addressImportSettingPage||this._initAddressImportSettingPage()},_initAddressImportSettingPage:function(){var e={};var f=new neo.denbun.Setting.AddressImportSettingPage(e);f.initialize();return this._addressImportSettingPage=f},_addressExportSettingPage:null,_getAddressExportSettingPage:function(){return this._addressExportSettingPage||this._initAddressExportSettingPage()},_initAddressExportSettingPage:function(){var e={};var f=new neo.denbun.Setting.AddressExportSettingPage(e);f.initialize();return this._addressExportSettingPage=f},_rteIsInitialized:null,_isRteInitialized:function(){return this._rteIsInitialized},_setRteInitialized:function(){return this._rteIsInitialized=true},_dlgAbout:null,_getDlgAbout:function(){return this._dlgAbout||this._initDlgAbout()},_initDlgAbout:function(){var e={buttons:{},content:b("#dlg-about"),title:c.getText("バージョン情報")};e.buttons[c.getText("OK")]=function(g){this.ok()};var f=new c.Dialog(e);f.initialize();return this._dlgAbout=f},__constructor:function(){this._settingModified=false;this._rteIsInitialized=false;this.unloaded=false},initialize:function(){this._initKeyboard();this._initMenu();this._initHeader();this._initMainArea();this._hook()},_hook:function(){var e;window.onbeforeunload=this.onbeforeunload;c.$window.bind("resize",this.__closure(this.onresize)).bind("unload",this.__closure(this.onunload));c.$body.scroll(function(){c.$html.scrollTop(0)});c.$body.bind("keydown",this.__closure(this.onkeydown))},openFirstPage:function(e){var j=e||c.getParameter(c.PARAM_PAGE);if(j){var i=c.getParameters();delete i[c.PARAM_PAGE];this.openPage(j,i);return}var g=neo.core.splitParam(location.search);var k=g.xmsgid;if(k){var h=k.indexOf("_");var l={fid:k.slice(0,h),id:k.slice(h+1)};this.openPage(c.PAGE_MAIL_VIEW,l);return}var f=g.xfid;if(f){var l={fid:f};this.openPage(c.PAGE_MAIL_LIST,l);return}this.openPage()},setDestinationsToMailEditPage:function(f,e,h){var g=this._getMailEditPage();g.setDestinations(f,e,h)},setKeyboardOperableTarget:function(g){var e=this._getKeyboard();var f=e.getController();e.setController(g);return f},setKeyboardOperableMenu:function(f){var e=this._getKeyboard();e.setElMenu(f)},operateMenuByKeyCode:function(e){var f=this._getMenu();return f.runKeyboardAction(e)},registerMenuCallback:function(h,e,f){var g=this._getMenu();g.registerCallback(h,e,f)},isCtrlPressed:function(){var e=this._getKeyboard();return e.isCtrlPressed()},isShiftPressed:function(){var e=this._getKeyboard();return e.isShiftPressed()},isAltPressed:function(){var e=this._getKeyboard();return e.isAltPressed()},setCombinationKey:function(g,f){var e=this._getKeyboard();e.setCombinationKey(g,true)},resize:function(f){var e=this._getMainArea();if(e){e.onresize(f)}var h=this._getMenu();if(h){h.onresize(f)}var g=c.app.getCurPage();if(g){g.onresize(f)}if(DENBUN_MODE_XNEO){if(c.isIpad()){c.resizeDialogOverlay()}}},updateComContentSize:function(){var e=this._getMainArea();e.updateComContentSize()},updateLoginInfo:function(){var e=this._getHeader();e.updateLoginInfo()},setUserName:function(e){var f=this._getHeader();f.setUserName(e)},updateCapacity:function(f,e){var g=this._getHeader();g.updateCapacity(f,e)},updateSharedLinks:function(){var e=this._getHeader();e.updateSharedLinks()},updateAbout:function(){var e=this._getHeader();e.updateAbout()},toggleDisabledOfHeaderLink:function(e){var f=this._getHeader();f.toggleDisabledClassOfPageSelector(e)},openPage:function(f,j,i){if(!f){f=c.PAGE_MAIL_LIST;if(DENBUN_MODE_XNEO){if(c.comSetting.isAvailableImap()){}else{if(c.comSetting.isAvailableAddress()){f=c.PAGE_ADDRESS_LIST}else{if(c.comSetting.isAvailableUserList()){f=c.PAGE_ADDRESS_USERS_LIST}else{f=c.PAGE_SETTING_INDEX}}}}}else{if(typeof f.attr=="function"){var g=f;var h=g.attr("href");var l=h.slice(h.indexOf("#")+1);j=neo.core.splitParam(l);f=j[c.PARAM_PAGE];delete j[c.PARAM_PAGE]}}if(DENBUN_MODE_XNEO){if(f.indexOf(c.MODULE_MAIL)==0){if(!c.comSetting.isAvailableImap()){this.openPage();return}}else{if(f.indexOf(c.MODULE_ADDRESS+"User")==0){if(!c.comSetting.isAvailableUserList()){this.openPage();return}}else{if(f.indexOf(c.MODULE_ADDRESS+"Directory")==0){if(!c.comSetting.isAvailableImap()){this.openPage();return}}else{if(f.indexOf(c.MODULE_ADDRESS)==0){if(!c.comSetting.isAvailableAddress()){this.openPage();return}}}}}}var k=this._openPageWithFork(f,j);if(k){return}if(this._isModuleLoaded(f)){if(DENBUN_MODE_XNEO){this._loadHtml(f,j,i)}else{this._openPageLow(f,j,i)}}else{var e=this._loadModule(f,j,i);if(!e){this.openPage()}}},_openPageWithFork:function(f,i){var g=this._buildUrlForForkedPage(f,i);if(g){var e="";if(!c.isAndroid()){e=["location=no","menubar=no","resizable=yes","scrollbars=yes","status=no","toolbar=no","width="+c.$window.width(),"height="+c.$window.height()].join(",")}var h=window.open(g,"_blank",e);if(!h){return{}}var j=this._getChildWindowList();j.push(h);return h}else{return null}},_buildUrlForForkedPage:function(e,h){if(h&&c.PARAM_FORK in h){var g=location.href;var f=g.indexOf("#");if(f>=0){g=g.slice(0,f)}h[c.PARAM_PAGE]=e;delete h[c.PARAM_FORK];g+="#"+neo.core.joinParam(h);return g}else{return null}},_loadModule:function(e,i,h){var g=this._getModuleUrl(e);if(!g){return false}var f=this;b.getScript(g,function(){if(DENBUN_MODE_XNEO){f._loadHtml(e,i,h)}else{f._openPageLow(e,i,h)}});return true},_loadModuleLow:function(e,h){var g=this._getModuleUrl(e);if(!g){return false}var f=this;b.getScript(g,h);return true},_openPageLow:function(e,h,g){var i=this._getPageOf(e);if(!i){this.openPage();return}var f=this;var k=function(){f._attachPageName(e);f._setCurPage(i);c.setParameters(h);if(DENBUN_MODE_XNEO){if(c.Mail){c.Mail.hideMailBodyCutMsg()}}i.open(g)};var j=this.getCurPage();if(j){j.onclose(k)}else{k()}},_getModule:function(e){var f=this._getModuleNameFor(e);var g=c[f];return g},_isModuleLoaded:function(e){var f=this._getModule(e);return !!f},_getModuleUrl:function(e){var g=this._getModuleNameFor(e);if(!g){return null}var f=DENBUN_DOC_ROOT+"/dnhtml5i/js/"+g+".js";f+="?_="+c.getAntiCache();return f},_getModuleNameFor:function(e){if(e.indexOf(c.MODULE_MAIL)==0){return c.MODULE_MAIL}else{if(e.indexOf(c.MODULE_ADDRESS)==0){return c.MODULE_ADDRESS}else{if(e.indexOf(c.MODULE_SETTING)==0){return c.MODULE_SETTING}else{return null}}}},_getPageOf:function(e){var f;switch(e){case c.PAGE_MAIL_VIEW:f=this._getMailViewPage();break;case c.PAGE_MAIL_EDIT:f=this._getMailEditPage();break;case c.PAGE_MAIL_VIEW_OF_MAIL_FILE:f=this._getMailViewOfMailFilePage();break;case c.PAGE_ADDRESS_LIST:f=this._getAddressListPage();break;case c.PAGE_ADDRESS_USERS_LIST:if(DENBUN_MODE_XNEO){f=this._getAddressUsersListPage()}break;case c.PAGE_ADDRESS_DIRECTORY_LIST:f=this._getAddressDirectoryListPage();break;case c.PAGE_ADDRESS_VIEW:f=this._getAddressViewPage();break;case c.PAGE_ADDRESS_EDIT:f=this._getAddressEditPage();break;case c.PAGE_ADDRESS_USER_VIEW:if(DENBUN_MODE_XNEO){f=this._getAddressUserViewPage()}break;case c.PAGE_ADDRESS_DIRECTORY_VIEW:f=this._getAddressDirectoryViewPage();break;case c.PAGE_SETTING_INDEX:f=this._getSettingIndexPage();break;case c.PAGE_SETTING_VISUAL:f=this._getVisualSettingPage();break;case c.PAGE_SETTING_BASIC:if(DENBUN_MODE_XNEO){f=this._getBasicSettingPage()}break;case c.PAGE_SETTING_SENDMISTAKE:if(DENBUN_MODE_XNEO){f=this._getSendMistakeSettingPage()}break;case c.PAGE_SETTING_PERSONALITY:if(!DENBUN_MODE_XNEO){f=this._getPersonalitySettingPage()}break;case c.PAGE_SETTING_TRUSH:f=this._getTrushSettingPage();break;case c.PAGE_SETTING_COLOR:if(!DENBUN_MODE_XNEO){f=this._getColorSettingPage()}break;case c.PAGE_SETTING_ACCOUNT_EDIT:f=this._getAccountEditSettingPage();break;case c.PAGE_SETTING_NOTIFICATION:f=this._getNotificationSettingPage();break;case c.PAGE_SETTING_SIGN:f=this._getSignSettingPage();break;case c.PAGE_SETTING_SIGN_EDIT:f=this._getSignEditSettingPage();break;case c.PAGE_SETTING_FILTER:f=this._getFilterSettingPage();break;case c.PAGE_SETTING_FILTER_EDIT:f=this._getFilterEditSettingPage();break;case c.PAGE_SETTING_JUNKMAIL:f=this._getJunkMailSettingPage();break;case c.PAGE_SETTING_JUNKMAIL_EDIT:f=this._getJunkMailEditSettingPage();break;case c.PAGE_SETTING_ADDRESSVISUAL:f=this._getAddressVisualSettingPage();break;case c.PAGE_SETTING_PERSONALADDRESSDELETE:f=this._getPersonalAddressDeleteSettingPage();break;case c.PAGE_SETTING_PUBLICADDRESSDELETE:if(DENBUN_MODE_XNEO){f=this._getPublicAddressDeleteSettingPage()}break;case c.PAGE_SETTING_ADDRESSIMPORT:f=this._getAddressImportSettingPage();break;case c.PAGE_SETTING_ADDRESSEXPORT:f=this._getAddressExportSettingPage();break;default:f=this._getMailListPage()}return f},_loadHtml:function(e,i,g){if(this._isHtmlLoaded(e)){this._openPageLow(e,i,g);return}var h=this._getHtmlNameFor(e);if(!h){this.openPage();return}var f=this;var j=function(k,m,l){f._openPageLow(k,m,l)};c.getHtml(h,j,e,i,g)},_getHtmlNameFor:function(e){if(e){var f=e;switch(f){case c.PAGE_MAIL_LIST:case c.PAGE_MAIL_VIEW:case c.PAGE_MAIL_VIEW_OF_MAIL_FILE:f=c.HTMLFILE_MAIL_LIST;break;case c.PAGE_MAIL_EDIT:f=c.HTMLFILE_MAIL_EDIT;break;case c.PAGE_ADDRESS_LIST:f=c.HTMLFILE_ADDRESS_LIST;break;case c.PAGE_ADDRESS_VIEW:f=c.HTMLFILE_ADDRESS_VIEW;break;case c.PAGE_ADDRESS_EDIT:f=c.HTMLFILE_ADDRESS_EDIT;break;case c.PAGE_ADDRESS_USERS_LIST:f=c.HTMLFILE_ADDRESS_USER_LIST;break;case c.PAGE_ADDRESS_USER_VIEW:f=c.HTMLFILE_ADDRESS_USER_VIEW;break;case c.PAGE_ADDRESS_DIRECTORY_LIST:f=c.HTMLFILE_ADDRESS_DIRECTORY_LIST;break;case c.PAGE_ADDRESS_DIRECTORY_VIEW:f=c.HTMLFILE_ADDRESS_DIRECTORY_VIEW;break;case c.PAGE_SETTING_INDEX:f=c.HTMLFILE_SETTING_INDEX;break;case c.PAGE_SETTING_VISUAL:f=c.HTMLFILE_SETTING_VISUAL;break;case c.PAGE_SETTING_BASIC:f=c.HTMLFILE_SETTING_BASIC;break;case c.PAGE_SETTING_SENDMISTAKE:f=c.HTMLFILE_SETTING_SENDMISTAKE;break;case c.PAGE_SETTING_ACCOUNT_EDIT:f=c.HTMLFILE_SETTING_ACCOUNT;break;case c.PAGE_SETTING_TRUSH:f=c.HTMLFILE_SETTING_TRUSH;break;case c.PAGE_SETTING_NOTIFICATION:f=c.HTMLFILE_SETTING_NOTIFICATION;break;case c.PAGE_SETTING_SIGN:case c.PAGE_SETTING_SIGN_EDIT:f=c.HTMLFILE_SETTING_SIGN;break;case c.PAGE_SETTING_FILTER:case c.PAGE_SETTING_FILTER_EDIT:f=c.HTMLFILE_SETTING_FILTER;break;case c.PAGE_SETTING_JUNKMAIL:case c.PAGE_SETTING_JUNKMAIL_EDIT:f=c.HTMLFILE_SETTING_JUNKMAIL;break;case c.PAGE_SETTING_ADDRESSVISUAL:f=c.HTMLFILE_SETTING_ADDRESSVISUAL;break;case c.PAGE_SETTING_PERSONALADDRESSDELETE:case c.PAGE_SETTING_PUBLICADDRESSDELETE:f=c.HTMLFILE_SETTING_ADDRESSDELETE;break;case c.PAGE_SETTING_ADDRESSIMPORT:case c.PAGE_SETTING_ADDRESSEXPORT:f=c.HTMLFILE_SETTING_ADDRESSIMPORT;break}var g=f.toLowerCase();return g}return null},_isHtmlLoaded:function(f){var g=this._getHtmlNameFor(f);var h="part-"+g;var e=c.$body.find("#"+h).children().length;return(e>0)},bindMenuItemsForAndroid:function(e){var f=this._getMenu();f.bindMenuItemsForAndroid(e)},showMenu:function(e,f,h){var g=this._getMenu();g.showMenu(e,f,h)},updateToolbarEnabledByLength:function(e,f){var g=this._getMenu();g.updateToolbarEnabledByLength(e,f)},updateMenuEnabledByLength:function(e,f){var g=this._getMenu();g.updateMenuEnabledByLength(e,f)},initRte:function(){if(this._isRteInitialized()){return}this._setRteInitialized();var e=CKEDITOR.replace("mail-edit-body-html",{});if(c.isMsie8()){e.on("focus",function(f){b("body").trigger("mousedown")})}},openCurSharedLink:function(){var e=this._getHeader();e.openCurSharedLink()},openHelp:function(){var f=c.comSetting.getBaseHelpUrl();var e=this._getHelpUrl(f);window.open(e,"_blank")},_getHelpUrl:function(j){var g,i,h,f;if(DENBUN_MODE_XNEO){if(j&&j!=""){if(j.slice(-1)=="/"){g=j}else{if(j.slice(-5)==".html"||j.slice(-4)==".htm"){var e=j.lastIndexOf("/");if(e>=0){g=j.slice(0,e+1)}}else{g=j+"/"}}}else{g=a.HOMEPAGE_HELPURL_NEO}i=desknets.Resource.code;if(this._isAddressPage()){h=a.PATH_HELP_NEO_ADDR}else{h=a.PATH_HELP_NEO_IMAP}}else{g=j||a.HOMEPAGE_BASEURL;i=c.getLang();h=a.PATH_HELP}var f=g+i+h;return f},_isAddressPage:function(){var e=c.getCurPageName();if(e==c.PAGE_ADDRESS_LIST||e==c.PAGE_ADDRESS_VIEW||e==c.PAGE_ADDRESS_EDIT||e==c.PAGE_ADDRESS_USERS_LIST||e==c.PAGE_ADDRESS_USER_VIEW||e==c.PAGE_ADDRESS_DIRECTORY_LIST||e==c.PAGE_ADDRESS_DIRECTORY_VIEW||e==c.PAGE_SETTING_ADDRESSVISUAL||e==c.PAGE_SETTING_PERSONALADDRESSDELETE||e==c.PAGE_SETTING_PUBLICADDRESSDELETE||e==c.PAGE_SETTING_ADDRESSIMPORT||e==c.PAGE_SETTING_ADDRESSEXPORT){return true}else{return false}},openInquiry:function(){var e=this._getInquiryUrl();window.open(e,"_blank")},_getInquiryUrl:function(){var f=a.HOMEPAGE_BASEURL;var h=c.getLang();var g=a.PATH_INQUIRY;var e=f+h+g;return e},showDlgAbout:function(){var e=this._getDlgAbout();e.open()},_attachPageName:function(e){c._setCurPageName(e);var f=c.$body;f.attr(a.DATA_PAGE,e);f.toggleClass("x-page-update",e=="MailEdit")},hideHeader:function(){var e=this._getHeader();e.hide()},confirmToMovePage:function(f,g){var e=function(){c.app.closeChildWindows();if(g){g()}};if(c.app.isEdittingInChildren()){var f=[c.getText("このページから移動しますか？"),"",c.getText("別ウィンドウで編集中です。"),f||""].join("\n");c.confirm(f,{onok:e})}else{e()}},confirmExternalLink:function(f){var i=c.getText("新しいブラウザを起動して、以下のURLにアクセスします。よろしいですか？")+"\n"+f;var e={};var h=c.Dialog.getConfirmSetting(i,e);h.onok=function(){window.open(f,"_blank");return true};var g=new c.Dialog(h);g.initialize();g.open();return g},isEdittingInChildren:function(){var j=this._getChildWindowList();var f=false;for(var g=0;g<j.length;g++){var h=j[g];try{if(h.neo.denbun.app.isEdittingMail()){f=true;break}}catch(k){}}return f},closeChildWindows:function(){var h=this._getChildWindowList();for(var f=0;f<h.length;f++){var g=h[f];try{g.neo.denbun.app.forceToClose();g.close()}catch(j){}}},updateMailList:function(){var e=c.getCurPageName();if(e==c.PAGE_MAIL_LIST){var f=c.app.getCurPage();f.updateFolders()}else{this.setFlgUpdateMailList(true)}},waitToSendMail:function(h,e){var f=this;var g=function(){var i=c.Mail.getObserver();i.waitToSend(h,e);return};if(this._isModuleLoaded(c.PAGE_MAIL_LIST)){g()}else{this._loadModuleLow(c.PAGE_MAIL_LIST,g)}},updateMailListAfterSending:function(e,f){var g=this._mailListPage;if(g){g.updateMailListAfterSending(e,f)}},updateAddressList:function(){var e=c.getCurPageName();if(e==c.PAGE_ADDRESS_LIST){var f=c.app.getCurPage();f.reloadTable()}else{this.setFlgUpdateAddressList(true)}},updateUserList:function(){var e=c.getCurPageName();if(e==c.PAGE_ADDRESS_USERS_LIST){var f=c.app.getCurPage();f.reloadTable()}else{this.setFlgUpdateUserList(true)}},isEdittingMail:function(){var e=c.getCurPageName();var f=c.app.getCurPage();if(c.app.unloaded){return false}else{if(e==c.PAGE_MAIL_EDIT){return f.isEditting()}else{if(e==c.PAGE_ADDRESS_LIST||e==c.PAGE_ADDRESS_USERS_LIST||e==c.PAGE_ADDRESS_DIRECTORY_LIST||e==c.PAGE_ADDRESS_VIEW||e==c.PAGE_ADDRESS_EDIT||e==c.PAGE_ADDRESS_USER_VIEW||e==c.PAGE_ADDRESS_DIRECTORY_VIEW){return true}else{return false}}}},isEdittingAutoSave:function(){var e=c.getCurPageName();var f=c.app.getCurPage();if(c.app.unloaded){return false}else{if(e==c.PAGE_MAIL_EDIT){return f.isEdittingAutoSave()}else{return false}}},hasChildWindow:function(){var h=this._getChildWindowList();for(var f=0;f<h.length;f++){var g=h[f];try{if(!g.neo.denbun.app.unloaded){return true}}catch(j){}}return false},isWaitingSend:function(){if(c.Mail){var e=c.Mail.getObserver();if(e){return e._hasSendId()}}return false},finishUploadingOnActiveX:function(){var e=this._getMailEditPage();e.finishUploadingOnActiveX()},onresize:function(f,g){var i=500;var l=this;var j=function(o){l.resize(o);var n=new Date();l._setResizedTime(n)};var m=this._getTmResize();clearTimeout(m);var h=new Date();var e=this._getResizedTime();if(h-e>i){j(f)}else{var k=setTimeout(function(){j(f)},i);this._setTmResize(k)}},onunload:function(){c.app.closeChildWindows();c.app.unloaded=true},onkeydown:function(f){var e=27;if(f.keyCode==e){f.preventDefault()}},banpei:null}});a.constructor()})(jQuery);neo.denbun.App.prototype.onbeforeunload=function(){var b=neo.denbun;var a;if(b.app.isForcedToClose()){}else{if(!b.getSessionId()){}else{if(b.getCurPageName()==b.PAGE_MAIL_VIEW){}else{if(!b.parent){if(DENBUN_MODE_XNEO){if(b.app.isWaitingSend()){a=b.getText("未送信のメールがあります。\n※ウェブメールIMAPを終了すると未送信メールは「下書き」に保存されます。")}else{if(b.app.hasChildWindow()){a=b.getText("ウェブメールIMAPを終了します。\n※[ウェブメールIMAP]から起動したブラウザも全て終了します。")}}}else{a=b.getText("Denbunを終了します。\n子ウィンドウは全て閉じられます。")}}else{if(b.app.isEdittingMail()){if(b.app.isEdittingAutoSave()){a=desknets.Resource.Message.com_input_beforeentry_autosave_msg}else{a=b.getText("このメールは送信されていません。")}}}}}}return a};(function(b){var d=neo.core.readyNamespace("neo.denbun.App.Keyboard");if(!d){return}var c=neo.denbun;var a=neo.denbun.App.Keyboard=new neo.core.Class({classProperties:{CLS_TARGET:"keyboard-target",CLS_FOCUS:"keyboard-focus",KEY_SHIFT:16,KEY_CTRL:17,KEY_ALT:17,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_HOME:36,KEY_END:35,KEY_ENTER:13,KEY_SPACE:32,KEY_DELETE:46,KEY_TAB:9,KEY_A:65,KEY_F2:113,KEY_APPS:93,KEY_COMMAND:91,_instance:null,getInstance:function(){return this._instance},initInstance:function(){var e=new a();e.initialize();return this._instance=e},_setInstance:function(e){return this._instance=e},constructor:function(){},hook:function(f,e){neo.jq.bindListener(f,"mousedown","KeyboardContainer",e);f.addClass(a.CLS_TARGET)},updateFocusElement:function(f){var e=a.CLS_FOCUS;b("."+e).removeClass(e);if(f){f.addClass(e)}},runMethod:function(h,g,f){var e=false;b.each(h,function(l,m){if(!m){return}var k=m.key;var j=m.name;if(g==k){if(typeof f[j]=="function"){f[j]();e=true}return false}});return e},runListMethod:function(g,f){var e=false;if(!f){f=this}var h=[{key:a.KEY_UP,name:"moveToPrev"},{key:a.KEY_DOWN,name:"moveToNext"},{key:a.KEY_PAGEUP,name:"moveToPrevPage"},{key:a.KEY_PAGEDOWN,name:"moveToNextPage"},{key:a.KEY_HOME,name:"moveToFirst"},{key:a.KEY_END,name:"moveToLast"},{key:a.KEY_ENTER,name:"onenterkey"},{key:a.KEY_DELETE,name:"remove"},{key:a.KEY_SPACE,name:"select"},];e=a.runMethod(h,g,f);if(g==a.KEY_A&&c.isCtrlPressed()){if(typeof f.selectAll=="function"){f.selectAll();e=true}}return e},runTreeMethod:function(g,f){var e=false;if(!f){f=this}var h=[{key:a.KEY_UP,name:"moveToPrev"},{key:a.KEY_DOWN,name:"moveToNext"},{key:a.KEY_RIGHT,name:"moveToChild"},{key:a.KEY_LEFT,name:"moveToParent"},{key:a.KEY_PAGEUP,name:"moveToPrevPage"},{key:a.KEY_PAGEDOWN,name:"moveToNextPage"},{key:a.KEY_HOME,name:"moveToFirst"},{key:a.KEY_END,name:"moveToLast"},{key:a.KEY_DELETE,name:"remove"},{key:a.KEY_F2,name:"rename"},];e=a.runMethod(h,g,f);return e},runCandidateListMethod:function(g,f){var e=false;if(!f){f=this}var h=[{key:a.KEY_UP,name:"moveToPrev"},{key:a.KEY_DOWN,name:"moveToNext"},{key:a.KEY_ENTER,name:"onenterkey"},];e=a.runMethod(h,g,f);return e},onkeydown:function(f,h){var g=f.keyCode;var e=this.runMethod(g);if(e){f.preventDefault()}},onmousedown:function(e,f){c.app.setKeyboardOperableTarget(this);if(!c.isTablet()){b('<a href="#">x</a>').css({position:"absolute",top:-99999}).appendTo(c.$body).focus().remove()}}},properties:{_initialized:null,_isInitialized:function(){return this._initialized},_setInitialized:function(e){return this._initialized=e},_ctrlIsPressed:null,isCtrlPressed:function(){return this._ctrlIsPressed},_setCtrlIsPressed:function(e){return this._ctrlIsPressed=e},_shiftIsPressed:null,isShiftPressed:function(){return this._shiftIsPressed},_setShiftIsPressed:function(e){return this._shiftIsPressed=e},_altIsPressed:null,isAltPressed:function(){return this._altIsPressed},_setAltIsPressed:function(e){return this._altIsPressed=e},_controller:null,getController:function(){return this._controller},setController:function(f){this.setElMenu(null);if(f&&typeof f.getElKeyboardContainer=="function"){var e=f.getElKeyboardContainer();a.updateFocusElement(e)}return this._controller=f},_elMenu:null,_getElMenu:function(){return this._elMenu},setElMenu:function(e){return this._elMenu=e},__constructor:function(){if(a.getInstance()){var e="Dupulicated.";throw new Error("neo.denbun.Keyboard.__constructor : "+e)}this._ctrlIsPressed=false;this._shiftIsPressed=false;this._altIsPressed=false;this._initialized=false},initialize:function(){if(this._isInitialized()){return}this._hook();this._setInitialized(true)},_hook:function(){var e;e=c.$window;neo.jq.bindListener(e,"blur",null,this);e=c.$document;neo.jq.bindListener(e,"mousedown",null,this);neo.jq.bindListener(e,"keydown",null,this);neo.jq.bindListener(e,"keyup",null,this)},_updateCombinationKey:function(f,e){switch(f){case a.KEY_CTRL:case a.KEY_COMMAND:this._setCtrlIsPressed(e);break;case a.KEY_SHIFT:this._setShiftIsPressed(e);break;case a.KEY_ALT:this._setAltIsPressed(e);break}},setCombinationKey:function(f,e){this._updateCombinationKey(f,true)},_runCallback:function(g,f){var e=this.getController();if(!e){return}if(typeof e[g]=="function"){e[g].apply(e,f)}},_operateMenu:function(e){return c.app.operateMenuByKeyCode(e)},_hasController:function(){var e=this.getController();return(!!e)},onblur:function(e,f){this._setCtrlIsPressed(false);this._setShiftIsPressed(false);this._setAltIsPressed(false)},onmousedown:function(e,g){var f=b(e.target);if(f.closest("."+c.App.Menu.CLS_MENU).length>0){return}if(!this._isTargetElement(f)){c.app.setKeyboardOperableTarget(null);a.updateFocusElement(null)}},_isTargetElement:function(e){var f=e.closest("."+a.CLS_TARGET);return(f.length>0)},onkeydown:function(f,h){var g=f.keyCode;this._updateCombinationKey(g,true);var e=this._getElMenu();if(e){this._operateMenu(g);f.preventDefault()}else{this._runCallback("onkeydownKeyboardContainer",arguments)}},onkeyup:function(e,g){var f=e.keyCode;this._updateCombinationKey(f,false);this._runCallback("onkeyup",arguments)},__closure:c.__closure,__bind:c.__bind,banpei:null}});a.constructor()})(jQuery);(function(b){var d=neo.core.readyNamespace("neo.denbun.App.Menu");if(!d){return}var c=neo.denbun;var a=neo.denbun.App.Menu=new neo.core.Class({classProperties:{CLS_TOOLBAR:"toolbar-list",CLS_ITEM:"toolbar-item",CLS_BUTTON:"toolbar-button",CLS_SHOW_MENU:"toolbar-button-show_menu",CLS_MENU:"popup_menu-list",CLS_MENU_ITEM:"popup_menu-item",CLS_MENU_ITEM_CUR:"popup_menu-item-current",CLS_MENU_ITEM_UNSELECTABLE:"popup_menu-item-unselectable",CLS_MENU_ITEM_HAS_SUB_AND_ACTION:"popup_menu-item-has_sub_and_action",CLS_MENU_OWNER:"popup_menu-owner",CLS_FOR_SINGLE:"menu-for_single",CLS_FOR_MULTI:"menu-for_multi",DATA_PAGE:"data-page",DATA_ACTION:"data-action",DATA_EL_BG:"data-elBg",KEY_INITIALIZED_MENU:"initialized",KEY_TOOLBAR_PAGE:"page",KEY_TOOLBAR_ACTION:"action",SHOW_SUB_MENU_DELAY:500,_instance:null,getInstance:function(){return this._instance},initInstance:function(){var e=new a();e.initialize();return this._instance=e},_setInstance:function(e){return this._instance=e},constructor:function(){},initialize:function(){var e=new a();e.initialize();this._setInstance(e)},banpei:null},properties:{_initialized:null,_isInitialized:function(){return this._initialized},_setInitialized:function(e){return this._initialized=e},_callbacks:null,_getCallbacks:function(){return this._callbacks||this._initCallbacks()},_initCallbacks:function(){return this._callbacks={}},_tmShowSubMenu:null,_getTmShowSubMenu:function(){return this._tmShowSubMenu},_setTmShowSubMenu:function(f){var e=this._getTmShowSubMenu();clearTimeout(e);return this._tmShowSubMenu=f},_tmHideSubMenu:null,_getTmHideSubMenu:function(){return this._tmHideSubMenu},_setTmHideSubMenu:function(f){var e=this._getTmHideSubMenu();clearTimeout(e);return this._tmHideSubMenu=f},_elAllButtons:null,_getElAllButtons:function(){return this._elAllButtons||this._initElAllButtons()},_initElAllButtons:function(){return this._elAllButtons=b("."+a.CLS_BUTTON)},_elAllMenus:null,_getElAllMenus:function(){if(DENBUN_MODE_XNEO){return this._initElAllMenus()}else{return this._elAllMenus||this._initElAllMenus()}},_initElAllMenus:function(){return this._elAllMenus=b("."+a.CLS_MENU)},_elAllMenuItems:null,_getElAllMenuItems:function(){return this._elAllMenuItems||this._initElAllMenuItems()},_initElAllMenuItems:function(){return this._elAllMenuItems=b("."+a.CLS_MENU_ITEM)},_elAllActionButtons:null,_getElAllActionButtons:function(){return this._elAllActionButtons||this._initElAllActionButtons()},_initElAllActionButtons:function(){var e=b("["+a.DATA_ACTION+"]:not(."+a.CLS_ITEM+"):not(."+a.CLS_MENU_ITEM+"):not(."+a.CLS_MENU_OWNER+")");return this._elAllActionButtons=e},_elCurMenu:null,_getElCurMenu:function(){return this._elCurMenu},_setElCurMenu:function(e){return this._elCurMenu=e},_elCurSubMenu:null,_getElCurSubMenu:function(){return this._elCurSubMenu},_setElCurSubMenu:function(e){return this._elCurSubMenu=e},_elSubMenuToShow:null,_getElSubMenuToShow:function(){return this._elSubMenuToShow},_setElSubMenuToShow:function(e){return this._elSubMenuToShow=e},_elSubMenuToHide:null,_getElSubMenuToHide:function(){return this._elSubMenuToHide},_setElSubMenuToHide:function(e){return this._elSubMenuToHide=e},_elCurItem:null,_getElCurItem:function(){return this._elCurItem},_setElCurItem:function(e){return this._elCurItem=e},_elActive:null,_getElActive:function(){return this._elActive},_setElActive:function(e){return this._elActive=e},_elSelectTags:null,getElSelectTags:function(){return this._elSelectTags||this._initElSelectTags()},_initElSelectTags:function(){return this._elSelectTags=b("#popup_menu-com-select_tag > li > span")},__constructor:function(){if(a.getInstance()){var e="Dupulicated.";throw new Error("neo.denbun.App.Menu.__constructor : "+e)}this._initialized=false},initialize:function(){if(this._isInitialized()){return}this._hook();this._setInitialized(true)},_hook:function(){var e;e=b(window);e.bind("blur",this.__closure(this.onblur));e=b(document);e.bind("keydown",this.__closure(this.onkeydown));e.bind("contextmenu",this.__closure(this.oncontextmenu));e=b("body");if(c.isIpad()){e.bind("touchstart",this.__closure(this.onmousedown))}else{this.__bind(e,"mousedown")}e=this._getElAllButtons();this.__bind(e,"click","Button");e=this._getElAllMenuItems();if(DENBUN_MODE_XNEO){if(c.isAndroid()){e.bind("click",this.__closure(this.onclickMenuItem))}else{this.__bind(e,"click","MenuItem")}}else{e.bind("click",this.__closure(this.onclickMenuItem))}this.__bind(e,"mouseover","MenuItem");this.__bind(e,"mouseout","MenuItem");this.__bind(e,"selectstart","MenuItem");e=this._getElAllActionButtons();this.__bind(e,"click","ActionButton");if(DENBUN_MODE_XNEO){e=this.getElSelectTags();e.bind("click",this.__closure(this.onclickSelectTags))}},bindMenuItemsForAndroid:function(f){if(c.isAndroid()){var e=f.find("."+a.CLS_MENU_ITEM);e.bind("click",this.__closure(this.onclickMenuItem))}},runAction:function(e,f){var g=c.app.getCurPage();g.runAction(e,f)},showMenu:function(m,i,k){var e=this._getElMenu(m,i);var o=this._runCallback(m,i,e);if(o===false){return}if(!k){k=this._getMenuPos(m,i)}var g=c.getClientSize();var h=e.outerWidth();var l=g.width-(k.left+h);if(l<0){k.left+=l}if(k.left<0){k.left=0}var f=e.outerHeight();var j=g.height-(k.top+f);if(j<0){k.top+=j}if(k.top<0){k.top=0}var n=this;e.css(k).fadeIn(function(){n.showBgIFrame(e)});this._setElCurMenu(e);c.app.setKeyboardOperableMenu(e)},_hideMenu:function(){var f=this._getElAllMenus();if(c.isIe7()){for(var e=f.length;e>=0;e--){this._hideMenuLow(f.eq(e))}}else{this._hideMenuLow(f)}this._setElCurMenu(null);this._updateCurItem(null);c.app.setKeyboardOperableMenu(null)},_hideMenuLow:function(f){f.hide();for(var e=0;e<f.length;e++){this.hideBgIFrame(f.eq(e))}},showBgIFrame:function(f){if(!f.is(":visible")){return}var g=c.getRect(f,true);var h=c.getElBgIFrame();h.css(g).show().appendTo("body");var e=f.data(a.DATA_EL_BG);if(e){e.remove()}f.data(a.DATA_EL_BG,h)},hideBgIFrame:function(e){var f=e.data(a.DATA_EL_BG);if(f){f.remove()}e.data(a.DATA_EL_BG,null)},_getElMenuButton:function(e,f){var i;var h=b("."+a.CLS_TOOLBAR+"[data-"+a.KEY_TOOLBAR_PAGE+'="'+e+'"]');var g=h.find("."+a.CLS_ITEM+"[data-"+a.KEY_TOOLBAR_ACTION+'="'+f+'"]');var i=g.find("."+a.CLS_SHOW_MENU+"");return i},_getElMenu:function(e,f){var i=this._getMenuId(e,f);var g=b("#"+i);if(g.length<1){var h="The menu element is not found : #"+i;throw new Error("neo.denbun.App.Menu._getElMenu : "+h)}if(!this._isInitializedMenu(g)){this._initializeMenu(g)}return g},_getMenuId:function(e,f){var g="popup_menu-"+e+"-"+f;return g},_isInitializedMenu:function(e){var f=e.data(a.KEY_INITIALIZED_MENU);return f},_initializeMenu:function(j){if(c.isIe7()){var h=20;j.css({top:-99999}).show().width(j.width()+h)}var e=this._getElItemsFrom(j);for(var g=0;g<e.length;g++){var f=e.eq(g);this._initializeMenuItem(f)}j.data(a.KEY_INITIALIZED_MENU,true)},_initializeMenuItem:function(e){var g=this._getElSubMenuFrom(e);if(g.length>0){var f=this._buildElShowSubMenu();e.prepend(f);if(e.attr("data-action")!=null){e.addClass(a.CLS_MENU_ITEM_HAS_SUB_AND_ACTION)}}},_buildElShowSubMenu:function(){var e=b("<img />").addClass("popup_menu-show_sub").attr({src:c.PATH_IMG_SPACER}).attr({alt:">",height:14,title:"",width:14});return e},_getMenuPos:function(e,f){var g=this._getElMenuButton(e,f);var h=c.getRect(g,true);var i={left:h.left,top:h.top+h.height-1};return i},_getButtonActionInfo:function(i){var g=i.closest("."+a.CLS_ITEM);var f=g.attr("data-"+a.KEY_TOOLBAR_ACTION);var h=g.closest("."+a.CLS_TOOLBAR);var e=h.attr("data-"+a.KEY_TOOLBAR_PAGE);var j={actionName:f,pageName:e};return j},_getMenuItemActionInfo:function(g){var i=this._getElRootMenuFrom(g);var l=i.attr("id");var h=l.match(/^popup_menu-([^-]*)-([^-]*)$/);if(!h){var j='Invalid menu id format : "'+l+'".';throw new Error("neo.denbun.App.Menu._getMenuItemActionInfo : "+j)}var e=h[1];var f=g.attr("data-action");var k={actionName:f,pageName:e};return k},_getPopupActionInfo:function(e){var g=e.closest("."+a.CLS_MENU_OWNER);if(g.length<1){return null}var f={actionName:g.attr("data-"+a.KEY_TOOLBAR_ACTION),pageName:g.attr("data-"+a.KEY_TOOLBAR_PAGE)};return f},_getActionButtonActionInfo:function(g){var f=g.attr(a.DATA_ACTION);var e=g.attr(a.DATA_PAGE);var h={actionName:f,pageName:e};return h},_updateCurItem:function(f){var e=a.CLS_MENU_ITEM_CUR;var g=this._getElCurItem();if(g){g.removeClass(e)}this._setElCurItem(f);if(f){f.addClass(e)}},_showSubMenu:function(g){var h=this._getElSubMenuFrom(g);if(h.length<1){return}var f=this;var e=setTimeout(function(){f._showSubMenuLow(g)},a.SHOW_SUB_MENU_DELAY);this._setTmShowSubMenu(e);this._setTmHideSubMenu(null);var h=this._getElSubMenuFrom(g);this._setElSubMenuToShow(h)},_showSubMenuLow:function(e){var g=this._getElSubMenuFrom(e);if(g.length>0){this._hideOtherSubMenus(e);var f=this._calcSubMenuPos(g,e);g.css(f).show();this.showBgIFrame(g);this._setElCurSubMenu(g)}return g},_hideOtherSubMenus:function(g){var f=this._getElCurSubMenu();if(!f){return}var e=this;f.parents("."+a.CLS_MENU).andSelf().each(function(j,h){var k=false;g.parents("."+a.CLS_MENU).andSelf().each(function(n,m){if(h==m){k=true;return false}});if(!k){var l=b(h);e._hideMenuLow(l)}})},_calcSubMenuPos:function(f,m){var l={};var o=c.getRect(m,true);var h=c.getClientSize();var e=f.outerWidth();var g=o.left+o.width;if(g+e<=h.width){l.left=g}else{g=o.left-e;if(g>=0){l.left=g}else{g=h.width-e;if(g>=0){l.left=g}else{l.left=0}}}var n=f.outerHeight();var k=o.top;if(k+n<=h.height){l.top=k}else{k=o.top+o.height-n;if(k>=0){l.top=k}else{k=h.height-n;if(k>=0){l.top=k}else{l.top=0}}}f.css({top:-99999}).show();var j=f.offsetParent();var i=j.offset();l.left-=i.left;l.top-=i.top;l.left--;return l},_hideSubMenu:function(e){this._setTmShowSubMenu(null)},_hideSubMenuLow:function(e){var f=this._getElSubMenuFrom(e);this._hideMenuLow(f)},runKeyboardAction:function(h){var e;if(h==c.App.Keyboard.KEY_ENTER){var f=this._getElCurItem();var g=this._getMenuItemActionInfo(f);e=this.runAction(g.pageName,g.actionName);this._hideMenu()}else{e=c.App.Keyboard.runTreeMethod.apply(this,arguments)}return e},moveToPrev:function(){var e=this._getElCurItem();if(e){var f=e.prevAll(":not(."+a.CLS_MENU_ITEM_UNSELECTABLE+"):visible:first");if(f.length<1){f=this._getElLastItemFrom(e)}}else{var g=this._getElCurMenu();f=g.children(":visible:last")}this._updateCurItem(f)},moveToNext:function(){var f=this._getElCurItem();var e;if(f){e=f.nextAll(":not(."+a.CLS_MENU_ITEM_UNSELECTABLE+"):visible:first");if(e.length<1){e=this._getElFirstItemFrom(f)}}else{var g=this._getElCurMenu();e=g.children(":visible:first")}this._updateCurItem(e)},moveToChild:function(){var e=this._getElCurItem();if(!e){return}var g=this._showSubMenuLow(e);if(g.length>0){var f=g.children(":visible:first");this._updateCurItem(f)}},moveToParent:function(){var e=this._getElCurItem();if(!e){return}var f=e.parent().parent();if(f.hasClass(a.CLS_MENU_ITEM)){this._hideSubMenuLow(f);this._updateCurItem(f)}},_getElFirstItemFrom:function(e){var f=e.siblings(":visible:first");if(f.length<1){f=e}return f},_getElLastItemFrom:function(f){var e=f.siblings(":visible:last");if(e.length<1){e=f}return e},_isEnabledElement:function(f){var e=f.closest("."+c.CLS_DISABLED+",:disabled");return(e.length<1)},_isShowMenuButton:function(e){return e.hasClass(a.CLS_SHOW_MENU)},_isMenuElement:function(e){var f=this._getElMenuFrom(e);return(f.length>0)},_getElItemsFrom:function(f){var e=f.children();return e},_getElMenuFrom:function(e){var f=e.closest("."+a.CLS_MENU);return f},_getElRootMenuFrom:function(e){var f=e.parents("."+a.CLS_MENU+":last");return f},_getElSubMenuFrom:function(e){var f=e.children("."+a.CLS_MENU);if(f.length>0&&!this._isInitializedMenu(f)){this._initializeMenu(f)}return f},registerCallback:function(i,e,f){var g=this._getCallbacks();var h=this._getMenuId(e,f);g[h]=i},_runCallback:function(f,g,h){var k=this._getMenuId(f,g);var i=this._getCallbacks();var j=i[k];var e;if(typeof j=="function"){e=j(h)}return e},updateToolbarEnabledByLength:function(e,g){var f=e.find("."+a.CLS_ITEM);this._updateItemsEnabledByLength(f,g)},updateMenuEnabledByLength:function(f,g){var e=f.find("."+a.CLS_MENU_ITEM);this._updateItemsEnabledByLength(e,g)},_updateItemsEnabledByLength:function(g,i){var f=c.CLS_DISABLED;g.removeClass(f);var h=g.filter("."+a.CLS_FOR_SINGLE);var e=g.filter("."+a.CLS_FOR_MULTI);if(i==0){h.addClass(f);e.addClass(f)}else{if(i>1){h.addClass(f)}}},onresize:function(e){if(!c.isIe7()){this._hideMenu()}},onblur:function(e,f){this._hideMenu()},onkeydown:function(f,h){var e=27;var g=f.keyCode;switch(g){case e:this._hideMenu();break}},onmousedown:function(e,f){var g=b(e.target);this._setElActive(g);if(!this._isMenuElement(g)){this._hideMenu()}},oncontextmenu:function(f,g){var j=f.target.tagName;var h;if(j===undefined||j.toLowerCase()=="html"){h=this._getElActive()}else{h=b(f.target)}var e=this._getPopupActionInfo(h);if(e){f.preventDefault();this._hideMenu();var i={left:f.clientX||0,top:f.clientY||0};this.showMenu(e.pageName,e.actionName,i)}},onclickButton:function(g,h){g.preventDefault();var e=b(h);if(this._isEnabledElement(e)){var f=this._getButtonActionInfo(e);if(this._isShowMenuButton(e)){this.showMenu(f.pageName,f.actionName)}else{this.runAction(f.pageName,f.actionName)}}},onclickMenuItem:function(g,h){g.stopPropagation();var e=b(h);if(this._isEnabledElement(e)){var f=this._getMenuItemActionInfo(e);if(f.actionName){this._hideMenu();this.runAction(f.pageName,f.actionName)}}},onmouseoverMenuItem:function(g,h){var e=b(h);var f=b(g.target).closest("."+a.CLS_MENU);if(e.has(f).length>0){return}if(e.hasClass(a.CLS_MENU_ITEM_UNSELECTABLE)){return}this._updateCurItem(e);this._showSubMenu(e)},onmouseoutMenuItem:function(f,g){var e=b(g);this._hideSubMenu(e)},onselectstartMenuItem:function(e,f){e.preventDefault()},onclickActionButton:function(g,h){g.preventDefault();var e=b(h);if(this._isEnabledElement(e)){var f=this._getActionButtonActionInfo(e);this.runAction(f.pageName,f.actionName)}},onclickSelectTags:function(e,g){e.preventDefault();var f=c.app.getCurPage();f.selectTag(e);this._hideMenu()},runMethod:c.App.Keyboard.runTreeMethod,__closure:c.__closure,__bind:c.__bind,banpei:null}});a.constructor()})(jQuery);(function($){var firstTime=neo.core.readyNamespace("neo.denbun.App.Header");if(!firstTime){return}var denbun=neo.denbun;var Header=neo.denbun.App.Header=new neo.core.Class({classProperties:{TYPE_MAIL:"mail",TYPE_ADDRESS:"address",TYPE_SETTING:"setting",constructor:function(){}},properties:{_hidden:null,isHidden:function(){return this._hidden},_setHidden:function(obj){return this._hidden=obj},_elContainer:null,_getElContainer:function(){return this._elContainer||this._initElContainer()},_initElContainer:function(){return this._elContainer=$("#header")},_elSelectPage:null,_getElSelectPage:function(){return this._elSelectPage||this._initElSelectPage()},_initElSelectPage:function(){return this._elSelectPage=$(".page_selector-link")},_elName:null,_getElName:function(){return this._elName||this._initElName()},_initElName:function(){return this._elName=$("#user_info-name")},_elCapacityContainer:null,_getElCapacityContainer:function(){return this._elCapacityContainer||this._initElCapacityContainer()},_initElCapacityContainer:function(){return this._elCapacityContainer=$("#user_info-item-capacity")},_elCapacityUsing:null,_getElCapacityUsing:function(){return this._elCapacityUsing||this._initElCapacityUsing()},_initElCapacityUsing:function(){return this._elCapacityUsing=$("#user_info-capacity-using")},_elCapacity:null,_getElCapacity:function(){return this._elCapacity||this._initElCapacity()},_initElCapacity:function(){return this._elCapacity=$("#user_info-capacity-usable")},_elCapacityRatio:null,_getElCapacityRatio:function(){return this._elCapacityRatio||this._initElCapacityRatio()},_initElCapacityRatio:function(){return this._elCapacityRatio=$("#user_info-capacity-ratio")},_elSharedLinksContainer:null,_getElSharedLinksContainer:function(){return this._elSharedLinksContainer||this._initElSharedLinksContainer()},_initElSharedLinksContainer:function(){return this._elSharedLinksContainer=$("#user_info-item-shared_links")},_elSharedLinks:null,_getElSharedLinks:function(){return this._elSharedLinks||this._initElSharedLinks()},_initElSharedLinks:function(){return this._elSharedLinks=$("#shared_links")},_elHelp:null,_getElHelp:function(){return this._elHelp||this._initElHelp()},_initElHelp:function(){return this._elHelp=$("#help")},_elLogout:null,_getElLogout:function(){return this._elLogout||this._initElLogout()},_initElLogout:function(){return this._elLogout=$("#logout")},_elSharedLinkList:null,_getElSharedLinkList:function(){return this._elSharedLinkList||this._initElSharedLinkList()},_initElSharedLinkList:function(){return this._elSharedLinkList=$("#popup_menu-header-shared_links")},_elSharedLinkItemTemplate:null,_getElSharedLinkItemTemplate:function(){return this._elSharedLinkItemTemplate||this._initElSharedLinkItemTemplate()},_initElSharedLinkItemTemplate:function(){var elList=this._getElSharedLinkList();var clsTemplate=denbun.CLS_TEMPLATE;var elTemplate=elList.find("."+clsTemplate).removeClass(clsTemplate).remove();return this._elSharedLinkItemTemplate=elTemplate},_elDenbunVersion:null,_getElDenbunVersion:function(){return this._elDenbunVersion||this._initElDenbunVersion()},_initElDenbunVersion:function(){return this._elDenbunVersion=$("#about-denbun")},_elHttpdVersion:null,_getElHttpdVersion:function(){return this._elHttpdVersion||this._initElHttpdVersion()},_initElHttpdVersion:function(){return this._elHttpdVersion=$("#about-httpd")},_elAgentVersion:null,_getElAgentVersion:function(){return this._elAgentVersion||this._initElAgentVersion()},_initElAgentVersion:function(){return this._elAgentVersion=$("#about-agent")},_elOs:null,_getElOs:function(){return this._elOs||this._initElOs()},_initElOs:function(){return this._elOs=$("#about-os")},_elLogo:null,_getElLogo:function(){return this._elLogo||this._initElLogo()},_initElLogo:function(){return this._elLogo=$("#logo-container")},setting:null,_getPage:function(){return this.setting.page},__constructor:function(setting){this._hidden=false;this.setting=setting},initialize:function(){this._hook()},_hook:function(){var element;element=this._getElSelectPage();this.__bind(element,"click","SelectPage");if(!DENBUN_MODE_XNEO){element=this._getElSharedLinks();this.__bind(element,"click","SharedLinks")}element=this._getElHelp();this.__bind(element,"click","Help");if(!DENBUN_MODE_XNEO){element=this._getElLogout();this.__bind(element,"click","Logout");element=this._getElSharedLinkList();element.delegate("."+denbun.App.Menu.CLS_MENU_ITEM,"click",this.__closure(this.onclickSharedLinkItem))}element=this._getElLogo();this.__bind(element,"click","Logo")},_selectPage:function(elLink){if(denbun.app.isSettingModified()){var message=denbun.getText("設定を反映させるには画面を再読み込みする必要があります。");denbun.app.confirmToMovePage(message,function(){var message=denbun.getText("準備中...");denbun.prevent(message);location.hash=elLink.attr("href");denbun.reload()},message)}else{denbun.openPage(elLink,null,false)}},toggleDisabledClassOfPageSelector:function(disabled){var elSelectPage=this._getElSelectPage();elSelectPage.toggleClass(denbun.CLS_DISABLED,disabled)},updateLoginInfo:function(){this._updateUserName()},_updateUserName:function(){var name=denbun.comSetting.getUserName();this.setUserName(name)},setUserName:function(name){var elName=this._getElName();var text=neo.core.escape(name);if(DENBUN_MODE_XNEO){text=desknets.escapeSpace(text)}else{text=denbun.escapeSpace(text)}elName.html(text)},updateCapacity:function(usingKB,capacityKB){if(usingKB>0&&capacityKB>0){var usingB=usingKB*1024;var capacityMB=capacityKB/1024;this._updateCapacityLow(usingB,capacityMB);if(!DENBUN_MODE_XNEO){this._showCapacity()}}else{if(DENBUN_MODE_XNEO){$("#co-capacity").empty();return}this._hideCapacity()}},_updateCapacityLow:function(using,capacityMB){if(DENBUN_MODE_XNEO){desknets.capacity.makeHtml($("#co-capacity"),capacityMB,using)}else{var capacityB=capacityMB*1024*1024;var elUsing=this._getElCapacityUsing();elUsing.text(denbun.getSizeText(using,1));var elCapacity=this._getElCapacity();elCapacity.text(denbun.getSizeText(capacityB,1));var ratio=parseInt(100*using/(capacityB));var elRation=this._getElCapacityRatio();elRation.text(ratio+"%")}this._showCapacity()},_showCapacity:function(){var elContainer=this._getElCapacityContainer();elContainer.css({position:"static"})},_hideCapacity:function(){var elContainer=this._getElCapacityContainer();elContainer.css({position:""})},updateSharedLinks:function(){var dataList=denbun.comSetting.getSharedLinksData();if(dataList.length>0){this._buildSharedLinkElements(dataList);var elContainer=this._getElSharedLinksContainer();elContainer.css({position:"static"})}},_buildSharedLinkElements:function(dataList){var elList=this._getElSharedLinkList();for(var i=0;i<dataList.length;i++){var data=dataList[i];var elItem=this._buildElSharedLinkItem(data);elList.append(elItem)}},openCurSharedLink:function(){var elList=this._getElSharedLinkList();var elItem=elList.children("."+denbun.App.Menu.CLS_MENU_ITEM_CUR);if(elItem.length>0){this._openSharedLink(elItem)}},_buildElSharedLinkItem:function(data){var elTemplate=this._getElSharedLinkItemTemplate();var elItem=elTemplate.clone();var name=data.Name;elItem.text(name);var url=data.url;elItem.attr("title",url);return elItem},_showSharedLinksMenu:function(){var elLink=this._getElSharedLinks();var rect=denbun.getRect(elLink,true);var pos={left:rect.left,top:rect.top+rect.height};denbun.app.showMenu("header","shared_links",pos)},_openSharedLink:function(elItem){var elMenu=this._getElSharedLinkList();elMenu.scrollTop(0);var url=elItem.attr("title");window.open(url,"_blank")},_showHelpMenu:function(){var elHelp=this._getElHelp();var rect=denbun.getRect(elHelp,true);var pos={left:rect.left,top:rect.top+rect.height};denbun.app.showMenu("header","help",pos)},_logout:function(){denbun.logout()},updateAbout:function(){var denbunVersion=denbun.comSetting.getDenbunVersion();var elDenbunVersion=this._getElDenbunVersion();elDenbunVersion.text(denbunVersion);var httpdVersion=denbun.comSetting.getHttpdVersion();var elHttpdVersion=this._getElHttpdVersion();elHttpdVersion.text(httpdVersion);var agentVersion=this._getAgentVersion();var elAgentVersion=this._getElAgentVersion();elAgentVersion.text(agentVersion);var os=this._getOs();var elOs=this._getElOs();elOs.text(os)},_getAgentVersion:function(){function getBrowserName(){var aName=navigator.appName.toUpperCase();var uName=navigator.userAgent.toUpperCase();if(aName.indexOf("MICROSOFT")>=0){return"Explorer"}if(uName.indexOf("TRIDENT")>=0){return"Explorer"}if(uName.indexOf("FIREFOX")>=0){return"Firefox"}if(uName.indexOf("OPERA")>=0){return"Opera"}if(uName.indexOf("CHROME")>=0){return"Chrome"}if(uName.indexOf("SAFARI")>=0){return"Safari"}if(aName.indexOf("NETSCAPE")>=0){return"Netscape"}return""}function getBrowserVersion(){var browser=getBrowserName();var version=0;var s=0;var e=0;var appVer=navigator.appVersion;var uName=navigator.userAgent.toUpperCase();if(browser=="Safari"){s=uName.indexOf("SAFARI/",0);s=uName.indexOf("VERSION/",0)+8;e=uName.indexOf(" ",s);version=parseFloat(uName.substring(s,e))}if(browser=="Opera"){s=uName.indexOf("OPERA",0)+6;e=uName.indexOf(" ",s);version=parseFloat(uName.substring(s,e))}if(browser=="Firefox"){s=uName.indexOf("FIREFOX/",0);version=parseFloat(uName.substring(s+8,s+8+3))}if(browser=="Netscape"){s=appVer.indexOf(" ",0);version=eval(appVer.substring(0,s));if(version>=5){version++}}if(browser=="Explorer"){appVer=navigator.userAgent;if(appVer.indexOf("MSIE")>=0){s=appVer.indexOf("MSIE ",0)+5;e=appVer.indexOf(";",s);version=eval(appVer.substring(s,e))}else{s=appVer.indexOf("rv:",0)+3;e=appVer.indexOf(")",s);version=parseFloat(appVer.substring(s,e))}}if(browser=="Chrome"){s=uName.indexOf("CHROME/",0)+7;e=uName.indexOf(" ",s);version=parseFloat(uName.substring(s,e))}return version}var agentVersion=getBrowserName()+" "+getBrowserVersion();return agentVersion},_getOs:function(){function getOSType(){var uAgent=navigator.userAgent.toUpperCase();if(uAgent.indexOf("WIN")>=0){return"Windows"}if(uAgent.indexOf("MAC")>=0){return"MacOS"}if(uAgent.indexOf("X11")>=0){return"UNIX"}return""}var os=getOSType();return os},_openHomePage:function(){if(this.isHidden()){return}var parameters={};parameters[denbun.PARAM_PAGE]=denbun.PAGE_MAIL_LIST;if(denbun.getCurPageName()==denbun.PAGE_MAIL_LIST){parameters[denbun.PARAM_INIT]=1}if(DENBUN_MODE_XNEO){if(!denbun.comSetting.isAvailableImap()){parameters[denbun.PARAM_PAGE]=""}}var elLink=$("<a />").attr("href","#"+neo.core.joinParam(parameters));this._selectPage(elLink)},hide:function(){var elContainer=this._getElContainer();elContainer.remove();var elLogo=this._getElLogo();elLogo.css({cursor:"default"});this._setHidden(true)},onclickSelectPage:function(event,orgContext){var elLink=$(orgContext);if(elLink.hasClass(denbun.CLS_DISABLED)){event.preventDefault();return}var self=this;var funcNext=function(){self._selectPage(elLink)};var page=denbun.app.getCurPage();if(page){page.onclickSelectPage(funcNext)}else{funcNext()}},onclickSharedLinks:function(event,orgContext){this._showSharedLinksMenu()},onclickHelp:function(event,orgContext){if(DENBUN_MODE_XNEO){denbun.app.openHelp()}else{this._showHelpMenu()}},onclickLogout:function(event,orgContext){this._logout()},onclickSharedLinkItem:function(event,orgContext){var elItem=$(orgContext);this._openSharedLink(elItem)},onclickLogo:function(event,orgContext){var self=this;var funcNext=function(){self._openHomePage()};var page=denbun.app.getCurPage();if(page){page.onclickSelectPage(funcNext)}else{funcNext()}},__closure:denbun.__closure,__bind:denbun.__bind,banpei:null}});Header.constructor()})(jQuery);(function(b){var d=neo.core.readyNamespace("neo.denbun.App.MainArea");if(!d){return}var c=neo.denbun;var a=neo.denbun.App.MainArea=new neo.core.Class({classProperties:{ID_LEFT_SLIDE_BAR:"slide_bar-left",ID_RIGHT_SLIDE_BAR:"slide_bar-right",DEFAULT_SLIDE_BAR_DRAGGABLE_SETTING:{axis:"x",iframeFix:true,scroll:false},_instance:null,getInstance:function(){return this._instance},_setInstance:function(e){return this._instance=e},constructor:function(){},initialize:function(){var e=new a();e.initialize();this._setInstance(e)},banpei:null},properties:{_initialized:null,_isInitialized:function(){return this._initialized},_setInitialized:function(e){return this._initialized=e},_elMainArea:null,_getElMainArea:function(){return this._elMainArea||this._initElMainArea()},_initElMainArea:function(){return this._elMainArea=b("#main")},_elSlideBar:null,_getElSlideBar:function(){return this._elSlideBar||this._initElSlideBar()},_initElSlideBar:function(){return this._elSlideBar=b("#"+a.ID_LEFT_SLIDE_BAR+",#"+a.ID_RIGHT_SLIDE_BAR+"")},__constructor:function(){if(a.getInstance()){var e="Dupulicated.";throw new Error("neo.denbun.App.MainArea.__constructor : "+e)}this._initialized=false},initialize:function(){if(this._isInitialized()){return}this._hook();this._updateRectSize();this._setInitialized(true)},_hook:function(){var e;e=this._getElSlideBar();var f=this._getSlideBarSetting();e.draggable(f)},_getSlideBarSetting:function(){var e=b.extend({},a.DEFAULT_SLIDE_BAR_DRAGGABLE_SETTING);var f=this._getElSlideBar();e.helper=function(){var g=b('<div class="slide_bar-helper" />').css({height:f.height(),top:f.offset().top}).appendTo("body");return g};e.start=this.__closure(this.ondragstartSlideBar);e.stop=this.__closure(this.ondragstopSlideBar);return e},_updateRectSize:function(){if(DENBUN_DEBUG&&this._getElMainArea().length<1){return}this._updateMainAreaSize();this._updateSlideBarContainment()},_updateMainAreaSize:function(){var g=c.getClientSize();var e=this._getElMainArea();var h=e.position();var f={height:g.height-h.top,width:g.width};e.css(f);this.updateComContentSize()},updateComContentSize:function(e){if(!c.isIe7()){return}if(!e){e=c.$body}this._updateComContentSize(e)},_updateComContentSize:function(f){var g=f.find(".com_content:not(.com_content-manualy)");for(var e=0;e<g.length;e++){var h=g.eq(e);this._updateComContentSizeOne(h)}},_updateComContentSizeOne:function(i){if(!i.is(":visible")){return}var f=i.parent();var g=f.height();var h=0;h+=parseInt(i.css("padding-top"))||0;h+=parseInt(i.css("padding-bottom"))||0;if(i.css("border-top-style")!="none"){h+=parseInt(i.css("border-top-width"))||0}if(i.css("border-bottom-style")!="none"){h+=parseInt(i.css("border-bottom-width"))||0}var e=g-h;i.height(e)},_updateSlideBarContainment:function(){var f=20;var k=this._getElSlideBar();var e=k.filter("#"+a.ID_LEFT_SLIDE_BAR);var j=k.filter("#"+a.ID_RIGHT_SLIDE_BAR);var g=c.getClientSize();var m=k.outerWidth();var l=j.is(":visible");var h=this._getLeftSlideBarContainment(f,g.width,m,(l?j.offset():null));e.draggable("option","containment",h);if(l){var i=this._getRightSlideBarContainment(f,g.width,m,e.offset());j.draggable("option","containment",i)}},_getLeftSlideBarContainment:function(h,j,f,g){var i=h;var e=j-h-f;if(g){e-=(j-g.left)}if(e<h){e=h-f}return[i,0,e,0]},_getRightSlideBarContainment:function(h,j,g,f){var i=f.left+g+h;var e=j-h-g;if(e<h){e=h}return[i,0,e,0]},_updateSideAreaSize:function(h,i){var f;if(h.attr("id").indexOf("left")>=0){f=i}else{var g=c.getClientSize();var e=h.outerWidth();f=g.width-i-e}h.parent().width(f)},onresize:function(e){this._updateRectSize()},ondragstartSlideBar:function(e,f,g){c.showSlideBarOverlay()},ondragstopSlideBar:function(f,g,i){var e=b(i);var h=g.offset.left;this._updateSideAreaSize(e,h);this._updateSlideBarContainment();c.hideSlideBarOverlay();c.$window.trigger("resize")},__closure:c.__closure,__bind:c.__bind,banpei:null}});a.constructor();b(document).ready(function(){a.initialize()})})(jQuery);(function(b){var d=neo.core.readyNamespace("neo.denbun.Page");if(!d){return}var c=neo.denbun;var a=neo.denbun.Page=new neo.core.Class({classProperties:{CLS_TOOLBAR_ITEM:"page-item-toolbar",CLS_LEFT_ITEM:"page-item-left",CLS_RIGHT_ITEM:"page-item-right",CLS_CENTER_ITEM:"page-item-center",constructor:function(){},initialize:function(){}},properties:{_initialized:null,_isInitialized:function(){return this._initialized},_setInitialized:function(e){return this._initialized=e},_elComToolbar:null,_getElComToolbar:function(){return this._elComToolbar||this._initElComToolbar()},_initElComToolbar:function(){return this._elComToolbar=b("#toolbar")},_elToolbar:null,_getElToolbar:function(){return this._elToolbar},_initElToolbar:function(e){return this._elToolbar=e.filter("."+a.CLS_TOOLBAR_ITEM)},_elLeftContainer:null,_getElLeftContainer:function(){return this._elLeftContainer||this._initElLeftContainer()},_initElLeftContainer:function(){return this._elLeftContainer=b("#left-container")},_elComLeft:null,_getElComLeft:function(){return this._elComLeft||this._initElComLeft()},_initElComLeft:function(){return this._elComLeft=b("#left")},_elLeft:null,_getElLeft:function(){return this._elLeft||this._initElLeft()},_initElLeft:function(e){return this._elLeft=e.filter("."+a.CLS_LEFT_ITEM)},_elRightContainer:null,_getElRightContainer:function(){return this._elRightContainer||this._initElRightContainer()},_initElRightContainer:function(){return this._elRightContainer=b("#right-container")},_elComRight:null,_getElComRight:function(){return this._elComRight||this._initElComRight()},_initElComRight:function(){return this._elComRight=b("#right")},_elRight:null,_getElRight:function(){return this._elRight||this._initElRight()},_initElRight:function(e){return this._elRight=e.filter("."+a.CLS_RIGHT_ITEM)},_elComCenter:null,_getElComCenter:function(){return this._elComCenter||this._initElComCenter()},_initElComCenter:function(){return this._elComCenter=b("#center")},_elCenter:null,_getElCenter:function(){return this._elCenter||this._initElCenter()},_initElCenter:function(e){return this._elCenter=e.filter("."+a.CLS_CENTER_ITEM)},_elAllPageItems:null,_getElAllPageItems:function(){if(DENBUN_MODE_XNEO){return this._initElAllPageItems()}else{return this._elAllPageItems||this._initElAllPageItems()}},_initElAllPageItems:function(){return this._elAllPageItems=b(".page-item")},_elOwnItems:null,_getElOwnItems:function(){return this._elOwnItems||this._initElOwnItems()},_initElOwnItems:function(){var e=this._getElOwnItemsLow();this._initItemBelonging(e);return this._elOwnItems=e},_elTagLink:null,_getTagLink:function(){return this._elTagLink||this._initTagLink()},_initTagLink:function(){return this._elTagLink},__constructor:function(){if(this instanceof a){var e="Class <Page> is not allowed to build instances.";throw new Error("neo.denbun.Page.__constructor : "+e)}},initialize:function(){},open:function(f){if(f==null){f=true}var h=this._getElAllPageItems();h.hide();c.app.setKeyboardOperableTarget(null);var e=this._getElOwnItems();e.show();if(c.isIe7()){var g=e.find("."+c.CLS_COM_CONTENT_HEADER);g.hide().show()}if(!this._isInitialized()||f){this._clean();this._setInitialized(true)}this._initOnOpening();c.$window.trigger("resize")},_clean:function(){},_initOnOpening:function(){},_showLeft:function(){var e=this._getElLeftContainer();e.show()},_hideLeft:function(){var e=this._getElLeftContainer();e.hide()},_showRight:function(){var e=this._getElRightContainer();e.show()},_hideRight:function(){var e=this._getElRightContainer();e.hide()},_getElOwnItemsLow:null,_initItemBelonging:function(i){var k=this._initElToolbar(i);var j=this._getElComToolbar();j.append(k);var g=this._initElLeft(i);var f=this._getElComLeft();f.append(g);var m=this._initElRight(i);var e=this._getElComRight();e.append(m);var l=this._initElCenter(i);var h=this._getElComCenter();h.append(l)},onclickSelectPage:function(e){e()},onclose:function(e){e()},runAction:function(e,f){var g=this._convertActionNameToMethodName(f);if(typeof this[g]!="function"){var h='Unknown action : "'+f+'". (pageName : "'+e+'")';throw new Error("neo.denbun.Page.runAction : "+h)}return this[g]()},_convertActionNameToMethodName:function(e){var f=e.replace(/_./g,function(g){return g.charAt(1).toUpperCase()});return f},getElToolbarItemOf:function(g){var f=this._getElToolbar();var e;if(f){e=f.find("[data-"+c.App.Menu.KEY_TOOLBAR_ACTION+'="'+g+'"]')}return e},openSharedLink:function(){c.app.openCurSharedLink()},help:function(){c.app.openHelp()},inquiry:function(){c.app.openInquiry()},about:function(){c.app.showDlgAbout()},selectTag:function(f){var i=this._getTagLink().find(".jco-tag-select-item");if(i&&i.length>0){var g=b(f.target);var h=g.attr("data-value");i.removeClass();i.addClass("co-tag-select-item jco-tag-select-item");i.addClass(desknets.tagDisp.getTagColorClass(h));var e=desknets.tagDisp.getTagColorTitle(h);i.attr("title",e);i.text(e)}},onresize:function(e){},banpei:null}});a.constructor();b(document).ready(function(){a.initialize()})})(jQuery);(function(a){var e=neo.core.readyNamespace("neo.denbun.Tree");if(!e){return}var c=neo.denbun;var d=c.Mail;var b=neo.denbun.Tree=new neo.core.Class({classProperties:{CLS_TREE:"tree",CLS_NODE:"tree-node",CLS_TOGGLE:"tree-toggle",CLS_LINK:"tree-link",CLS_NAME:"tree-name",CLS_SELECTED_NODE:"tree-node-current",CLS_HOVERED_LINK:"tree-link-hover",CLS_ROOT:"tree-root",CLS_WITH_CHILDREN:"tree-node-with_children",CLS_WITH_CHILDREN_OPENED:"tree-node-with_children-opened",CLS_MANUALLY_TOGGLE:"tree-node-manually_toggle",CLS_LINK_HOVERED:"tree-link-hovered",DATA_ID:"data-id",DELAY_FOR_ONCHANGE:500,MARGIN_FOR_SCROLLING:2,_hooked:null,_isHooked:function(){return this._hooked},_setHooked:function(){return this._hooked=true},constructor:function(){this._hooked=false},hook:function(){if(this._isHooked()){return}this._setHooked();element=a("."+b.CLS_TOGGLE);c.__bind(element,"click","ToggleTree",b)},toggle:function(f){f.toggleClass(b.CLS_WITH_CHILDREN_OPENED)},onclickToggleTree:function(h,i){var f=a(i);var g=f.closest("."+b.CLS_NODE);if(g.is("."+b.CLS_MANUALLY_TOGGLE)){return}this.toggle(g)}},properties:{_tmOnChange:null,_getTmOnChange:function(){return this._tmOnChange},_setTmOnChange:function(f){return this._tmOnChange=f},_curNodeId:null,getCurNodeId:function(){return this._curNodeId},_initCurNodeId:function(){return this._curNodeId=null},_setCurNodeId:function(f){return this._curNodeId=f},_nodes:null,_getNodes:function(){return this._nodes||this._initNodes()},_initNodes:function(){return this._nodes=new neo.core.Strage()},_ajaxLoad:null,_getAjaxLoad:function(){return this._ajaxLoad||this._initAjaxLoad()},_initAjaxLoad:function(){var f=this;var g=this._getUrlToLoad();var h={url:g,getSendData:this.__closure(this._getSendDataToLoad),onsuccess:this.__closure(this.onsuccessLoad)};if(DENBUN_MODE_XNEO){h.onerror=this.__closure(this.onerrorLoad)}var i=new neo.denbun.Ajax(h);i.initialize();return this._ajaxLoad=i},_elContainer:null,getElContainer:function(){return this._elContainer||this._initElContainer()},_initElContainer:function(){return this._elContainer=this._getElContainerLow()},_elRoot:null,getElRoot:function(){return this._elRoot},_setElRoot:function(f){return this._elRoot=f},_elCurNode:null,getElCurNode:function(){return this._elCurNode||this._initElCurNode()},_initElCurNode:function(){return this._elCurNode=a("empty")},_setElCurNode:function(f){return this._elCurNode=f},_elFolderLink:null,_getElFolderLink:function(){return this._elFolderLink||this._initElFolderLink()},_initElFolderLink:function(){return this._elFolderLink=a("."+b.CLS_LINK)},_elLastHoveredNode:null,_getElLastHoveredNode:function(){return this._elLastHoveredNode},_setElLastHoveredNode:function(f){var g=this._elLastHoveredNode;if(g){g.removeClass(c.Tree.CLS_LINK_HOVERED)}if(f){f.addClass(c.Tree.CLS_LINK_HOVERED)}return this._elLastHoveredNode=f},setting:null,_getPage:function(){return this.setting.page},__constructor:function(f){this._elCurNode=a("empty");this.setting=f},initialize:function(){this._load();b.hook()},_load:function(){var f=this._getAjaxLoad();f.sendRequest()},_getUrlToLoad:function(){return undefined},_getSendDataToLoad:function(){},_build:function(g){var f=this._parseResponse(g);var h=this._buildElement(f);this._apply(h);this._saveTreeData(f,h);this._hook()},_hook:function(){var f;f=this.getElContainer();c.App.Keyboard.hook(f,this);this.__bind(f,"mousedown","Container")},_parseResponse:function(h){var g=a(h).children();var i=g.children("list");var f=this._parseTree(i);return f},_parseTree:function(j){var g=j.children();var f=this._createTree();for(var k=0;k<g.length;k++){var h=g.eq(k);var l=this._parseNode(h);var m=this._getNodeId(l);f.add(m,l)}return f},_createTree:function(){var f={_data:{},_order:[],add:function(h,g){this._data[h]=g;this._order.push(h)},prepend:function(h,g){this._data[h]=g;this._order.unshift(h)},get:function(h){var g=this._data[h];return g},getAt:function(g){var i=this._order[g];var h=this.get(i);return h},getLength:function(){return this._order.length}};return f},_parseNode:function(f){var h={};c.parseAttributes(h,f);c.parseChildElements(h,f);delete h.list;var g=f.children("list");h.children=this._parseTree(g);return h},_buildElement:function(f){var g=this._buildElTree(f);g.addClass(b.CLS_ROOT);return g},_buildElTree:function(f){var k=this._buildElEmptyTree();if(f){for(var h=0;h<f.getLength();h++){var j=f.getAt(h);var g=this._buildElNode(j);k.append(g)}}return k},_buildElEmptyTree:function(){var f=a("<ul />").addClass([b.CLS_TREE,].join(" "));return f},_getElTree:function(f){var g=f.children("."+b.CLS_TREE);return g},_buildElNode:function(h){var g=this._buildElNodeLow(h);var f=this._buildElTree(h.children);g.append(f);if(h.children&&h.children.getLength()>0){g.addClass(b.CLS_WITH_CHILDREN)}return g},_buildElNodeLow:function(l){var j=this._getNodeId(l);var k=a("<li />").addClass([b.CLS_NODE,].join(" ")).attr(b.DATA_ID,j);var g=a("<img />").addClass([b.CLS_TOGGLE,].join(" ")).attr({src:c.PATH_IMG_SPACER}).attr({alt:"",height:"18",width:"18"});var h=this._getNodeUrl(l);var m=a("<a />").addClass([b.CLS_LINK,].join(" ")).attr({href:h});var i=this._getNodeName(l);var f=a("<span />").addClass([b.CLS_NAME,].join(" "));var n=neo.core.escape(i);if(DENBUN_MODE_XNEO){n=desknets.escapeSpace(n)}else{n=c.escapeSpace(n)}f.html(n);k.append(g).append(m);m.append(f);return k},_apply:function(f){this._appendTree(f)},_appendTree:function(g){var f=this.getElContainer();f.append(g)},_saveTreeData:function(f,g){this._saveAllNodes(f);this._setElRoot(g)},_saveAllNodes:function(f){var g=this;for(var h=0;f&&h<f.getLength();h++){var j=f.getAt(h);g._addNode(j);g._saveAllNodes(j.children);delete j.children}},append:function(h,f){this._addNode(h);var g=this._buildElNode(h);this.appendElNode(g,f);this._hookOneNode(g);return g},appendElNode:function(i,g){var h=this.getNodeIdFrom(i);if(h==g){return}var k=this.getElNodeOf(g);if(this.isDescendantElementOf(k,h)){return}var f=this._getElParentNode(i);var j=this._getElTree(k);j.append(i);k.addClass(b.CLS_WITH_CHILDREN);var l=this._getElTree(f);if(l.children().length<1){f.removeClass(b.CLS_WITH_CHILDREN).removeClass(b.CLS_WITH_CHILDREN_OPENED)}},insertBefore:function(h,f){this._addNode(h);var g=this._buildElNode(h);this.insertElNodeBefore(g,f);this._hookOneNode(g);return g},insertElNodeBefore:function(i,g){var h=this.getNodeIdFrom(i);if(h==g){return}var j=this.getElNodeOf(g);if(this.isDescendantElementOf(j,h)){return}var f=this._getElParentNode(i);var l=this.getElNodeOf(g);l.before(i);var k=this._getElTree(f);if(k.children().length<1){f.removeClass(b.CLS_WITH_CHILDREN).removeClass(b.CLS_WITH_CHILDREN_OPENED)}},_hookOneNode:function(f){},remove:function(){var h=this.getCurNodeId();if(!h){return}var g=this._getRemoveMessage();var f=this;c.confirm(g,{onok:function(){f.execRemoving(h)}})},_getRemoveMessage:function(){return c.getText("削除してよろしいですか？")},execRemoving:function(g){var f=this.onremove(g);if(f===false){return}this._moveFromRemovingNode(g);this._execRemovingLow(g)},_execRemovingLow:function(i){var h=this.getElNodeOf(i);var f=h.find(">."+b.CLS_TREE+">*");var g=this;f.each(function(k,j){var l=j.getAttribute(b.DATA_ID);g._execRemovingLow(l)});h.remove();this._removeNodeOf(i)},_moveFromRemovingNode:function(j){var h=this.getElNodeOf(j);var i=h.next();if(this._isSiblingOf(h,i)){this._selectElNode(i);return}var h=this.getElNodeOf(j);var f=h.prev();if(this._isSiblingOf(h,f)){this._selectElNode(f);return}var g=this._getElParentNode(h);this._selectElNode(g);g.removeClass(b.CLS_WITH_CHILDREN).removeClass(b.CLS_WITH_CHILDREN_OPENED)},_isSiblingOf:function(h,f){var i=this._getElParentNode(h);var g=this._getElParentNode(f);return(h.length>0&&f.length>0&&i[0]==g[0])},rename:function(){var i=this.getCurNodeId();if(!i){return}var g=this.getNameOf(i);var f=this;var h={message:c.getText("名前を入力してください。"),title:c.getText("あああ"),value:g,onok:function(j,k){if(k!=g){f.updateName(i,k)}}};c.inputOne(h)},updateName:function(h,g){var f=this.onrename(h,g);if(f===false){return}this._updateNameLow(h,g)},_updateNameLow:function(j,f){var g=this._getNodeOf(j);this._setNodeName(g,f);var i=this._getElNameOf(j);var h=neo.core.escape(f);if(DENBUN_MODE_XNEO){h=desknets.escapeSpace(h)}else{h=c.escapeSpace(h)}i.html(h)},moveToPrev:function(){var h=this.getElCurNode();if(h.length<1){this.moveToFirst();return}var f=this._getElPrevNode(h);var i=this._getElLastShownNode(f);if(i.length>0){this._selectElNode(i);return}var g=this._getElParentNode(h);if(g.length>0){this._selectElNode(g);return}},moveToNext:function(){var g=this.getElCurNode();if(g.length<1){this.moveToFirst();return}if(this._isOpened(g)){var i=this._getElFirstChildNode(g);this._selectElNode(i);return}for(var f=g;f.length>0;f=this._getElParentNode(f)){var h=this._getElNextNode(f);if(h.length>0){this._selectElNode(h);return}}},moveToChild:function(){var f=this.getElCurNode();if(f.length<1){return}if(this._isOpened(f)===false){var h=this.getNodeIdFrom(f);this.open(h);return}var g=this._getElFirstChildNode(f);if(g.length>0){this._selectElNode(g);return}},moveToParent:function(){var f=this.getElCurNode();if(f.length<1){return}if(this._isOpened(f)){var h=this.getNodeIdFrom(f);this.close(h);return}var g=this._getElParentNode(f);if(g.length>0){this._selectElNode(g);return}},moveToPrevPage:function(){var g=this._getElFirstVisibleNode();if(!g){return}var f=this.getElCurNode();if(f[0]==g[0]){var j=this._getElScroller();var i=j.scrollTop();if(i>0){var h=j[0].clientHeight;j.scrollTop(i-h);this.moveToPrevPage()}}else{this._selectElNode(g)}},moveToNextPage:function(){var j=this._getElLastVisibleNode();if(!j){j=this._getElLastShownNode()}var f=this.getElCurNode();if(f[0]==j[0]){var k=this._getElScroller();var i=k.scrollTop();var g=k.children().height();var h=k[0].clientHeight;if(i+h<g){var h=k[0].clientHeight;k.scrollTop(i+h);this.moveToNextPage()}}else{this._selectElNode(j)}},moveToFirst:function(){var g=this.getElRoot();var f=this._getElFirstChildNode(g);this._selectElNode(f)},moveToLast:function(){var f=this._getElLastShownNode();this._selectElNode(f)},select:function(h){var g=this.getCurNodeId();if(h==g){this.scrollToShow(h);return}this._unselectAll();var f=this.getElNodeOf(h);if(f.length>0){f.addClass(b.CLS_SELECTED_NODE);this._openPathTo(h);this.scrollToShow(h);this._setCurNodeId(h);this._setElCurNode(f)}else{this._setCurNodeId(null);this._setElCurNode(f)}this._kickCallbackOnChange()},unselect:function(){this.select(null)},_selectElNode:function(f){var g=this.getNodeIdFrom(f);this.select(g)},_kickCallbackOnChange:function(){var h=this._getTmOnChange();clearTimeout(h);var g=this;var f=setTimeout(function(){var i=g.getCurNodeId();g.onchange(i)},b.DELAY_FOR_ONCHANGE);this._setTmOnChange(f)},_unselectAll:function(){var f=this.getElRoot();var g=f.find("."+b.CLS_SELECTED_NODE);g.removeClass(b.CLS_SELECTED_NODE)},toggle:function(g){var f=this.getElNodeOf(g);b.toggle(f)},open:function(g){var f=this.getElNodeOf(g);this._openElNode(f);this._openPathTo(g);this.scrollToShow(g)},_openPathTo:function(h){var g=this.getElNodeOf(h);var f=g.parents("."+b.CLS_NODE);this._openElNode(f)},close:function(g){var f=this.getElNodeOf(g);this._closeElNode(f)},_openElNode:function(f){f.addClass(b.CLS_WITH_CHILDREN_OPENED)},_closeElNode:function(f){f.removeClass(b.CLS_WITH_CHILDREN_OPENED)},scrollToShow:function(j){var g=this.getElNodeOf(j);var f=this._getElLinkFrom(g);var h=c.getRect(f,false);var i=this._getElScroller();this._scrollVerticalToShow(h,i)},_scrollVerticalToShow:function(j,l){var g=b.MARGIN_FOR_SCROLLING;var i;var f=l[0].clientHeight;var h=l.scrollTop();if(j.height<f){if(j.top<0){i=h+j.top-g;l.scrollTop(i)}else{var k=j.top+j.height;if(k>f){i=h+(k-f)+g;l.scrollTop(i)}}}else{i=h+j.top;l.scrollTop(i)}},_scrollHorizontalToShow:function(j,l){var h=b.MARGIN_FOR_SCROLLING;var i;var g=l[0].clientWidth;var k=l.scrollLeft();if(j.width<g){if(j.left<0){i=k+j.left-h;l.scrollLeft(i)}else{var f=j.left+j.width;if(f>g){i=k+(f-g)+h;l.scrollLeft(i)}}}else{i=k+j.left;l.scrollLeft(i)}},_isValidDraggable:function(g,f){return true},_getElPrevNode:function(g){var f=g.prev();return f},_getElNextNode:function(f){var g=f.next();return g},_getElParentNode:function(g){var f=g.parents("."+b.CLS_NODE+":first");return f},_getElFirstChildNode:function(f){var g=f.find("."+b.CLS_NODE+":first");return g},_getElLastShownNode:function(g){var i;if(!g){var j=this.getElRoot();var g=j.children(":last")}if(this._isOpened(g)){var h=g.children("."+b.CLS_TREE);var f=h.children(":last");i=this._getElLastShownNode(f)}else{i=g}return i},_getElFirstVisibleNode:function(){var k=this.getElRoot();var o=k.find("."+b.CLS_NODE);var l=this._getElLinkFrom(o);var g=l.outerHeight();var f=null;for(var j=0;j<o.length;j++){var h=o.eq(j);if(!this._isShownNode(h)){continue}var n=h.position();var m=n.top;if(m>b.MARGIN_FOR_SCROLLING){break}f=h}return f},_getElLastVisibleNode:function(){var l=this.getElRoot();var p=l.find("."+b.CLS_NODE);var m=this._getElLinkFrom(p);var g=m.outerHeight();var k=this._getElScroller();var q=k[0].clientHeight;for(var j=0;j<p.length;j++){var h=p.eq(j);if(!this._isShownNode(h)){continue}var o=h.position();var n=o.top;var f=n+g+b.MARGIN_FOR_SCROLLING;if(f>=q){return h}}},_addNode:function(g){var f=this._getNodes();var h=this._getNodeId(g);f.set(h,g)},_getNodeOf:function(h){var f=this._getNodes();var g=f.get(h);return g},_removeNodeOf:function(g){var f=this._getNodes();f.remove(g)},_getNodeId:function(f){var g=f.id;return g},_getNodeUrl:function(g){var f="#";return f},_getNodeName:function(g){var f=g.Name;return f},_setNodeName:function(g,f){g.Name=f},getNameOf:function(h){var g=this._getNodeOf(h);var f=null;if(g){f=this._getNodeName(g)}return f},isDescendantOf:function(g,f){var h=this.getElNodeOf(g);return this.isDescendantElementOf(h,f)},getNodeIdFrom:function(f){var g=f.attr(b.DATA_ID);return g},getElNodeOf:function(i){var h=this.getElRoot();var f=h.find("."+b.CLS_NODE);var g=this._filterElNodesById(f,i);return g},_filterElNodesById:function(f,k){var h=a("");for(var j=0;j<f.length;j++){var g=f.eq(j);if(g.attr(b.DATA_ID)==k){h=g;break}}return h},_getElNodeFrom:function(g){var f=g.closest("."+b.CLS_NODE);return f},_getElLinkFrom:function(h){var f=b.CLS_LINK;var g=h.closest("."+f);if(g.length<1){g=h.find("."+f+":first")}return g},_getElNameOf:function(h){var f=this.getElNodeOf(h);var g=f.find("."+b.CLS_NAME+":first");return g},_getElScroller:function(){var f=this.getElRoot();var g=f.offsetParent();return g},getElKeyboardContainer:function(){var f=this.getElContainer();return f},_isOpened:function(f){if(f.hasClass(b.CLS_WITH_CHILDREN)){return(f.hasClass(b.CLS_WITH_CHILDREN_OPENED))}else{return null}},_isShownNode:function(f){var g=f.parents("."+b.CLS_WITH_CHILDREN+":not(."+b.CLS_WITH_CHILDREN_OPENED+")");return(g.length<1)},isDescendantElementOf:function(i,g){var f=i.parents("."+b.CLS_NODE);var h=this._filterElNodesById(f,g);return(h.length>0)},onsuccessLoad:function(g,f,h){this._build(g)},onerrorLoad:function(g,f,h){return},onmousedownContainer:function(h,i){h.preventDefault();var j=a(h.target);var g=j.closest("."+b.CLS_LINK);if(g.length>0){var f=this._getElNodeFrom(g);this._selectElNode(f)}},onchange:function(f){},onremove:function(g,f){},onrename:function(g,f){},ondropover:function(h,j,k){var i=this._getPage();var f=i._getElLeftContainer().width()||0;if(f<j.position.left-3){return}var g=a(k);if(this._isValidDraggable(j.helper,g)!=false){this._setElLastHoveredNode(g)}},ondropout:function(g,h,i){var f=this._getElLastHoveredNode();if(f){this._setElLastHoveredNode(null)}},runMethod:c.App.Keyboard.runTreeMethod,onkeydownKeyboardContainer:c.App.Keyboard.onkeydown,onmousedownKeyboardContainer:c.App.Keyboard.onmousedown,__closure:c.__closure,__bind:c.__bind,banpei:null}});b.constructor()})(jQuery);(function(a){var e=neo.core.readyNamespace("neo.denbun.ClonedTree");if(!e){return}var c=neo.denbun;var b=c.Tree;var d=neo.denbun.ClonedTree=new neo.core.Class({classProperties:{constructor:function(){}},properties:{setting:null,_getElContainer:function(){return this.setting.elContainer},_getTree:function(){return this.setting.tree},__constructor:function(f){this.setting=f},initialize:function(){this._hook()},_hook:function(){var f;f=this._getElContainer();c.App.Keyboard.hook(f,this);this.__bind(f,"mousedown","Container")},update:function(){var f=this._getTree();var i=f.getElRoot();var g=i.clone(false);var j=this._getElContainer();j.empty().append(g);this._setElRoot(g);var h=j.find("."+b.CLS_SELECTED_NODE);if(h.length>0){this._setElCurNode(h);var k=this.getNodeIdFrom(h);this._setCurNodeId(k)}else{this._initCurNodeId();this._initElCurNode()}},getElKeyboardContainer:function(){var f=this._getElContainer();return f},_tmOnChange:null,_getTmOnChange:b.prototype._getTmOnChange,_setTmOnChange:b.prototype._setTmOnChange,_curNodeId:null,getCurNodeId:b.prototype.getCurNodeId,_initCurNodeId:b.prototype._initCurNodeId,_setCurNodeId:b.prototype._setCurNodeId,_elRoot:null,getElRoot:b.prototype.getElRoot,_initElRoot:b.prototype._initElRoot,_setElRoot:b.prototype._setElRoot,_elCurNode:null,getElCurNode:b.prototype.getElCurNode,_initElCurNode:b.prototype._initElCurNode,_setElCurNode:b.prototype._setElCurNode,moveToPrev:b.prototype.moveToPrev,moveToNext:b.prototype.moveToNext,moveToChild:b.prototype.moveToChild,moveToParent:b.prototype.moveToParent,moveToPrevPage:b.prototype.moveToPrevPage,moveToNextPage:b.prototype.moveToNextPage,moveToFirst:b.prototype.moveToFirst,moveToLast:b.prototype.moveToLast,select:b.prototype.select,_selectElNode:b.prototype._selectElNode,_kickCallbackOnChange:b.prototype._kickCallbackOnChange,_unselectAll:b.prototype._unselectAll,toggle:b.prototype.toggle,open:b.prototype.open,_openPathTo:b.prototype._openPathTo,close:b.prototype.close,_openElNode:b.prototype._openElNode,_closeElNode:b.prototype._closeElNode,scrollToShow:b.prototype.scrollToShow,_scrollVerticalToShow:b.prototype._scrollVerticalToShow,_scrollHorizontalToShow:b.prototype._scrollHorizontalToShow,_getElPrevNode:b.prototype._getElPrevNode,_getElNextNode:b.prototype._getElNextNode,_getElParentNode:b.prototype._getElParentNode,_getElFirstChildNode:b.prototype._getElFirstChildNode,_getElLastShownNode:b.prototype._getElLastShownNode,_getElFirstVisibleNode:b.prototype._getElFirstVisibleNode,_getElLastVisibleNode:b.prototype._getElLastVisibleNode,getNodeIdFrom:b.prototype.getNodeIdFrom,getElNodeOf:b.prototype.getElNodeOf,_filterElNodesById:b.prototype._filterElNodesById,_getElNodeFrom:b.prototype._getElNodeFrom,_getElLinkFrom:b.prototype._getElLinkFrom,_getElScroller:b.prototype._getElScroller,_isOpened:b.prototype._isOpened,_isShownNode:b.prototype._isShownNode,onmousedownContainer:b.prototype.onmousedownContainer,onchange:b.prototype.onchange,runMethod:c.App.Keyboard.runTreeMethod,onkeydownKeyboardContainer:c.App.Keyboard.onkeydown,onmousedownKeyboardContainer:c.App.Keyboard.onmousedown,__closure:c.__closure,__bind:c.__bind,banpei:null}});d.constructor()})(jQuery);(function(b){var d=neo.core.readyNamespace("neo.denbun.Table");if(!d){return}var c=neo.denbun;var a=neo.denbun.Table=new neo.core.Class({classProperties:{CLS_CONTAINER:"com_table",CLS_HEADER_CONTAINER:"com_table-header",CLS_BODY_CONTAINER:"com_table-body",CLS_TABLE:"com_table-table",CLS_ROW:"com_table-row",CLS_ROW_SELECTED:"com_table-row-selected",CLS_ROW_CURRENT:"com_table-row-current",CLS_CELL:"com_table-cell",CLS_CELL_FLEXIBLE:"com_table-cell-flexible",CLS_BOX:"com_table-box",CLS_SCROLLER:"com_table-scroller",CLS_SCROLLER_PADDING:"com_table-scroller-padding",CLS_HELPER_COUNT:"draggable_helper-count",DATA_ID:"data-id",DATA_SELECTED_DATA_LIST:"data-data_list",PAGER_RANGE:10,SCROLL_STEPS:3,PARAM_OFFSET:"row",COMBINATION_NONE:0,COMBINATION_CTRL:1,COMBINATION_SHIFT:2,COMBINATION_BOTH:3,DELAY_FOR_ONCHANGE:500,DEFAULT_DRAGGABLE_SETTING:{appendTo:"body",cursor:"move",cursorAt:{bottom:-5,left:-5},helper:null,iframeFix:true,opacity:0.8,scroll:false,zIndex:1},constructor:function(){}},properties:{_conditions:null,_getConditions:function(e){var f=this._conditions||{};if(e==null){return f}else{return f[e]}},_setConditions:function(e){return this._conditions=e},_data:null,_getData:function(){return this._data},_setData:function(e){return this._data=e},_curTopIndex:null,_getCurTopIndex:function(){if(this._isUseNativeScroll()){return this._getTopIndex()}return this._curTopIndex},_setCurTopIndex:function(e){return this._curTopIndex=e},_rowToStartSelecting:null,_getRowToStartSelecting:function(){return this._rowToStartSelecting},_setRowToStartSelecting:function(e){return this._rowToStartSelecting=e},_curRow:null,_getCurRow:function(){return this._curRow},_setCurRow:function(e){if(this._curRow){this._curRow.current=false}if(e){e.current=true}return this._curRow=e},_lastMouseDownRow:null,_getLastMouseDownRow:function(){return this._lastMouseDownRow},_setLastMouseDownRow:function(e){return this._lastMouseDownRow=e},_useNativeScroll:null,_isUseNativeScroll:function(){return this._useNativeScroll},_setUseNativeScroll:function(e){return this._useNativeScroll=e},_scrollerInitialized:null,_isScrollerInitialized:function(){return this._scrollerInitialized},_setScrollerInitialized:function(e){return this._scrollerInitialized=e},_headerHeight:null,_getHeaderHeight:function(){return this._headerHeight||this._initHeaderHeight()},_initHeaderHeight:function(){var f=this._getElHeaderContainer();var e=f.height();return this._headerHeight=e},_rowHeight:null,_getRowHeight:function(){return this._rowHeight||this._initRowHeight()},_setRowHeight:function(e){return this._rowHeight=e},_visibleRange:null,_getVisibleRange:function(){return this._visibleRange||this._initVisibleRange()},_setVisibleRange:function(e){return this._visibleRange=e},_funcListUpdateRowStyle:null,_getFuncListUpdateRowStyle:function(){return this._funcListUpdateRowStyle||this._initFuncListUpdateRowStyle()},_initFuncListUpdateRowStyle:function(){return this._funcListUpdateRowStyle=[]},_lastConnectionKey:null,_getLastConnectionKey:function(){return this._lastConnectionKey||this._initLastConnectionKey()},_setLastConnectionKey:function(e){return this._lastConnectionKey=e},_lastScrolledTime:null,_getLastScrolledTime:function(){return this._lastScrolledTime},_setLastScrolledTime:function(e){return this._lastScrolledTime=e},_flgRememberScrolling:null,_getFlgRememberScrolling:function(){return this._flgRememberScrolling},_initFlgRememberScrolling:function(){return this._flgRememberScrolling=false},_setFlgRememberScrolling:function(e){return this._flgRememberScrolling=e},_resizing:null,_isResizing:function(){return this._resizing},_setResizing:function(e){return this._resizing=e},_flgResizingLeft:null,_getFlgResizingLeft:function(){return this._flgResizingLeft},_setFlgResizingLeft:function(e){return this._flgResizingLeft=e},_ajaxLoad:null,_getAjaxLoad:function(){return this._ajaxLoad||this._initAjaxLoad()},_initAjaxLoad:function(){var e=this;var f=this._getUrlToLoad();var g={cache:true,url:f,getSendData:function(){var j=e._getDataToLoad();if(neo.core.isString(j)){j=neo.core.splitParam(j)}var i=String(new Date().getTime());e._setLastConnectionKey(i);j._=i;return j},onsuccess:this.__closure(this.onsuccessLoad),onerror:this.__closure(this.onerrorLoad)};var h=new c.Ajax(g);h.initialize();return this._ajaxLoad=h},_elCurResizeTarget:null,_getElCurResizeTarget:function(){return this._elCurResizeTarget},_setElCurResizeTarget:function(e){return this._elCurResizeTarget=e},_elSectionTitle:null,_getElSectionTitle:function(){return this._elSectionTitle||this._initElSectionTitle()},_initElSectionTitle:function(){return this._elSectionTitle=this._getElSectionTitleLow()},_getElSectionTitleLow:function(){return null},_elPager:null,_getElPager:function(){return this._elPager||this._initElPager()},_initElPager:function(){return this._elPager=this._getElPagerLow()},_getElPagerLow:function(){return null},_elPrevPage:null,_getElPrevPage:function(){return this._elPrevPage||this._initElPrevPage()},_initElPrevPage:function(){var f=this._initElPager();var e=f.find(".com_content-header-pager-prev");return this._elPrevPage=e},_elNextPage:null,_getElNextPage:function(){return this._elNextPage||this._initElNextPage()},_initElNextPage:function(){var f=this._initElPager();var e=f.find(".com_content-header-pager-next");return this._elNextPage=e},_elJumpPage:null,_getElJumpPage:function(){return this._elJumpPage||this._initElJumpPage()},_initElJumpPage:function(){var f=this._initElPager();var e=f.find(".com_content-header-pager-jump");return this._elJumpPage=e},_elContainer:null,_getElContainer:function(){return this._elContainer||this._initElContainer()},_initElContainer:function(){return this._elContainer=this._getElContainerLow()},_getElContainerLow:null,_elHeaderContainer:null,_getElHeaderContainer:function(){return this._elHeaderContainer||this._initElHeaderContainer()},_initElHeaderContainer:function(){var f=this._getElContainer();var e=f.find("."+a.CLS_HEADER_CONTAINER);return this._elHeaderContainer=e},_elTitleCells:null,_getElTitleCells:function(){return this._elTitleCells||this._initElTitleCells()},_initElTitleCells:function(){var f=this._getElContainer();var e=f.find(" ."+a.CLS_HEADER_CONTAINER+" ."+a.CLS_CELL+"");return this._elTitleCells=e},_elTitleFlexibleCell:null,_getElTitleFlexibleCell:function(){return this._elTitleFlexibleCell||this._initElTitleFlexibleCell()},_initElTitleFlexibleCell:function(){var e=this._getElTitleCells();var f=e.filter("."+a.CLS_CELL_FLEXIBLE);return this._elTitleFlexibleCell=f},_elBodyContainer:null,_getElBodyContainer:function(){return this._elBodyContainer||this._initElBodyContainer()},_initElBodyContainer:function(){var f=this._getElContainer();var e=f.find("."+a.CLS_BODY_CONTAINER);return this._elBodyContainer=e},_elScroller:null,_getElScroller:function(){return this._elScroller||this._initElScroller()},_initElScroller:function(){var e=this._getElContainer();var f=e.find("."+a.CLS_SCROLLER);if(this._isUseNativeScroll()){f.remove();f=this._getElBodyContainer();f.css("overflow-y","scroll")}return this._elScroller=f},_elScrollerPadding:null,_getElScrollerPadding:function(){return this._elScrollerPadding||this._initElScrollerPadding()},_initElScrollerPadding:function(){var f=this._getElContainer();var e=f.find("."+a.CLS_SCROLLER_PADDING);return this._elScrollerPadding=e},_elDraggableHelper:null,_getElDraggableHelper:function(){return this._elDraggableHelper||this._initElDraggableHelper()},_initElDraggableHelper:function(){var e=this._getElDraggableHelperLow().remove().clone();return this._elDraggableHelper=e},_getElDraggableHelperLow:function(){},_elDraggableHelperCounter:null,_getElDraggableHelperCounter:function(){return this._elDraggableHelperCounter||this._initElDraggableHelperCounter()},_initElDraggableHelperCounter:function(){return this._elDraggableHelperCounter=this._getElDraggableHelperCounterLow()},_getElDraggableHelperCounterLow:function(){},_elResizeTrigger:null,_getElResizeTrigger:function(){return this._elResizeTrigger||this._initElResizeTrigger()},_initElResizeTrigger:function(){var e=b("#com_table-resize_col-trigger-template").clone().removeAttr("id").appendTo("body");return this._elResizeTrigger=e},setting:null,__constructor:function(e){this.setting=e||{};this._useNativeScroll=false;this._scrollerInitialized=false;this._resizing=false;this._flgResizingLeft=false},initialize:function(){this._setUseNativeScroll(this._isTouch());this._hookCom();this._hook();this._initScrollerWidth();this.clean()},_initScrollerWidth:function(){if(this._isUseNativeScroll()){return}var e=this._getElHeaderContainer();e.hide();var k=this._getElScroller();var h=k.width();var j=k[0].clientWidth;e.show();if(h<1||j<1){return}var g=h-j;k.width(g+1);var i=this._getElContainer();var f=1;i.css({paddingRight:g-f});this._setScrollerInitialized(true)},_hookCom:function(){var f;var e=this;var i=function(j,k,l){neo.jq.bindListener(j,k,l,e)};if(this._getElPager()){f=this._getElPrevPage();i(f,"click","GoToPrevPage");f=this._getElNextPage();i(f,"click","GoToNextPage");f=this._getElJumpPage();i(f,"change","JumpPage")}var f=this._getElContainer();c.App.Keyboard.hook(f,this);f=this._getElTitleCells();if(f){this.__bind(f,"mouseover","TitleCell")}f=this._getElBodyContainer();i(f,"mousedown","Row");i(f,"click","Row");i(f,"dblclick","Row");if(DENBUN_MODE_XNEO){if(c.isMsie()){i(f,"selectstart","Row")}}else{if(b.browser.msie){i(f,"selectstart","Row")}}if(!this._isUseNativeScroll()){f=this._getElScroller();f.scroll(this.__closure(this.onscroll));c.$document.bind("mousewheel",this.__closure(function(j,l){var k=b(j.target).closest("."+a.CLS_CONTAINER);if(k[0]==h[0]){return this.onmousewheel(j,l)}}));var h=this._getElContainer();h.bind("DOMMouseScroll",this.__closure(this.onmousewheel))}f=this._getElResizeTrigger();var g=this._getResizeTriggerDraggableSettings();f.draggable(g)},_istouch:null,_isTouch:function(){return this._istouch||this._initIsTouch()},_initIsTouch:function(){return("ontouchstart" in window)},_hook:function(){},_hookDraggable:function(){var e=this._getElBodyContainer();var f=this._getDraggableSetting();e.draggable(f)},_getDraggableSetting:function(){var e=b.extend({},a.DEFAULT_DRAGGABLE_SETTING,{scope:this._getDraggableScope(),start:this.__closure(this.ondragstart),helper:this.__closure(this._getElDraggableHelper)});return e},_getDraggableScope:function(){return undefined},_getResizeTriggerDraggableSettings:function(){var e={axis:"x",iframeFix:true,start:this.__closure(this.ondragstartResize),stop:this.__closure(this.ondragstopResize)};var f=this._getElContainer();e.helper=function(){var g=b('<div class="slide_bar-helper" />').css({height:f.height(),top:f.offset().top,width:3}).appendTo("body");return g};return e},load:function(f){this._setConditions(f);var e=this._getAjaxLoad();e.sendRequest()},reload:function(h,f){if(f==null){f=true}var e=this._getConditions();var g=b.extend({},e,h);this._setFlgRememberScrolling(f);return this.load(g)},_getUrlToLoad:function(){return null},_getDataToLoad:function(){var e=this._getConditions();return e},_parse:function(f){var e=b("result",f);var g=c.parseNode(e);this._parseCount(e,g);this._parseList(e,g);return g},_parseCount:function(e,f){f.allcnt=Number(f.allcnt)||0},_parseList:function(f,k){delete k.list;k.rows={};k.idList=[];var e=f.find("item");for(var h=0;h<e.length;h++){var g=e.eq(h);var j=this._parseListItem(g);var l=this._createRow(j);this._appendRow(k,l)}},_parseListItem:function(e){var f=c.parseNode(e);return f},_createRow:function(e){var f={current:false,data:e,id:e.id,index:-1,selected:false};return f},_appendRow:function(f,g){var e=f.idList.length;var h=g.id;f.rows[h]=g;f.idList.push(h);g.index=e},_update:function(f){if(!this._isScrollerInitialized()){this._initScrollerWidth()}this._setData(f);this._regularizeOffset();this.updateTitle();this._updatePager();this._updateData(f);this._updateScroller();if(!this._getFlgRememberScrolling()){this._setCurRow(null);this._updateScrollerPos(0,false)}var e=(this._getFlgRememberScrolling()?undefined:0);this._updateTable(e);this._initFlgRememberScrolling()},_regularizeOffset:function(){var i=this._getOffsetIndex();var g=this._getCount();if(i>0&&i>=g){var f=this._getTableRange();var e=(Math.floor(g/f)-1)*f;var h=this._getConditions();h[a.PARAM_OFFSET]=e;this._setFlgRememberScrolling(false)}},updateTitle:function(){var e=this._getElSectionTitle();if(!e||e.length<1){return}var f=this._getTitle();if(f||f==""){this.setTitle(f)}},setTitle:function(h){var f=this._getElSectionTitle();if(!f||f.length<1){return}var e=f.text();if(e!=h){var g=neo.core.escape(h);if(DENBUN_MODE_XNEO){g=desknets.escapeSpace(g)}else{g=c.escapeSpace(g)}f.html(g)}if(b.browser.webkit){f.hide();setTimeout(function(){f.show()},1)}},_getTitle:function(){return null},_updatePager:function(){var e=this._getElPager();if(!e||e.length<1){return}var f=this._getElJumpPage();f.empty();var k=this._getCurPage();var h=this._getMaxPage();var i=this._getStartPage(k);var o=this._getEndPage(k,h);for(var j=i;j<=o;j++){var n=j+"/"+h;var m=b("<option />").val(j).text(n);f.append(m)}f.val(k);f.data("lastValue",k);var g=this._getElPrevPage();g.toggleClass(c.CLS_DISABLED,(k==1));var l=this._getElNextPage();l.toggleClass(c.CLS_DISABLED,(k==h))},_getStartPage:function(f){var e=Math.max(f-a.PAGER_RANGE,1);return e},_getEndPage:function(g,f){var e=Math.min(g+a.PAGER_RANGE,f);return e},_getMaxPage:function(){var f;if(this._getData()){var g=this._getCount();var e=this._getTableRange();f=Math.max(Math.ceil(g/e),1)}else{f=1}return f},_getCurPage:function(){var g;if(this._getData()){var f=this._getOffsetIndex();var e=this._getTableRange();g=Math.floor(f/e)+1}else{g=1}return g},_updateData:function(e){},_updateScroller:function(){if(this._isUseNativeScroll()){return}var e=this._getScrollHeight();var f=this._getElScrollerPadding();f.height(e)},_getScrollHeight:function(){var f=this._getHeaderHeight();var h=this._getRowHeight();var g=this._getRowLength()+1;var i=h*g;var e=f+i;return e},_initRowHeight:function(){if(this._isUseNativeScroll()&&this._getFlgRememberScrolling()){return}this._buildTable(0,1);var f=this._getElBodyContainer();var e=f.children().height();e=Math.ceil(e);this._setRowHeight(e);return e},_initVisibleRange:function(){if(!this._getData()){return}var h=this._getRowHeight();var i=this._getElContainer();var g=i.height();var e=this._getHeaderHeight();var f=this._calclateVisibleRange(g,e,h);this._setVisibleRange(f);return f},_calclateVisibleRange:function(g,e,h){var f;if(h==0){f=0}else{f=Math.ceil((g-e)/h)}return f},_getMaxRowNativeScroll:function(){return 100},_updateTable:function(f){if(f==null){f=this._getCurTopIndex()}if(this._isInRange(f)){if(this._isUseNativeScroll()){this._buildTable(f,this._getMaxRowNativeScroll())}else{var e=this._getVisibleRange();this._buildTable(f,e);this._setCurTopIndex(f)}}},_isInRange:function(e){if(e<0){return false}return true},clean:function(){this._update(null)},_buildTable:function(f,e){var h="";if(this._getData()){var g=this._getWidthList();var i=this._isUseNativeScroll()?0:f;h=this._buildTableHtml(i,e,g)}else{h=""}var j=this._getElBodyContainer();if(c.isMsie()){j.empty()}if(c.isAndroid()&&!f){j.empty().height()}j[0].innerHTML=h},_getWidthList:function(){var h=this._getElHeaderContainer();var e=h.find("th");var g=[];for(var f=0;f<e.length;f++){g.push(e.eq(f).children().width())}return g},_buildTableHtml:function(l,k,g){var f=this._createHtmlList();f.push('<table class="');f.push(a.CLS_TABLE);if(this._isUseNativeScroll()){f.push('" style="margin-bottom:30px')}f.push('"><tbody>');var j=this._getIdList();var n=this._getRows();for(var h=0;h<k;h++){var e=j[l+h];var m=n[e];if(m){this._buildTableRowHtml(f,m,g)}}f.push("</tbody></table>");return f.join("")},_buildTableRowHtml:function(g,i,e){var h=this._getRowSystemClasseList(i);var f=this._getRowClassList(i);g.push('<tr class="');g.push(a.CLS_ROW);if(h.length>0){g.push(" ");g.pushValue(h.join(" "))}if(f.length>0){g.push(" ");g.pushValue(f.join(" "))}g.push('" ');g.push(a.DATA_ID);g.push('="');g.pushValue(i.id);g.push('">');this._buildTableCellsHtml(g,i,e);g.push("</tr>")},_getRowSystemClasseList:function(f){var e=[];if(f.selected){e.push(a.CLS_ROW_SELECTED)}if(f.current){e.push(a.CLS_ROW_CURRENT)}return e},_getRowClassList:function(e){return[]},_buildTableCellsHtml:function(e,f){},_getTableCellStartHtml:function(g,e){var f=this._createHtmlList();f.push('<td class="');f.push(a.CLS_CELL);f.push(" ");f.pushValue(g.join(" "));f.push('" style="width:');f.push(e);f.push('px">');f.push('<div class="');f.push(a.CLS_BOX);f.push('" style="width:');f.push(e);f.push('px">');return f.join("")},_getTableCellEndHtml:function(){return"</div></td>"},_scroll:function(){var e=this._getTopIndex();var f=this._getCurTopIndex();if(e!=f){this._updateTable(e)}},_getTopIndex:function(){var h=this._getElScroller();var g=h[0].scrollTop;var f=this._getRowHeight();var e=this._calclateTopIndex(g,f);return e},_calclateTopIndex:function(g,f){var e=parseInt(g/f)||0;return e},_scrollNext:function(h){var g=this._getCurTopIndex();var e=this._getScrollSteps();var f=g+(e*(h?+1:-1));this._updateScrollerPos(f)},_getScrollSteps:function(){return a.SCROLL_STEPS},_updateScrollerPos:function(f,e){var g=this._getRowHeight();var h=g*f;var i=this._getElScroller();i.scrollTop(h);if(e!=false){i.scroll()}},_getWheelDirection:function(e){var f;if(e.originalEvent&&e.originalEvent.wheelDelta){f=(e.originalEvent.wheelDelta<0)}else{if(e.originalEvent&&e.originalEvent.detail){f=(e.originalEvent.detail>0)}}return f},_goToPrevPage:function(){var e=this._getPrevPosition();if(e<0){return}this._loadWithOffset(e)},_getPrevPosition:function(){var g=this._getOffsetIndex();var f=this._getTableRange();var e=g-f;return e},_goToNextPage:function(){var e=this._getNextPosition();var f=this._getCount();if(e>=f){return}this._loadWithOffset(e)},_getNextPosition:function(){var g=this._getOffsetIndex();var f=this._getTableRange();var e=g+Number(f);return e},_getSelectedJumpPage:function(){var e=this._getElJumpPage();var f=e.val();return f},_goToPage:function(g){var f=this._getTableRange();var e=(g-1)*f;this._loadWithOffset(e)},_loadWithOffset:function(e){var f={};f[a.PARAM_OFFSET]=e;this.reload(f,false)},_getRowIndex:function(e){return e.index},_setRowIndex:function(g,e){var h=this._getRowIndex(g);g.index=e;var f=this._getIdList();f[e]=g;return h},_selectForMouseDown:function(g){var e=false;var f=this._getCombinationMode();switch(f){case a.COMBINATION_NONE:this._unselectAll(g);this._selectOneRow(g);e=this._selectCurRow(g);this._setRowToStartSelecting(g);this._runCallbackOnChangeImmediately();this._kickCallbackOnChange();break;case a.COMBINATION_CTRL:this._kickCallbackOnChange();break;case a.COMBINATION_SHIFT:this._unselectAll();this._selectLinearRow(g);e=this._selectCurRow(g);this._runCallbackOnChangeImmediately();this._kickCallbackOnChange();break;case a.COMBINATION_BOTH:this._selectLinearRow(g);e=this._selectCurRow(g);this._runCallbackOnChangeImmediately();this._kickCallbackOnChange();break}if(e&&!this._isUseNativeScroll()){this._initFuncListUpdateRowStyle()}else{this._runFunkUpdateRowStyle()}},_selectForClick:function(g){var e=false;var f=this._getCombinationMode();switch(f){case a.COMBINATION_NONE:this._unselectAll();this._selectOneRow(g);this._runCallbackOnChangeImmediately();break;case a.COMBINATION_CTRL:this._toggleOneRow(g);e=this._selectCurRow(g);this._setRowToStartSelecting(g);this._runCallbackOnChangeImmediately();break;case a.COMBINATION_SHIFT:break;case a.COMBINATION_BOTH:break}if(e&&!this._isUseNativeScroll()){this._initFuncListUpdateRowStyle()}else{this._runFunkUpdateRowStyle()}},_selectForSpace:function(g){var e=false;var f=this._getCombinationMode();switch(f){case a.COMBINATION_NONE:this._selectOneRow(g);this._runCallbackOnChangeImmediately();break;case a.COMBINATION_CTRL:this._toggleOneRow(g);this._setRowToStartSelecting(g);this._runCallbackOnChangeImmediately();break;case a.COMBINATION_SHIFT:this._unselectAll();this._selectLinearRow(g);this._runCallbackOnChangeImmediately();break;case a.COMBINATION_BOTH:this._unselectAll();this._selectOneRow(g);this._setRowToStartSelecting(g);this._runCallbackOnChangeImmediately();break}if(e&&!this._isUseNativeScroll()){this._initFuncListUpdateRowStyle()}else{this._runFunkUpdateRowStyle()}},_selectForKey:function(g){var e=false;var f=this._getCombinationMode();switch(f){case a.COMBINATION_NONE:this._unselectAll();this._selectOneRow(g);e=this._selectCurRow(g);this._setRowToStartSelecting(g);this._runCallbackOnChangeImmediately();this._kickCallbackOnChange();break;case a.COMBINATION_CTRL:e=this._selectCurRow(g);this._kickCallbackOnChange();break;case a.COMBINATION_SHIFT:this._unselectAll();this._selectLinearRow(g);e=this._selectCurRow(g);this._runCallbackOnChangeImmediately();this._kickCallbackOnChange();break;case a.COMBINATION_BOTH:this._unselectAll();this._selectLinearRow(g);e=this._selectCurRow(g);this._runCallbackOnChangeImmediately();this._kickCallbackOnChange();break}if(e&&!this._isUseNativeScroll()){this._initFuncListUpdateRowStyle()}else{this._runFunkUpdateRowStyle()}},selectAll:function(){this._selectAllLow();this._runCallbackOnChangeImmediately();this._kickCallbackOnChange()},_getCombinationMode:function(){var e=0;if(c.isCtrlPressed()){e+=a.COMBINATION_CTRL}if(c.isShiftPressed()){e+=a.COMBINATION_SHIFT}return e},open:function(e){},select:function(){var e=this._getCurRow();this._selectForSpace(e)},moveToPrev:function(){var f=this._getCurRow();var e=(f?f.index-1:0);var g=this._getRowAt(e);if(g){this._selectForKey(g)}},moveToNext:function(){var f=this._getCurRow();var e=(f?f.index+1:0);var g=this._getRowAt(e);if(g){this._selectForKey(g)}},moveToPrevPage:function(){var h=this._getCurRow();var f;if(h){var g=this._getTopIndex();var e=this._getVisibleRange();f=this._getPrevPageIndex(h.index,g,e)}else{f=0}var i=this._getRowAt(f);this._selectForKey(i)},_getPrevPageIndex:function(h,g,e){var f;if(h==g){f=Math.max(g-e+2,0)}else{f=g}return f},moveToNextPage:function(){var i=this._getCurRow();var h=(i?i.index:0);var g=this._getTopIndex();var e=this._getVisibleRange();var j=this._getRowLength();var f=this._getNextPageIndex(h,g,e,j);var k=this._getRowAt(f);this._selectForKey(k)},_getNextPageIndex:function(h,g,e,i){var j=g+e-2;var f;if(h>=j){f=Math.min(j+e-2,i-1)}else{f=Math.min(j,i-1)}return f},moveToFirst:function(){var e=0;var f=this._getRowAt(e);this._selectForKey(f)},moveToLast:function(){var e=this._getRowLength()-1;var f=this._getRowAt(e);this._selectForKey(f)},_selectAllLow:function(){var g=this._getIdList();for(var f=-1,k;k=g[++f];){var j=this._getRowOf(k);j.selected=true}var h=this._getElBodyContainer();var e=h.find("."+a.CLS_ROW);e.addClass(a.CLS_ROW_SELECTED)},_unselectAll:function(g){if(g&&g.selected){return}var f=this._getIdList();for(var e=-1,h;h=f[++e];){var g=this._getRowOf(h);g.selected=false}this._queueFunkUpdateRowStyle(function(){var k=this._getElBodyContainer();var i=a.CLS_ROW_SELECTED;var j=k.find("."+i);j.removeClass(i)})},_selectOneRow:function(e){if(!e){return}e.selected=true;this._queueFunkUpdateRowStyle(function(){var f=this._getElRow(e);f.addClass(a.CLS_ROW_SELECTED)})},_toggleOneRow:function(e){e.selected=!e.selected;this._queueFunkUpdateRowStyle(function(){var f=this._getElRow(e);f.toggleClass(a.CLS_ROW_SELECTED,e.selected)})},_selectLinearRow:function(k){if(!k){return}var e=this._getRowToStartSelecting();if(!e){return}var j=Math.min(k.index,e.index);var f=Math.max(k.index,e.index);var h=this._getIdList();for(var g=j;g<=f;g++){var l=h[g];var k=this._getRowOf(l);this._selectOneRow(k)}},_selectCurRow:function(h){if(!h){return}var g=this._getCurRow();this._setCurRow(h);var f=this._scrollTo(h);if(!f||this._isUseNativeScroll()){var e=this;this._queueFunkUpdateRowStyle(function(){e._updateCurRowStyle(g,h)})}return f},_scrollTo:function(i){var g=i.index;var h=this._getCurTopIndex();if(g<h){this._updateScrollerPos(g);return true}var f=this._getVisibleRange();if(h+f-2<g){var e=Math.min(g-f+2,this._getRowLength()-1);this._updateScrollerPos(e);return true}return false},_updateCurRowStyle:function(h,i){var f=a.CLS_ROW_CURRENT;if(h){var g=this._getElRow(h);g.removeClass(f)}var e=this._getElRow(i);e.addClass(f);if(c.isIe7()){if(h){g.find("."+a.CLS_BOX).css({borderWidth:"0"})}e.find("."+a.CLS_BOX).css({borderWidth:"1px"})}},_runFunkUpdateRowStyle:function(){var g=this._getFuncListUpdateRowStyle();for(var e=0;e<g.length;e++){var f=g[e];f.apply(this)}this._initFuncListUpdateRowStyle()},_queueFunkUpdateRowStyle:function(e){var f=this._getFuncListUpdateRowStyle();f.push(e)},_updateDraggableHelper:function(h){var e=this._getDragingDataList();var g=e.length;var f=h.find("."+a.CLS_HELPER_COUNT);f.text(g);var h=this._getElDraggableHelper();h.data(a.DATA_SELECTED_DATA_LIST,e)},_getDragingDataList:function(){var e=this.getSelectedIdList();return e},_updateResizeTrigger:function(h){if(this._isResizing()){return}if(!h){var e=this._getElResizeTrigger();e.css({top:-99999});return}if(h.hasClass(a.CLS_CELL_FLEXIBLE)){return}var g=this._updateFlgResizingLeft(h);var f=c.getRect(h,true);this._updateResizeTriggerRect(g,f);this._updateResizeTriggerContainment(g,f);this._setElCurResizeTarget(h)},_updateFlgResizingLeft:function(g){var f=this._getElTitleCells();var e=true;for(var h=0;h<f.length;h++){var j=f.eq(h);if(j.hasClass(a.CLS_CELL_FLEXIBLE)){e=false}else{if(j[0]==g[0]){break}}}this._setFlgResizingLeft(e);return e},_updateResizeTriggerRect:function(g,f){var e=this._getElResizeTrigger();var h=e.width();var i={height:f.height,left:f.left-h/2,top:f.top};if(g){i.left+=f.width}e.css(i)},_updateResizeTriggerContainment:function(h,f){var i=this._getElTitleFlexibleCell();var g=c.getRect(i);var j=this._getResizeTriggerContainment(h,f,g);var e=this._getElResizeTrigger();e.draggable("option","containment",j)},_getResizeTriggerContainment:function(h,g,k){var o=20;var l=5;var j,n;var m=this._getElTitleFlexibleCell();var i=8;var f=parseInt(m.css("min-width"),10)+i;if(h){j=(g.left+o)-parseInt(l/2);n=g.left+g.width+k.width-f+parseInt(l/2)}else{j=g.left-k.width+f-parseInt(l/2);n=g.left+g.width-o+parseInt(l/2)}var e=[j,0,n,0];return e},_resizeColWidth:function(g,k){var f=this._getElCurResizeTarget();var j=f.find("."+a.CLS_BOX);var e=c.getRect(f,true);var h=this._getResizedColWidth(g,k,e);var i=8;f.width(h);j.width(h-i);this._updateFlexibleCols();this._updateTable()},_getResizedColWidth:function(f,i,e){var h=5;var g;if(f){g=i.left-e.left+parseInt(h/2)}else{g=e.left+e.width-i.left-parseInt(h/2)}return g},_updateFlexibleCols:function(){if(!c.isIe7()){return}var f=this._getElHeaderContainer().find("."+a.CLS_CELL_FLEXIBLE);var g=f.children();g.width("auto");var e=g.width();g.width(e)},_runCallbackOnChangeImmediately:function(){if(typeof this.onchangeImmediately=="function"){this.onchangeImmediately()}},_kickCallbackOnChange:function(){var g=this._getTmOnChange();clearTimeout(g);var f=this;var e=setTimeout(function(){var h=f.getCurId();if(!f._getRowOf(h)){h=null}f.onchange(h)},a.DELAY_FOR_ONCHANGE);this._setTmOnChange(e)},_tmOnChange:null,_getTmOnChange:function(){return this._tmOnChange},_setTmOnChange:function(e){return this._tmOnChange=e},_getRowOf:function(g){var e=this._getRows();var f=e[g];return f},_getRowAt:function(e){var f=this._getIdList();var h=f[e];var g=this._getRowOf(h);return g},_getRowFrom:function(e){var g=this._getRowIdFrom(e);var f=this._getRowOf(g);return f},_getRowIdFrom:function(f){var e=this._getElRowFrom(f);var g=e.attr(a.DATA_ID);return g},_getElRow:function(e){return this._getElRowOf(e.id)},_getElRowOf:function(k){var j=this._getElContainer();var g=j.find("."+a.CLS_ROW);var f=null;for(var h=0;h<g.length;h++){var e=g[h];if(e.getAttribute(a.DATA_ID)==k){f=g.eq(h);break}}return f||b("")},_getElRowFrom:function(f){var e=f.closest("."+a.CLS_ROW);return e},_getCount:function(){var f=this._getData();var e=(f?f.allcnt:0);return e},_getRows:function(){var f=this._getData();var e=(f?f.rows:{});return e},_getIdList:function(){var f=this._getData();var e=(f?f.idList:[]);return e},_getRowLength:function(){var f=this._getIdList();var e=f.length;return e},_getTableRange:function(){var e=Math.Infinith;return e},_getOffsetIndex:function(){return this._getConditions(a.PARAM_OFFSET)||0},_createHtmlList:function(){var e=[];e.pushOrg=e.push;e.joinOrg=e.join;e._escape=neo.core.escape;e._escapeValue=neo.core.escapeValue;e.push=function(f){this[this.length]=f};e.pushText=function(f){f=this._escape(f);if(DENBUN_MODE_XNEO){f=desknets.escapeSpace(f)}else{f=c.escapeSpace(f)}this[this.length]=f};e.pushValue=function(f){this[this.length]=this._escapeValue(f)};return e},getElKeyboardContainer:function(){var e=this._getElContainer();return e},getCurId:function(){var e=this._getCurRow();var f=(e?e.id:null);return f},getSelectedIdList:function(){var g=this._getIdList();var h=this._getRows();var f=[];for(var e=-1,k;k=g[++e];){var j=h[k];if(j&&j.selected){f.push(k)}}return f},getSelectedCount:function(){var f=this.getSelectedIdList();var e=f.length;return e},close:function(){this._updateResizeTrigger(null)},onresize:function(e){this._initVisibleRange();this._updateFlexibleCols();this._updateTable()},onsuccessLoad:function(g,f,i){var h=c.getAjaxSendParams(f)["_"];var e=this._getLastConnectionKey();if(h!=e){return}var j=this._parse(g);this._update(j)},onerrorLoad:function(f,e,g){},onscroll:function(h,j){var g=new Date();var e=this;var i=function(){e._scroll();e._setLastScrolledTime(g)};var k=10;if(g-this._getLastScrolledTime()>k){i()}else{clearTimeout(this._tmScroll);this._tmScroll=setTimeout(i,k)}},onmousewheel:function(e,g){e.preventDefault();var f=this._getWheelDirection(e);this._scrollNext(f)},onclickGoToPrevPage:function(e,f){e.preventDefault();this._goToPrevPage()},onclickGoToNextPage:function(e,f){e.preventDefault();this._goToNextPage()},onchangeJumpPage:function(f,i){var e=this._getElJumpPage();var h=e.data("lastValue");var g=this._getSelectedJumpPage();if(g==h){return}else{e.data("lastValue",g);this._goToPage(g)}},onmouseoverTitleCell:function(e,f){this._updateResizeTrigger(b(f))},onmousedownRow:function(f,h){if(!!f.ctrlKey){c.setCombinationKey(c.App.Keyboard.KEY_CTRL,true)}else{if(!!f.metaKey){c.setCombinationKey(c.App.Keyboard.KEY_COMMAND,true)}}if(!!f.shiftKey){c.setCombinationKey(c.App.Keyboard.KEY_SHIFT,true)}var e=this;var g=function(i){var j=e._getRowFrom(b(i.target));e._selectForMouseDown(j);e._setLastMouseDownRow(j)};setTimeout(function(){g(f)},1)},onclickRow:function(e,f){var g=this._getRowFrom(b(e.target));if(g){this._selectForClick(g)}},ondblclickRow:function(g,h){var i=this._getRowFrom(b(g.target));if(i){if(DENBUN_MODE_XNEO){var f=this;var e=function(j){f.open(j)};setTimeout(function(){e(i)},1)}else{this.open(i)}}},onselectstartRow:function(e,f){e.preventDefault()},ondragstart:function(f,g,h){if(c.isCtrlPressed()){var i=this._getLastMouseDownRow();this._selectOneRow(i)}var e=this.getSelectedIdList();if(e.length<1){f.preventDefault();b(".ui-draggable-iframeFix").remove();c.$body.css({cursor:""});return}this._updateDraggableHelper(g.helper)},ondragstartResize:function(e,f,g){this._setResizing(true)},ondragstopResize:function(f,g,h){var e=this._getFlgResizingLeft();this._resizeColWidth(e,g.offset);this._setResizing(false)},onchange:function(e){},onenterkey:function(){var e=this._getCurRow();if(e){this.open(e)}},runMethod:c.App.Keyboard.runListMethod,onkeydownKeyboardContainer:c.App.Keyboard.onkeydown,onmousedownKeyboardContainer:c.App.Keyboard.onmousedown,__closure:c.__closure,__bind:c.__bind,banpei:null}});a.constructor()})(jQuery);(function(b){var d=neo.core.readyNamespace("neo.denbun.Dialog");if(!d){return}var c=neo.denbun;var a=neo.denbun.Dialog=new neo.core.Class({classProperties:{CLS_ALERT:"dialog-type-alert",CLS_NOTIFY:"dialog-type-notify",CLS_CONFIRM:"dialog-type-confirm",CLS_PREVENT:"dialog-type-prevent",CLS_BODY:"dialog-body",CLS_TITLE:"dialog-title",CLS_CLOSE:"dialog-close",CLS_OVERLAY:"overlay-dialog",CLS_MSG_WARNING:"warn",constructor:function(){},alert:function(j,e,i,h){var g=a.getAlertSetting(j,e,i,h);var f=new a(g);f.initialize();f.open();return f},getAlertSetting:function(j,e,i,h){if(!e){e={}}var g=b.extend({},e);var k=null;if(DENBUN_MODE_XNEO&&h==true){k=j}else{k=neo.core.escape(j).replace(/(\r\n|\r|\n)/g,"<br />")}var f=null;if(i=="E"||!DENBUN_MODE_XNEO){f=b("<em />").html(k)}else{f=b("<span />").addClass(a.CLS_MSG_WARNING).html(k)}g.content=f;g.title=g.title||c.getText("警告");g.dialogClass=g.dialogClass||a.CLS_ALERT;if(!g.buttons){g.buttons={};g.buttons[c.getText("OK")]=function(){this.ok()}}g.onclose=function(l){if(typeof e.onclose=="function"){e.onclose(this)}l.destroy()};return g},notify:function(h,e){var g=a.getNotifySetting(h,e);var f=new a(g);f.initialize();f.open();return f},getNotifySetting:function(g,e){if(!e){e={}}var f=b.extend({},e);f.content=g;if(DENBUN_MODE_XNEO){f.title=f.title||c.getText("メッセージ")}else{f.title=f.title||c.getText("_確認（お知らせ）")}f.dialogClass=f.dialogClass||a.CLS_NOTIFY;if(!f.buttons){f.buttons={};f.buttons[c.getText("OK")]=function(){this.ok()}}f.onclose=function(h){if(typeof e.onclose=="function"){e.onclose(this)}h.destroy()};return f},confirm:function(i,e,h){var g=a.getConfirmSetting(i,e,h);var f=new a(g);f.initialize();f.open();return f},getConfirmSetting:function(h,e,g){if(!e){e={}}var f=b.extend({},e);f.content=h;if(g){f.content=b("<div />").html(h+'<br /><font color="red">'+g+"</font>")}f.title=f.title||c.getText("確認");f.dialogClass=f.dialogClass||a.CLS_CONFIRM;f.onclose=function(i){if(typeof e.onclose=="function"){e.onclose(this)}i.destroy()};return f},prevent:function(h,e){var g=a.getPreventSetting(h,e);var f=new a(g);f.initialize();f.open();return f},getPreventSetting:function(g,e){if(!e){e={}}var f=b.extend({},e);f.content=g;f.title=f.title||c.getText("お待ちください");f.dialogClass=f.dialogClass||a.CLS_PREVENT;f.buttons={};f.onclose=function(h){if(typeof e.onclose=="function"){e.onclose(this)}h.destroy()};return f},banpei:null},properties:{_built:null,_isBuilt:function(){return this._built},_setBuilt:function(e){return this._built=e},_opened:null,isOpened:function(){return this._opened},_setOpened:function(e){return this._opened=e},_lastKeyboardTarget:null,_getLastKeyboardTarget:function(){return this._lastKeyboardTarget},_setLastKeyboardTarget:function(e){return this._lastKeyboardTarget=e},_funcUpdatePos:null,_getFuncUpdatePos:function(){return this._funcUpdatePos||this._initFuncUpdatePos()},_initFuncUpdatePos:function(){var e=this.__closure(function(){this.updatePos()});return this._funcUpdatePos=e},_funcCallOk:null,_getFuncCallOk:function(){return this._funcCallOk||this._initFuncCallOk()},_initFuncCallOk:function(){var e=this.__closure(function(){this.ok()});return this._funcCallOk=e},_funcCallCancel:null,_getFuncCallCancel:function(){return this._funcCallCancel||this._initFuncCallCancel()},_initFuncCallCancel:function(){var e=this.__closure(function(){this.cancel()});return this._funcCallCancel=e},_elDialog:null,getElDialog:function(){return this._elDialog},_setElDialog:function(e){return this._elDialog=e},_elTitle:null,_getElTitle:function(){return this._elTitle||this._initElTitle()},_initElTitle:function(){var e=this.getElDialog();var f=e.find("."+a.CLS_TITLE);return this._elTitle=f},_elOk:null,_getElOk:function(){return this._elOk||this._initElOk()},_initElOk:function(){var e=this.getElDialog();var f=e.find(".dialog-ok");return this._elOk=f},_elCancel:null,_getElCancel:function(){return this._elCancel||this._initElCancel()},_initElCancel:function(){var e=this.getElDialog();var f=e.find(".dialog-cancel");return this._elCancel=f},_elButtonsContainer:null,_getElButtonsContainer:function(){return this._elButtonsContainer||this._initElButtonsContainer()},_initElButtonsContainer:function(){var e=this.getElDialog();var f=e.find(".dialog-footer");return this._elButtonsContainer=f},_elButtonTemplate:null,_getElButtonTemplate:function(){return this._elButtonTemplate||this._initElButtonTemplate()},_initElButtonTemplate:function(){var e=this.getElDialog();var f=e.find(".dialog-button."+c.CLS_TEMPLATE).remove();return this._elButtonTemplate=f},_elOverlay:null,_getElOverlay:function(){return this._elOverlay||this._initElOverlay()},_initElOverlay:function(){var e=c.getElOverlay().clone().removeAttr("id").addClass(a.CLS_OVERLAY).appendTo("#dialogs-container");return this._elOverlay=e},_elAboveOverlay:null,_getElAboveOverlay:function(){return this._elAboveOverlay},_setElAboveOverlay:function(e){return this._elAboveOverlay=e},setting:null,getContent:function(){return this.setting.content},_getTitle:function(){return this.setting.title},_setTitle:function(e){return this.setting.title=e},__constructor:function(e){this._built=false;this._opened=false;this.setting=e},initialize:function(){},_build:function(){var f=this._buildElement();var h=this._getTitle();this._updateTitle(h);var g=b("#dialogs-container");g.append(f);if(DENBUN_MODE_XNEO){var e={containment:"body",cursor:"move",handle:".dialog-header",iframeFix:true,scroll:false,stop:function(i,j){if(j.position.top<0){f.css({top:0})}if(j.position.left<0){f.css({left:0})}}};f.draggable(e)}},_buildElement:function(){var f=this._buildElDialogFrame();this._setElDialog(f);this._addDialogClass();this._buildContent();this._buildButtons();var g=this.getContent();if(typeof g.show=="function"){g.show();if(g[0].tagName.toLowerCase()=="form"){var e=this;g.submit(function(h){h.preventDefault();e.submit()})}}return f},_buildElDialogFrame:function(){var e=this._getElTemplate();var f;if(b.browser.msie){var h=e[0].outerHTML;var g=b("<div />").appendTo("body");g[0].innerHTML=h;f=g.children()}else{f=e.clone()}f.hide().removeClass(c.CLS_TEMPLATE).removeAttr("id");return f},_getElTemplate:function(){return b("#dialog-template")},_addDialogClass:function(){var e=this.getElDialog();e.addClass(this.setting.dialogClass)},_buildContent:function(){var e=this.getContent();if(b.browser.safari&&typeof e.show=="function"){e.show()}var f=this._getElContentContainer();if(neo.core.isString(e)){var g=neo.core.escape(e).replace(/(\r\n|\r|\n)/g,"<br />");f.html(g)}else{f.append(e);if(!b.browser.safari&&typeof e.show=="function"){e.show()}}},_getElContentContainer:function(){var e=this.getElDialog();var f=e.find("."+a.CLS_BODY);return f},_buildButtons:function(){this._initElButtonTemplate();var e=this.setting.buttons;if(e){this._buildUserButtons(e)}else{}},_buildUserButtons:function(h){var k=this._getElOk();k.remove();var i=this._getElCancel();i.remove();var j=this._getElButtonsContainer();var g=0;for(var e in h){var l=h[e];var f=this._buildElButton(e,l);j.append(f);g++}if(g<1){j.hide()}},_buildElButton:function(g,k){var h=this._getElButtonTemplate();var i=h.clone().removeClass(c.CLS_TEMPLATE);i.text(g);var e=this;var j=function(){return k.apply(e)};i.click(j);return i},_updateTitle:function(f){if(!f){f=""}this._setTitle(f);var e=this._getElTitle();e.text(f)},_getElClose:function(){var e=this.getElDialog();var f=e.find("."+a.CLS_CLOSE);return f},open:function(f){if(this.isOpened()){return}if(!this._isBuilt()){this._setBuilt(true);this._build();if(typeof this.setting.oninit=="function"){this.setting.oninit(this)}}if(f!=false&&typeof this.setting.onbeforeopen=="function"){var e=this.setting.onbeforeopen(this);if(e===false){return}}this._initKeyboardTarget();this._hook();this._showOverlay();this._showDialog();if(f!=false&&typeof this.setting.onopen=="function"){this.setting.onopen(this)}},close:function(){if(DENBUN_MODE_XNEO){b(".ui-draggable-iframeFix").remove();c.$body.css({cursor:""})}if(!this.isOpened()){return}if(typeof this.setting.onclose=="function"){var e=this.setting.onclose(this);if(e===false){return}}this._unhook();this._hideDialog();this._hideOverlay();this._revertKeyboardTarget()},_hook:function(){var e;var f;if(!DENBUN_MODE_XNEO){e=b(window);f=this._getFuncUpdatePos();e.bind("resize",f)}e=this._getElClose();f=this._getFuncCallCancel();e.bind("click",f);e=this._getElOk();f=this._getFuncCallOk();e.bind("click",f);e=this._getElCancel();f=this._getFuncCallCancel();e.bind("click",f)},_unhook:function(){var e;var f;if(!DENBUN_MODE_XNEO){e=b(window);f=this._getFuncUpdatePos();e.unbind("resize",f)}e=this._getElClose();f=this._getFuncCallCancel();e.unbind("click",f);e=this._getElOk();f=this._getFuncCallOk();e.unbind("click",f);e=this._getElCancel();f=this._getFuncCallCancel();e.unbind("click",f)},_showOverlay:function(){var e=this._getElOverlay();c.moveToTop(e);e.show();if(DENBUN_MODE_XNEO){if(c.isIpad()){c.resizeDialogOverlay()}}this._hideAboveOverlay()},_hideOverlay:function(){var e=this._getElOverlay();e.hide();this._showAboveOverlay()},_showAboveOverlay:function(){var e=this._getElAboveOverlay();if(e){e.css({visibility:"visible"})}},_hideAboveOverlay:function(){var e=b("iframe:visible").filter(function(f,h){var g=b(h);return(g.css("visibility")!="hidden")});e.css({visibility:"hidden"});this._setElAboveOverlay(e)},_initKeyboardTarget:function(){var e=c.app.setKeyboardOperableTarget(null);this._setLastKeyboardTarget(e)},_revertKeyboardTarget:function(){var e=this._getLastKeyboardTarget();c.app.setKeyboardOperableTarget(e)},_showDialog:function(){this._adjustSize();this.updatePos();var g=this.getElDialog();c.moveToTop(g);g.fadeIn(10);var f=this._getElButtonsContainer();var e=f.find("button:enabled:first");if(e.length>0){e.focus()}else{var h=b("<button />").css({left:-99999,position:"absolute",top:-99999}).appendTo(c.$body).focus().remove()}this._setOpened(true)},_hideDialog:function(){var e=this.getElDialog();e.hide();this._setOpened(false)},updatePos:function(){var e=this.getElDialog();var g={height:e.outerHeight(),width:e.outerWidth()};var f=c.getClientSize();var h={left:Math.max((f.width-g.width)/2,0),top:Math.max((f.height-g.height)/2,0)};e.css(h)},_adjustSize:function(){if(!c.isIe7()){return}var g=this.getElDialog();g.css({top:-99999}).show();var e=g.find(">*>."+c.CLS_COM_CONTENT_HEADER);var i=g.find(">*>."+c.CLS_COM_CONTENT_BODY);var f=Math.max(e.width(),i.width());var h=(parseInt(e.css("padding-left"))||0)+(parseInt(e.css("padding-right"))||0);e.width(f-h);i.width(f);g.hide()},ok:function(){b('<a href="#">x</a>').css({position:"absolute",top:-99999}).appendTo(c.$body).focus().remove();if(typeof this.setting.onok=="function"){var e=this.setting.onok(this);if(e===false){return}}this.close()},cancel:function(){if(typeof this.setting.oncancel=="function"){var e=this.setting.oncancel(this);if(e===false){return}}this.close()},submit:function(){this.ok()},destroy:function(){var f=this.getElDialog();f.remove();var e=this._getElOverlay();e.remove()},getElButton:function(f){var g=this._getElButtonsContainer();var e=g.find("button");var h=null;e.each(function(j,m){var k=b(m);var l=k.text();if(l==f){h=k;return false}});return h||b("empty")},__closure:c.__closure,__bind:c.__bind,banpei:null}});a.constructor()})(jQuery);(function(b){var d=neo.core.readyNamespace("neo.denbun.SingleInputDialog");if(!d){return}var c=neo.denbun;var a=neo.denbun.SingleInputDialog=new neo.core.Class({superClass:c.Dialog,classProperties:{CLS_CONTAINER:"dialog-type-single_input",constructor:function(){}},properties:{_curSetting:null,_getCurSetting:function(){return this._curSetting},_setCurSetting:function(e){return this._curSetting=e},_funcCallOnSubmit:null,_getFuncCallOnSubmit:function(){return this._funcCallOnSubmit||this._initFuncCallOnSubmit()},_initFuncCallOnSubmit:function(){var e=this.__closure(function(){this.onsubmit.apply(this,arguments)});return this._funcCallOnSubmit=e},_elContent:null,_getElContent:function(){return this._elContent||this._initElContent()},_initElContent:function(){return this._elContent=b("#dlg-single_input")},_elMessage:null,_getElMessage:function(){return this._elMessage||this._initElMessage()},_initElMessage:function(){return this._elMessage=b("#dlg-single_input-message")},_elForm:null,_getElForm:function(){return this._elForm||this._initElForm()},_initElForm:function(){return this._elForm=b("#dlg-single_input-form")},_elValue:null,_getElValue:function(){return this._elValue||this._initElValue()},_initElValue:function(){return this._elValue=b("#dlg-single_input-value")},__constructor:function(){var e=this._getSettingForDialog();this.__call("__constructor",[e])},_getSettingForDialog:function(){var e={content:this._getElContent(),dialogClass:a.CLS_CONTAINER,onbeforeopen:this.__closure(this.onbeforeopen),onopen:this.__closure(this.onopen),onok:this.__closure(this.onok)};return e},open:function(e){if(this.isOpened()){return}this._setCurSetting(e);this.__call("open")},update:function(){var e=this._getCurSetting();this._updateTitle(e.title);this._updateMessage(e.message);this._updateValue(e.value)},_updateMessage:function(f){if(!f){f=""}var e=this._getElMessage();e.text(f)},_updateValue:function(f){if(!f){f=""}var e=this._getElValue();e.val(f)},_hook:function(){var e;var f;this.__call("_hook",arguments);e=this._getElForm();f=this._getFuncCallOnSubmit();e.bind("submit",f)},_unhook:function(){var e;var f;this.__call("_unhook",arguments);e=this._getElForm();f=this._getFuncCallOnSubmit();e.unbind("submit",f)},validate:function(){var g=this._getValue();var e=this._getCurSetting();var h;if(typeof e.validate=="function"){h=e.validate(this,g)||[]}else{h=[];if(g==""){var f=c.getText("入力してください。");h.push(f)}}if(h.length>0){neo.denbun.alert(h.join("\n"));return false}return},_getValue:function(){var e=this._getElValue();var f=e.val();return f},onsubmit:function(e,f){e.preventDefault();this.ok()},onbeforeopen:function(e){e.update()},onopen:function(e){var f=this._getElValue();setTimeout(function(){f.select()},1)},onok:function(f){var e=this.validate();if(e===false){return false}var g=this._getCurSetting();if(typeof g.onok=="function"){var h=this._getValue();return g.onok(this,h)}},__closure:c.__closure,__bind:c.__bind,banpei:null}});a.constructor()})(jQuery);(function(b){var e=neo.core.readyNamespace("neo.denbun.Ajax");if(!e){return}var c=neo.denbun;var d=neo.Ajax;var a=neo.denbun.Ajax=new neo.core.Class({superClass:d,classProperties:{defaults:{url:c.getUrl(c.CGI_EML),dataType:"xml",traditional:true},_connectingCount:null,_elLogo:null,_getElLogo:function(){return this._elLogo||this._initElLogo()},_initElLogo:function(){return this._elLogo=b("#logo")},_notShowedError:null,isNotShowedError:function(){return this._notShowedError},setNotShowedError:function(f){return this._notShowedError=f},__constructor:function(){this._connectingCount=0;this._overwrite()},_overwrite:function(){var f=[];for(var g=0;g<f.length;g++){var h=f[g];neo.core.overwriteMethod(h,NeoDialog,WebdbDialog)}},getInstance:function(f){return NeoDialog.getInstance(f)},setInstance:function(g,f){return NeoDialog.setInstance(g,f)},initialize:function(){this._setDefaults()},_setDefaults:function(){},_docLastResponse:null,_getDocLastResponse:function(){return this._docLastResponse},_setDocLastResponse:function(f){return this._docLastResponse=f},getResuponseText:function(f,h){var g=this._getDocLastResponse();if(!g||g[0]!==f){g=b(f);this._setDocLastResponse(g)}return g.find(h.replace(/\./g,">")).text()},showConnectingIcon:function(){if(this._connectingCount<1){var f=this._getElLogo();f.fadeOut(0)}this._connectingCount++},hideConnectingIcon:function(){this._connectingCount--;if(this._connectingCount<0){this._connectingCount=0}if(this._connectingCount<1){var f=this._getElLogo();f.fadeIn(200)}}},properties:{setting:null,__constructor:function(f){this.setting=f||{}},initialize:function(){this._initSetting()},_initSetting:function(){if(DENBUN_MODE_XNEO){a.defaults.url=c.getUrl(c.CGI_EML)}this.options=b.extend({},a.defaults,this.setting)},sendRequest:function(){var f=this._getAjaxOptions();if(!f){return}try{b.ajax(f)}catch(g){}},_getAjaxOptions:function(){var h=b.extend({},this.options);h.data={};if(typeof this.setting.getSendData=="function"){h.data=this.setting.getSendData()}if(h.data.url){h.url=h.data.url;delete h.data.url}if(!h.type){h.type=this._getHttpType(h.data)}if(DENBUN_MODE_XNEO){var f=c.getCookie("dnzToken");if(f&&f!=""&&!h.data[f]){h.data[f]="1"}if(h.type=="POST"){var i=desknets.createRandomId();if(!!i&&!h.data[i]){h.data[i]=""}}}else{if(h.type=="POST"){var i=neo.core.createRandomId();if(!!i&&!h.data[i]){if(b.type(h.data)==="string"){h.data+=("&"+i)}else{h.data[i]=""}}}}if(h.cache==null){h.cache=false}h.beforeSend=this.__closure(this.beforeAjaxSend);h.success=this.__closure(this.onAjaxSuccess);h.error=this.__closure(this.onAjaxError);if(typeof this.setting.onbeforesend=="function"){var g=this.setting.onbeforesend(h);if(g===false){this.onfinish();return null}}return h},_getErrorMessage:function(k,i){var j;var h="W";if(k.errorno!=null){if(DENBUN_MODE_XNEO){j=(k.errormessage||"");var f=j.indexOf(":",0);if(f>=0&&f<=1){if(j.charAt(0)!="W"){j+=" ["+k.errorno+"]";h="E"}f++;j=j.substring(f)}if(b.isFunction(i.errorconvmsg)){var g=i.errorconvmsg(k);j=g+j}}else{j=(k.errormessage||"");var f=j.indexOf(":",0);if(f>=0&&f<=1){if(j.charAt(0)!="W"){j+=" ["+k.errorno+"]"}f++;j=j.substring(f)}}}else{h="E";switch(k.statusText){case"error":j=neo.Ajax.ajaxMessages.errHttp[k.xhr.status];break;case"parsererror":j=neo.Ajax.ajaxMessages.parsererror;break}if(!j){j=neo.Ajax.ajaxMessages.defaultMessage}}k.type=h;return j},_showError:function(h,g,f){if(a.isNotShowedError()){return}c.alert(h,g,f)},__closure:neo.core.getClosure,beforeAjaxSend:function(){a.showConnectingIcon()},onAjaxSuccess:function(g,i){var h=arguments[arguments.length-1];var f=a.getResuponseText(g,"result.status");if(f==null||f==""){var j={response:g,statusText:"parsererror"};this.onerror(h,j)}else{if(f!="ok"){var j={errorno:a.getResuponseText(g,"result.errorno"),errormessage:a.getResuponseText(g,"result.errormessage"),response:g,statusText:i};if(DENBUN_MODE_XNEO){j.errmsgadd=a.getResuponseText(g,"result.errmsgadd")}this.onerror(h,j)}else{if(typeof this.setting.onsuccess=="function"){this.setting.onsuccess(g,h)}this.onfinish()}}},onAjaxError:function(i,h,g){var f=arguments[arguments.length-1];var j={xhr:i,statusText:h};this.onerror(f,j)},onerror:function(h,j){var i=this._getErrorMessage(j,h);var f=null;if(typeof this.setting.onerror=="function"){f=this.setting.onerror(i,h,j)}this.onfinish();if(f===false){return}var g=j.type;var h={onok:h.afterShowError};this._showError(i,h,g)},onfinish:function(){a.hideConnectingIcon();if(typeof this.setting.onfinish=="function"){var f=this.setting.onfinish()}}}});a.__constructor();b(document).ready(function(){a.initialize()})})(jQuery);neo.denbun.keysearch={_mlistfuncTimer:{},_mlistboSearchExec:{},_mlistSearchKey:{},setUp:function(d,e,b){var a=this;var c=1000;e.keydown(function(f){a._mlistboSearchExec[d]=false;if(f.keyCode==13){f.preventDefault();a.search($(f.target),d,b)}});e.blur(function(f){a.delTimer(d)});e.focus(function(f){if(a._mlistfuncTimer[d]==null){a._mlistfuncTimer[d]=setInterval(function(){if(a._mlistboSearchExec[d]){a._mlistboSearchExec[d]=false;a.search($(f.target),d,b)}else{a._mlistboSearchExec[d]=true}},c)}})},search:function(d,c,a){var b=this;if((b._mlistSearchKey[c]!=undefined&&b._mlistSearchKey[c]!=null&&b._mlistSearchKey[c]!=d.val())||((b._mlistSearchKey[c]==undefined||b._mlistSearchKey[c]==null)&&d.val().length>0)){a()}b._mlistSearchKey[c]=d.val()},delTimer:function(b){var a=this;clearInterval(a._mlistfuncTimer[b]);a._mlistfuncTimer[b]=null},cleanUp:function(b){var a=this;a._mlistSearchKey[b]=null}};