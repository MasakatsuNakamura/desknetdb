/*
 * desknet's NEO
 * https://www.desknets.com/
 * Copyright (C)2012-2016 NEOJAPAN Inc. All Rights Reserved.
 * 本製品は日本国著作権法および国際条約により保護されています。 
 * 本製品の全部または一部を無断で複製したり、無断で複製物を頒 
 * 布すると著作権の侵害となりますのでご注意ください。 
 */
(function(a){desknets.cab={MODULE_API_CABINET:"zrcabinet",CMD_CABINDEX:"cabcmdindex",CMD_CABENTRY:"cabcmdentry",CMD_CABREFER:"cabcmdrefer",CMD_CABDEL:"cabdel",CMD_CABREFSETTAG:"cabcmdsettag",CMD_CABREFATTACH:"cabdispattach",CMD_CABFOLDERLIST:"cabcmdfolderlist",CMD_CABFOLDERLISTCHILD:"cabcmdfolderlistchild",CMD_CABFOLDERENTRY:"cabcmdfolderentry",CMD_CABFOLDERDELETE:"cabcmdfolderdel",CMD_CABSEARCH:"cabcmdsearch",CMD_CABSEARCHSTOP:"cabsearchstop",};a.extend(desknets.cab,{MODULE_CABINET:"zcabinet",PAGE_CABINDEX:"cabindex",PAGE_CABENTRY:"cabentry",PAGE_CABREFER:"cabrefer",CMD_CABDELINDEX:"cabdelindex",CMD_CABCONFDELINDEX:"cabconfdelindex",CMD_CABMOVE:"cabmove",PAGE_CABINDEXOTHER:"cabindexother",CMD_CABINDEXOTHER:"cabcmdindexother",PAGE_CABENTRYOTHER:"cabentryother",CMD_CABENTRYOTHER:"cabcmdentryother",PAGE_CABREFEROTHER:"cabreferother",CMD_CABREFEROTHER:"cabcmdreferother",CMD_CABDELOTHER:"cabdelother",CMD_CABDELINDEXOTHER:"cabdelindexother",CMD_CABCONFDELINDEXOTHER:"cabconfdelindexother",CMD_CABCONNECTAPP:"cabcmdconnectapp",CMD_CABADDATTACH:"cabcmdaddattach",CMD_CABDELATTACH:"cabcmddelattach",CMD_CABFOLDERMOVE:"cabcmdfoldermove",CMD_CABFOLDERMOVEPARENT:"cabcmdfolderpmove",PAGE_CABFOLDERACCESS:"cabfolderaccess",CMD_CABFOLDERACCSAUTH:"cabcmdfolderaccessauth",CMD_CABFOLDERLISTOTHER:"cabcmdfolderlistother",CMD_CABFOLDERLISTCHILDOTHER:"cabcmdfolderlistchildother",CMD_CABENTRYDEFFOLDER:"cabentrydeffolder",PAGE_CABSEARCH:"cabsearch",CMD_CABSEARCHDEL:"cabdelsearch",CMD_CABSEARCHCONFDEL:"cabconfsearchdel",PAGE_CABSEARCHOTHER:"cabsearchother",CMD_CABSEARCHOTHER:"cabcmdsearchother",CMD_CABSEARCHSTOPOTHER:"cabsearchstopother",CMD_CABSEARCHDELOTHER:"cabdelsearchother",CMD_CABSEARCHCONFDELOTHER:"cabconfsearchdelother",PAGE_CABMSETREFER:"cabmsetrefer",PAGE_CABMSETLIST:"cabmsetlist",init:function(){var c=this;var b=a("#jco-pv-funcid").val();desknets.pageframe.setFuncSel(b);a("#cabpsetdeffloder").click(function(d){d.preventDefault();desknets.cab.makeDefFolder()});if(b===desknets.cab.PAGE_CABINDEX){desknets.hashobserver.init(desknets.cab);desknets.cab.subwin.init();desknets.cab.cabindex.init();desknets.cab.subwinuser.init();desknets.tags.item.setUpFuncAfterAjax(c.changeMainContent)}else{if(b===desknets.cab.PAGE_CABINDEXOTHER){desknets.hashobserver.init(desknets.cab);desknets.cab.subwinother.init();desknets.cab.cabindexother.init();desknets.cab.subwinuser.init()}}},isMyPage:function(){if(a("#jcab-user").length>0&&a("#jcab-user").find(".jcab-userid").length>0){return false}return true},getUserId:function(){return a("#jcab-user").find(".jcab-userid").val()},getUserName:function(){return a("#jcab-user").find(".jcab-username").val()},getDispAttachParam:function(d,c){var b=desknets.paramanalyzer.getHashParams();if(neo.isSet(c)&&c!==""){b.userid=c}b.cmd=d;return b},getFolderCmd:function(){var b=this;return{restAPI:b.MODULE_API_CABINET,listCMD:b.CMD_CABFOLDERLIST,listchildCMD:b.CMD_CABFOLDERLISTCHILD,moveparentCMD:b.CMD_CABFOLDERMOVEPARENT,movebetweenCMD:b.CMD_CABFOLDERMOVE}},getFolderOtherCmd:function(){var b=this;return{restAPI:b.MODULE_API_CABINET,listCMD:b.CMD_CABFOLDERLISTOTHER,listchildCMD:b.CMD_CABFOLDERLISTCHILDOTHER,}},editDispFolderList:function(c){var b=desknets.paramanalyzer.getHashParams();if(b.cmd==desknets.cab.PAGE_CABMSETREFER){return desknets.cabset.cabmsetdisp.editDispFolderList(c)}else{return desknets.cab.cabdisp.editDispFolderList(c)}},makeDefFolder:function(){var c={};var b={};c.cmd=desknets.cab.CMD_CABENTRYDEFFOLDER;c.chk="1";b.url=desknets.getUrl(desknets.cab.MODULE_API_CABINET);b.data=c;b.success=function(e,d,f){desknets.cab.setDefFolderDialog()};desknets.ajax.rest(b)},setDefFolderDialog:function(){var b={};b.extraMessage=desknets.Resource.Message.cab_deffoldersubadd;b.extraClass="co-msg-rs co-tleft";var c=desknets.dialog.confirm(desknets.Resource.Message.cab_deffolderadd,function(){desknets.submitform.setDialogDisabled(c);var f={};var e={};var d=true;f.cmd=desknets.cab.CMD_CABENTRYDEFFOLDER;e.url=desknets.getUrl(desknets.cab.MODULE_API_CABINET);e.data=f;e.success=function(i,g,j){if(i.sfolder!=""&&i.sfolder!="0"){d=false;var h={};var m={};var l={};var k={};m.cmd=desknets.cab.CMD_CABFOLDERMOVE;m.folder=i.sfolder;m.id=i.savefolder;m.proc="+";l.cmd=desknets.cab.CMD_CABFOLDERMOVE;l.folder=i.savefolder;l.id=i.webclip;l.proc="-";h["0"]=m;h["1"]=l;k.url=desknets.getUrl(desknets.cab.MODULE_API_CABINET);k.data=desknets.ajax.arrayToMultiCmdData(h);k.success=function(o,n,p){sUrl=desknets.getUrl(desknets.cab.MODULE_CABINET);sUrl=sUrl+"?cmd="+desknets.cab.PAGE_CABINDEX;desknets.execLocation(sUrl)};e.complete=function(o,n,p){desknets.submitform.clearDialogDisabled(c)};desknets.ajax.rest(k)}else{sUrl=desknets.getUrl(desknets.cab.MODULE_CABINET);sUrl=sUrl+"?cmd="+desknets.cab.PAGE_CABINDEX;desknets.execLocation(sUrl)}};e.complete=function(h,g,i){if(d){desknets.submitform.clearDialogDisabled(c)}};desknets.ajax.rest(e);return false},b)},changeMainContent:function(c,d){if(c.data("module")!="cab"){return true}var b=desknets.paramanalyzer.getHashParams();if(!neo.isSet(b.cmd)){b.cmd=""}if(b.cmd==desknets.cab.PAGE_CABREFER||b.cmd==desknets.cab.PAGE_CABENTRY){if(b.id==a.trim(c.data("did"))){a(".co-select-menu-text").html(a(".tag-disp-options:first").find("a:first").html());a('input[name="tagcolor"]').val("0")}}return true}});desknets.page(desknets.cab,"subwin",desknets.PageSubwinSearch,{VALUESTR_CABSRCH_SIZERANGE:"1",VALUESTR_CABSRCH_UPDUNIT:"1",VALUESTR_CABSRCH_SFOLDER:"2",init:function(){var c=this;var b=desknets.paramanalyzer.getHashParams();c.callBase("init");c._setInit();if(b.cmd&&b.cmd==c._getSearchCmd()){c.$_inputArea.find('input[name="srch_key"]').val(b.srch_key);c.$_inputArea.find('input[name="srch_size"]').val(b.srch_size);c.$_inputArea.find('select[name="srch_sizerange"]').val([b.srch_sizerange]);c.$_inputArea.find('input[name="srch_extension"]').val(b.srch_extension);c.$_inputArea.find('input[name="srch_updtime"]').val(b.srch_updtime);c.$_inputArea.find('select[name="srch_updunit"]').val([b.srch_updunit]);if(b.srch_filecontents=="1"){c.$_inputArea.find('select[name="srch_filecontents"]').val(hash.srch_filecontents)}else{c.$_inputArea.find('select[name="srch_filecontents"]').val("0")}}},_setInit:function(){var d=this;var b=desknets.paramanalyzer.getHashParams();var c=a("#jco-pv-funcid").val();if(c==desknets.cab.PAGE_CABINDEX&&b.cmd!=d._getMainCmd()){d.setSubWinSelectFolder(true)}else{d.setSubWinSelectFolder(false)}},_getSearchPrm:function(f){var d=this;var e=d.$_inputArea;var c="";var b=desknets.paramanalyzer.getHashParams();f.row="0";f.srch_key=e.find('input[name="srch_key"]').val();f.srch_size=e.find('input[name="srch_size"]').val();f.srch_sizerange=e.find('select[name="srch_sizerange"]').val();f.srch_extension=e.find('input[name="srch_extension"]').val();f.srch_updtime=e.find('input[name="srch_updtime"]').val();f.srch_updunit=e.find('select[name="srch_updunit"]').val();f.sfolder=e.find('select[name="sfolder"]').val();if(neo.isSet(f.sfolder,{blank:false})){if(b.folder){c=b.folder}else{c=a("#jco-m-list-container").find(".jco-back-page-data").find('input[name="folder"]').val()}}f.folder=c;f.srch_filecontents=e.find('select[name="srch_filecontents"]').val();return f},setSubWinSelectFolder:function(d){var e=this;var f=e.getInputArea();var g=f.find(".jcab-search-sfolder");var c="";var b=desknets.paramanalyzer.getHashParams();if(d){if(!g.attr("disabled")){return}if(!b.cmd||b.cmd==e._getMainCmd()){c="2"}}if(b.cmd==e._getSearchCmd()){c=b.sfolder}g.val(c);g.attr("disabled",!d)},_execClear:function(){var b=this;b.callBase("_execClear");b.$_inputArea.find('select[name="srch_sizerange"]').val(b.VALUESTR_CABSRCH_SIZERANGE);b.$_inputArea.find('select[name="srch_updunit"]').val(b.VALUESTR_CABSRCH_UPDUNIT);var c=b.getInputArea().find(".jcab-search-sfolder");if(!c.attr("disabled")){c.val(b.VALUESTR_CABSRCH_SFOLDER)}b.$_inputArea.find('select[name="srch_filecontents"]').val("0")},_chkInputSearch:function(){var b=this;if(!b._chkInputSearchInvalid()){return false}return b.callBase("_chkInputSearch")},_chkInputSearchRequired:function(){var c=this;var d=c.$_inputArea;var e="";var b=true;var g=0;var h=d.find('select[name="sfolder"]').val();if(h==""){if(d.find('input[name="srch_key"]').val()==""&&d.find('input[name="srch_size"]').val()==""&&d.find('input[name="srch_extension"]').val()==""&&d.find('input[name="srch_updtime"]').val()==""){e=desknets.Resource.Message.com_search_nokey;b=false}}else{var f=desknets.paramanalyzer.getHashParams();if(f.folder){g=f.folder}else{g=c._getInputFolderValue()}if(!neo.isSet(g,{blank:false})){e=desknets.Resource.Message.cab_nofolder_search;b=false}}if(!b){desknets.dialog.alert(e,{type:"warn"});return false}return c.callBase("_chkInputSearchRequired")},_getInputFolderValue:function(){return a("#jco-m-list-container").find(".jco-back-page-data").find('input[name="folder"]').val()},_chkInputSearchInvalid:function(){var c=this;var d=c.$_inputArea;var f="";var e="";var h="";var b="";var g="";g=d.find('input[name="srch_size"]').val();if(neo.isSet(g,{blank:false})){if(g.match(/[^0-9]/)){b="com_invalid_number";h=d.find(".jcab-search-size").find("span").text()+desknets.merrMsgConnect}}if(!neo.isSet(b,{blank:false})){g=d.find('input[name="srch_updtime"]').val();if(neo.isSet(g,{blank:false})){if(g.match(/[^0-9]/)){b="com_invalid_number";h=d.find(".jcab-search-updtime").find("span").text()+desknets.merrMsgConnect}}}if(neo.isSet(b,{blank:false})){f=desknets.tmpl.replaceWordHtml(desknets.Resource.Message[b],"item");e=desknets.getErrConvMsg({fieldid:"1",fieldname:h,msg:f});desknets.dialog.alert(e,{type:"warn"});return false}return true},_chkInputSearchKeyLength:function(){var c=this;var b=true;var e=null;var d="";e=c.$_inputArea.find('input[name="srch_key"]');if(e.val().length>desknets.SRCHKEY_MAXLENGTH){d=desknets.Resource.Message.com_search_keyword_toolarge;desknets.dialog.alert(d,{type:"warn"});return false}e=c.$_inputArea.find('input[name="srch_extension"]');if(e.val().length>63){d=desknets.Resource.Message.com_search_extension_toolarge;desknets.dialog.alert(d,{type:"warn"});return false}return true},_getMainCmd:function(){return desknets.cab.PAGE_CABINDEX},_getSearchCmd:function(){return desknets.cab.PAGE_CABSEARCH}});desknets.page(desknets.cab,"subwinuser",desknets.PageSubwinUserSel,{});desknets.page(desknets.cab,"subwinother",desknets.cab.subwin,{_setInit:function(){var d=this;var b=desknets.paramanalyzer.getHashParams();var c=a("#jco-pv-funcid").val();if(c==desknets.cab.PAGE_CABINDEXOTHER&&b.cmd!=desknets.cab.PAGE_CABINDEXOTHER){d.setSubWinSelectFolder(true)}else{d.setSubWinSelectFolder(false)}},_getSearchPrm:function(c){var b=this;c=b.callBase("_getSearchPrm",c);c.userid=desknets.cab.getUserId();return c},_getMainCmd:function(){return desknets.cab.PAGE_CABINDEXOTHER},_getSearchCmd:function(){return desknets.cab.PAGE_CABSEARCHOTHER}});desknets.page(desknets.cab,"cabattach",desknets.attachSetUp,{_initSetDefPrm:function(){var b=this;b.callBase("_initSetDefPrm");this._objDefPrm.userid=desknets.cab.getUserId()},clearDisableAttach:function(b){b.find(".co-pop-tp-stop-btn").attr("disabled","disabled");if(b.find(".co-pop-tp-file-thumbs>li").length==0){b.find(".co-pop-tp-clear-btn").attr("disabled","disabled")}},_getafterUpload:function(){var b=this;var c=a("#inputfrm");desknets.submitform.clearDisabled(c);b.clearDisableAttach(c);b._$entryAttachList.addClass(desknets._CLSNAME_MODFILES)},_getUploadURL:function(){return desknets.cab.MODULE_API_CABINET},_getUploadCmd:function(){return desknets.cab.CMD_CABADDATTACH},_getDelCmd:function(){return desknets.cab.CMD_CABDELATTACH},_getDownLoadURL:function(){return desknets.cab.MODULE_CABINET},_getDownLoadCmd:function(){return desknets.cab.CMD_CABREFATTACH},_getOptionAdd:function(c){var b=this;c.imgSrcURL=c.downloadURL+"&thumbnail=1";return c},});desknets.page(desknets.cab,"cabfolderlist",desknets.folderlist_access,{_getListAjaxSuccessDefFolder:function(e){var d=this;if(!d.mboDefFolderView){var f=d.$mjListPage.find(".jco-back-page-data");var c=f.find('input[name="folder"]').val();if(!neo.isSet(c,{blank:false})){var b='<a href="#">あああ</a>';desknets.pageframe.viewTopMsg(b,"alert")}}},});desknets.page(desknets.cab,"cabfolderaccess",desknets.folderlist.AccessAuth,{init:function(c){var b=this;b._boAddOnly=true;b.callBase("init",c)},_getRestModule:function(){return desknets.cab.MODULE_API_CABINET},_getRequestAccsAuthCmd:function(){return desknets.cab.CMD_CABFOLDERACCSAUTH}});desknets.page(desknets.cab,"cabfolderdialog_entry",desknets.folderlist.dialog_entry,{init:function(d,c){var b=this;b.mboaccess=true;b.mboaccessset=true;b.callBase("init",d,c)},_getFolderEntryCmd:function(){return desknets.cab.CMD_CABFOLDERENTRY},_getRestModule:function(){return desknets.cab.MODULE_API_CABINET},});desknets.page(desknets.cab,"cabfolderdialog_access",desknets.folderlist.dialog_access_under,{init:function(d,c){var b=this;b.mboUnderDialogChk=true;b.callBase("init",d,c)},_getRequestAccsCmd:function(){return desknets.cab.PAGE_CABFOLDERACCESS},_getAccessConfMsg:function(){return desknets.Resource.Message.cab_folder_accsconf},_initFolderAccessDlg:function(){desknets.cab.cabfolderaccess.init(this._getAjaxFormAccsDlgOption())},_getRestModule:function(){return desknets.cab.MODULE_API_CABINET},});desknets.page(desknets.cab,"cabfolderdialog_delete",desknets.folderlist.dialog_delete,{_getFolderDelCmd:function(){return desknets.cab.CMD_CABFOLDERDELETE},_delConfAddMessage:function(){return desknets.Resource.Message.cab_folder_delconf},_getRestModule:function(){return desknets.cab.MODULE_API_CABINET},});desknets.page(desknets.cab,"cabfolderinput",desknets.folderinput,{});desknets.page(desknets.cab,"cabfolderdisp",desknets.folderdisp,{});desknets.page(desknets.cab,"cabfolderlistother",desknets.folderlist_access,{_getRequestFirstParams:function(){var b=this;var d=b._initfid;var c={cmd:this._getFolderListCmd()};if(d.length>0){c.folder=d}c.userid=desknets.cab.getUserId();return c},_getRequestParams:function(d){var b=this;var c=b.callBase("_getRequestParams",d);c.userid=desknets.cab.getUserId();return c},});desknets.page(desknets.cab,"cabfolderotherinput",desknets.folderinput_access,{_getRequestFirstParams:function(){var b=this;var d=b._initfid;var c={cmd:this._getFolderListCmd()};if(d.length>0){c.folder=d}c.userid=desknets.cab.getUserId();return c},_getRequestParams:function(d){var b=this;var c=b.callBase("_getRequestParams",d);c.userid=desknets.cab.getUserId();return c},});desknets.page(desknets.cab,"cabfolderotherdisp",desknets.folderdisp,{_getRequestFirstParams:function(){var b=this;var d=b._initfid;var c={cmd:this._getFolderListCmd()};if(d.length>0){c.folder=d}c.userid=desknets.cab.getUserId();return c},_getRequestParams:function(d){var b=this;var c=b.callBase("_getRequestParams",d);c.userid=desknets.cab.getUserId();return c},});desknets.page(desknets.cab,"cabindex",desknets.PagePaneListBase,{mboSetwatermark:false,mboDefFolderView:false,initParamsFromHash:function(c){var b=this;b.changeSubWin();a("#jco-m-disp-page").html("");b.callBase("initParamsFromHash",c)},changeSubWin:function(){var c=this;var b=desknets.paramanalyzer.getHashParams();if(!neo.isSet(b.cmd)||b.cmd==c._getListCmd()||(b.cmd==desknets.cab.PAGE_CABSEARCH&&neo.isSet(b.folder,{blank:false}))){desknets.cab.subwin.setSubWinSelectFolder(true)}else{desknets.cab.subwin.setSubWinSelectFolder(false)}},_hashUpdatePageView:function(c){var b=this;if(c==desknets.cab.PAGE_CABSEARCH){desknets.cab.cabsearch.initPage(desknets.cab.PAGE_CABINDEX,"jco-m-list-container");b.mhashBackErrCmd=b.mhashBackCmd;b.mhashIdErrBack=b.mhashIdBack;b.mhashBackCmd=c;b.mhashIdBack="jco-m-search-container"}},initLeftTree:function(){var b=this;desknets.cab.cabfolderlist.init(b.$mjListPage,b._getOptionLeftTree(),b._optTreeGetCmd())},treeUpdateListWidth:function(){desknets.cab.cabfolderlist._updateItemsWidth()},treeUpdateList:function(){desknets.cab.cabfolderlist.updateTreeList()},_optTreeGetCmd:function(){return desknets.cab.getFolderCmd()},_optTreeIsEdit:function(){return true},_optTreeInitFuncDialog:function(d,c){var b=this;desknets.cab.cabfolderdialog_access.init(d,c);desknets.cab.cabfolderdialog_entry.init(d,c);desknets.cab.cabfolderdialog_delete.init(d,c)},_optTreeAddFolderFunc:function(d,c){var b=this;b._setEntryBtn(d);b.callBase("_optTreeAddFolderFunc",d,c);desknets.pageframe.closeTopMsg()},_optTreeResetFunc:function(c){var b=this;b._setEntryBtn(c);b.callBase("_optTreeResetFunc",c);if(!neo.isSet(c)&&b._getListCmd()==desknets.cab.PAGE_CABINDEX){b._viewCabFolderTopMsg()}},_setEntryBtn:function(f){var c=this;var e=false;var d=2;if(!f||f.length==0){e=true}else{var b=f.children("a:first").data("access");if(neo.isSet(b)&&(Number(b)&d)!=d){e=true}}c.$mjListPage.find(".jco-list-add-page").attr("disabled",e)},_optTreeSelectFunc:function(c){var b=this;b._setEntryBtn(c);b.callBase("_optTreeSelectFunc",c);b._chkDefFolder(c)},_chkDefFolder:function(f){var c=this;if(!c.mboDefFolderView){var d=c.$mjListPage.find(".jco-back-page-data");var b=d.find('input[name="folder"]').val();if(f.length==0){if(c.$mjListPage.find(".co-listview-items").find(".co-listview-item").length<=1){var e=desknets.paramanalyzer.getHashParams();if(!neo.isSet(e.cmd)||e.cmd==c._getListCmd()){c._viewCabFolderTopMsg()}}}}c.mboDefFolderView=true},_viewCabFolderTopMsg:function(){var c=this;var b=desknets.Resource.Message.cab_nofolder+'<br /><ul class="cab-nofolder"><li><a href="#" class="jcab-deffolder-y">'+desknets.Resource.Message.cab_nofolder_add+'</a></li><li><a href="#" class="jcab-deffolder-n">'+desknets.Resource.Message.cab_nofolder_addnot+"</a></li></ul>";desknets.pageframe.viewTopMsg(b,"alert",false);a(".jcab-deffolder-y").click(function(d){d.preventDefault();c._makeDefFolder();desknets.pageframe.closeTopMsg()});a(".jcab-deffolder-n").click(function(d){d.preventDefault();a(".jco-litview-item-add").click();desknets.pageframe.closeTopMsg()})},_makeDefFolder:function(){var b=this;desknets.cab.makeDefFolder()},_isAccessCtrl:function(){return false},getInputFieldName:function(){return"folder"},_initListEnd:function(){var c=this;var f=c.$mjListPage.find(".jco-back-page-data");var b=c.getInputFieldName();c.callBase("_initListEnd");var e=c.$mjListPage.find(".co-list-search-text");var d=function(){if(f.find('input[name="'+b+'"]').val()==""){return}var g=c.$mjListPage.find(".jco-back-page-data").find('input[name="srch_key"]');if(!c.chkListSearchKeyLength(e.val())){return}if(g.val()!=desknets.escape(e.val())){g.val(e.val());c.boChangePageNoHide=true;c._listPage("0")}};c.$mjListPage.find(".co-list-search-btn").find("a").click(function(g){g.preventDefault();d()});desknets.keysearch.setUp("cabcmdlist",e,d)},changPage:function(){var b=this;b.callBase("changPage");if(!b.mboSetwatermark){b.mboSetwatermark=true;desknets.watermark.set(b.$mjListPage.find(".co-list-search-text"))}},_getListAjaxSuccess:function(c){var b=this;b.callBase("_getListAjaxSuccess",c);b._getListAjaxSuccessCapacity(c)},_getListAjaxSuccessCapacity:function(d){var b=this;var e=0;var c=0;e=d.capalimit;c=d.totaluse;e=Number(e);if(isNaN(e)){e=0}c=Number(c);if(isNaN(c)){c=0}desknets.capacity.makeHtml(a("#co-capacity"),e,c)},_listLine:function(c,d){var b=this;c=b._listLineLink(c,d);c=b._listLinePrm(c,d);return b.callBase("_listLine",c,d)},_listLineLink:function(c,d){var b=this;c=desknets.tmpl.replaceWordHtml(c,"modlink","jco-modlink");return c},_listLinePrm:function(d,e){var c=this;var b="";var f=desknets.paramanalyzer.getHashParams();if(neo.isSet(f.folder,{blank:false})){b=f.folder}else{if((typeof jsonRestFolder)!="undefined"){if(neo.isSet(jsonRestFolder.folder,{blank:false})){b=jsonRestFolder.folder}}else{b=c.$mjListPage.find(".jco-back-page-data").find('input[name="folder"]').val()}}d=desknets.tmpl.replaceWord(d,"folder",b);return d},_replaceListLine:function(d,i,f){var c=this;var h;if(i==="updtime"){d=desknets.tmpl.replaceWordHtml(d,i,desknets.dateTime.dispDateTime(f.updtime,{type:"list"}))}else{if(i==="size"){d=desknets.tmpl.replaceWordHtml(d,i,desknets.numberFormatByte(parseInt(f.size,10),0,0,2))}else{if(i==="modulename"){var b="";if(f.modulename!=""&&f.modulecmd!=""){var e=f.modulename;var g=f.modulecmd;if(f.modulecmd=="ntwicmddmsg"){e=e+" ("+desknets.Resource.com_share_dm+")";g="ntwi"}else{if(f.modulecmd=="ntwi"){e=e+" ("+desknets.Resource.com_share_ntwi+")"}}b='<span title="'+e+'" class="cab-list-'+g+'">'+e+"</span>"}d=desknets.tmpl.replaceWordHtml(d,i,b)}else{return c.callBase("_replaceListLine",d,i,f)}}}return d},_getListAjaxSuccessEnd:function(){var b=this;var c=desknets.paramanalyzer.getHashParams();b.callBase("_getListAjaxSuccessEnd");desknets.keysearch.fixListWatermark(b.$mjListPage,c)},_getSizeHideWidth:function(){return"600"},inputAddPage:function(d){var b=this;var c=b.$mjListPage.find(".jco-back-page-data");var e=c.find('input[name="folder"]').val();if(!neo.isSet(e,{blank:false})){var f=desknets.Resource.Message.cab_nofolder_addcab;desknets.dialog.alert(f,{type:"warn"});return}else{b.callBase("inputAddPage",d)}},_getSearchParam:function(){var b=this;var e=desknets.paramanalyzer.getHashParams();var d=b.$mjListPage.find(".jco-back-page-data");var c=d.find('input[name="srch_key"]').val();var f={};if(e&&e.srch_key&&e.srch_key.length>0){f.srch_key=e.srch_key}else{if(c!=""){f.srch_key=c}}return f},_getMoveAddPrm:function(){return this._getSearchParam()},_getAddPageParam:function(){var b=this;var c=b.$mjListPage.find(".jco-back-page-data");var d=c.find('input[name="folder"]').val();return{folder:d}},_getModPageParam:function(){return this._getAddPageParam()},_getDispPageParam:function(){return this._getAddPageParam()},_getDelAddPrm:function(){var b=this;var c=b._getSearchParam();a.extend(c,b._getAddPageParam());return c},_getRestModule:function(){return desknets.cab.MODULE_API_CABINET},_getListCmd:function(){return desknets.cab.PAGE_CABINDEX},_getListExecCmd:function(){return desknets.cab.CMD_CABINDEX},_getMoveListCmd:function(){return desknets.cab.CMD_CABMOVE},_getListDispCmd:function(){return desknets.cab.PAGE_CABREFER},_getListAddCmd:function(){return desknets.cab.PAGE_CABENTRY},_getListModCmd:function(){return desknets.cab.PAGE_CABENTRY},_getDelCmd:function(){return desknets.cab.CMD_CABCONFDELINDEX},_getDelExecCmd:function(){return desknets.cab.CMD_CABDELINDEX},_getListEntryClass:function(){return desknets.cab.cabentry},_getListModClass:function(){return desknets.cab.cabentry},_getListDispClass:function(){return desknets.cab.cabdisp},});desknets.page(desknets.cab,"cabindexother",desknets.cab.cabindex,{changeSubWin:function(){var c=this;var b=desknets.paramanalyzer.getHashParams();if(!neo.isSet(b.cmd)||b.cmd==c._getListCmd()||(b.cmd==desknets.cab.PAGE_CABSEARCHOTHER&&neo.isSet(b.folder,{blank:false}))){desknets.cab.subwinother.setSubWinSelectFolder(true)}else{desknets.cab.subwinother.setSubWinSelectFolder(false)}},_hashUpdatePageView:function(c){var b=this;if(c==desknets.cab.PAGE_CABSEARCHOTHER){desknets.cab.cabsearchother.initPage(desknets.cab.PAGE_CABINDEXOTHER,"jco-m-list-container");b.mhashBackErrCmd=b.mhashBackCmd;b.mhashIdErrBack=b.mhashIdBack;b.mhashBackCmd=c;b.mhashIdBack="jco-m-search-container"}},initLeftTree:function(){var b=this;desknets.cab.cabfolderlistother.init(b.$mjListPage,b._getOptionLeftTree(),b._optTreeGetCmd())},treeUpdateListWidth:function(){desknets.cab.cabfolderlistother._updateItemsWidth()},treeUpdateList:function(){desknets.cab.cabfolderlistother.updateTreeList()},_optTreeGetCmd:function(){return desknets.cab.getFolderOtherCmd()},_optTreeIsEdit:function(){return false},_optTreeInitFuncDialog:function(c,b){},_isAccessCtrl:function(){return true},getInputFieldName:function(){return"folder"},init:function(){var b=this;b.callBase("init");b.$mjListPage.find(".co-chk-drag").removeClass("co-chk-drag")},_chkDefFolder:function(b){},_setTitle:function(d){var c=this;var b={};b.username=desknets.cab.getUserName();c.callBase("_setTitle",d,b)},_getFolderTitleClass:function(){return"co-title-size-half"},_initListMain:function(){var c=this;var e=desknets.paramanalyzer.getLocationHash();var d=desknets.paramanalyzer.getHashParams();if((typeof jsonRest)=="undefined"&&(e==""||!neo.isSet(d.cmd))&&(!neo.isSet(c._firstFolder)||c._firstFolder.length==0)){return}var b=c._getListAjaxGetId();c._mobjParams=c.getListParamToObj();e=desknets.paramanalyzer.getLocationHash();if(e!==""&&neo.isSet(d.cmd)){c.funcHashObserver()}else{if((typeof jsonRest)!="undefined"){c._getListAjaxSuccess(jsonRest)}else{c._listPage("0")}}},_isMoveListItems:function(){return false},_listLineLink:function(b,c){return b},_replaceListLine:function(c,f,d){var b=this;var e;if(f==="entry"){e="jco-modlink";if(desknets.pageframe.getLoginUid()!=d.entry){e="jcab-displink"}c=desknets.tmpl.replaceWordHtml(c,"modlink",e)}else{return b.callBase("_replaceListLine",c,f,d)}return c},_getListAjaxSuccessCapacity:function(b){},getListParamToObj:function(){var b=this;var d={};var c="";c=b._getListExecCmd();d=desknets.getInputDataToObj(b.$mjListPage.find(".jco-back-page-data"));d.userid=desknets.cab.getUserId();d.cmd=c;return d},_getDelAddPrm:function(){var b=this;var c={};c=b.callBase("_getDelAddPrm");c.userid=desknets.cab.getUserId();return c},_getListCmd:function(){return desknets.cab.PAGE_CABINDEXOTHER},_getListExecCmd:function(){return desknets.cab.CMD_CABINDEXOTHER},_getListDispCmd:function(){return desknets.cab.PAGE_CABREFEROTHER},_getListAddCmd:function(){return desknets.cab.PAGE_CABENTRYOTHER},_getListModCmd:function(){return desknets.cab.PAGE_CABENTRYOTHER},_getDelCmd:function(){return desknets.cab.CMD_CABCONFDELINDEXOTHER},_getDelExecCmd:function(){return desknets.cab.CMD_CABDELINDEXOTHER},_getListEntryClass:function(){return desknets.cab.cabentryother},_getListModClass:function(){return desknets.cab.cabentryother},_getListDispClass:function(){return desknets.cab.cabdispother}});desknets.page(desknets.cab,"cabentry",desknets.PagePaneInputBase,{mbSearch:false,initLeftTree:function(){var b=this;desknets.cab.cabfolderinput.init(b.$mjPage,b._getOptionLeftTree(),b._optTreeGetCmd())},treeUpdateListWidth:function(){desknets.cab.cabfolderinput._updateItemsWidth()},_optTreeGetCmd:function(){return desknets.cab.getFolderCmd()},_isAccessCtrl:function(){return false},_isMultiSelect:function(){return false},initPage:function(d,c){var b=this;b.mbSearch=true;b.callBase("initPage",d,c)},getMultiRequest:function(){var b=this.callBase("getMultiRequest");var c=desknets.attach.ext.getListParam();if(!!c){c.cmd="cab"+c.cmd;b["1"]=c}return b},_initSet:function(c){var b=this;if(!!c["1"]){desknets.attach.ext.saveList(c["1"])}b._initSetTag();b.callBase("_initSet",c)},_getErrorPlace:function(b){var d=this;if(b=="attach"){var c=desknets.Resource.attachTitle+desknets.merrMsgConnect;return c}else{return d.callBase("_getErrorPlace",b)}},_setAttachArea:function(){var b=this;desknets.cab.cabattach.init(b.$mjPage,false)},_initSetTag:function(){var b=this;desknets.tagDisp.initEntryPageTag(a("#co-entry-tag-options"))},_updatePageListId:function(){var b=this;var f=a("#jco-m-list-container").find(".jco-back-page-data");var e=b.$mjPage.find("#jco-add-folder");var c=b.getInputFieldName();var d=e.find(".co-selitem").eq(0).find('input[name="'+c+'"]').val();f.find('input[name="folder"]').val(d)},changPage:function(){var b=this;b.callBase("changPage");if(b.$mjPage.find("#jco-add-folder").find(".co-selitem").length==0){desknets.pageframe.viewTopMsg(desknets.Resource.Message.com_entry_changeaccess,"alert")}b._setAttachArea();b._setListviewHeight(b.$mjPage)},_inputButton:function(){var b=this;b.$mjPage.find(".jco-input-list-page").click(function(c){c.preventDefault();b.mbSearch=false});b.callBase("_inputButton")},dispBackListPage:function(){var b=this;if(neo.isSet(b.mBackCmd)&&b.mBackCmd==b._getSearchCmd()){var d=a("#jco-m-search-container").find(".jco-back-page-data");if(d.find('input[name="sfolder"]').val()==""){d.find('input[name="folder"]').val("")}}b.getSearchExec();var c=b.callBase("dispBackListPage");return c},getSearchExec:function(){var b=this;if(b.mbSearch===true){if(neo.isSet(b.mBackCmd)&&b.mBackCmd==desknets.cab.PAGE_CABSEARCH){desknets.cab.cabsearch._onSrchExec=true}}},_inputAddSubmit:function(){var b=this;desknets.attach.detachInput();b.callBase("_inputAddSubmit")},_inputModSubmit:function(){var b=this;desknets.attach.detachInput();b.callBase("_inputModSubmit")},_inputAjaxFormOption:function(){var b=this;var c=b.callBase("_inputAjaxFormOption");c.complete=function(f,d,e){desknets.attach.attachInput();desknets.cab.cabattach.clearDisableAttach(b.$mjPage);b._onCompleteForm()};c.success=function(f,d,g){b.getSearchExec();if(!!f.noticeerror){var e=desknets.dialog.alert(f.noticeerror,{extraClass:"co-msg-r",type:"warn"});e.bind("dialogclose",function(h){desknets.dialog.deleteById("warn");b._setLocationHashForm()});return}b._setLocationHashForm()};return c},_getRestModule:function(){return desknets.cab.MODULE_API_CABINET},_getDelExecCmd:function(){return desknets.cab.CMD_CABDEL},_getAddExecCmd:function(){return desknets.cab.CMD_CABENTRY},_getModExecCmd:function(){var b=this;return b._getAddExecCmd()},_getSearchCmd:function(){return desknets.cab.PAGE_CABSEARCH}});desknets.page(desknets.cab,"cabentryother",desknets.cab.cabentry,{initLeftTree:function(){var b=this;desknets.cab.cabfolderotherinput.init(b.$mjPage,b._getOptionLeftTree(),b._optTreeGetCmd())},treeUpdateListWidth:function(){desknets.cab.cabfolderotherinput._updateItemsWidth()},_optTreeGetCmd:function(){return desknets.cab.getFolderOtherCmd()},_isAccessCtrl:function(){return true},_isMultiSelect:function(){return false},_setTitle:function(d){var c=this;var b={};b.username=desknets.cab.getUserName();c.callBase("_setTitle",d,b)},_getAreaTitle:function(b){var c=this;return b.find(".jco-title-other").val()},_initSetTag:function(){},getMultiRequest:function(){var b=this.callBase("getMultiRequest");b["0"]["userid"]=desknets.cab.getUserId();return b},getSearchExec:function(){var b=this;if(b.mbSearch===true){if(neo.isSet(b.mBackCmd)&&b.mBackCmd==desknets.cab.PAGE_CABSEARCHOTHER){desknets.cab.cabsearchother._onSrchExec=true}}},_getDelPrm:function(){var b={};b.userid=desknets.cab.getUserId();return b},_getDelExecCmd:function(){return desknets.cab.CMD_CABDELOTHER},_getAddExecCmd:function(){return desknets.cab.CMD_CABENTRYOTHER},_getModExecCmd:function(){var b=this;return b._getAddExecCmd()},_getSearchCmd:function(){return desknets.cab.PAGE_CABSEARCHOTHER}});desknets.page(desknets.cab,"cabdisp",desknets.PagePaneDispBase,{mbSearch:true,initLeftTree:function(){var b=this;desknets.cab.cabfolderdisp.init(b.$mjPage,b._getOptionLeftTree(),b._optTreeGetCmd());b._treeClass=desknets.cab.cabfolderdisp},treeUpdateListWidth:function(){desknets.cab.cabfolderdisp._updateItemsWidth()},_optTreeGetCmd:function(){return desknets.cab.getFolderCmd()},_optTreeSelectFunc:function(d){var b=this;var c=null;if(b._getDispExecCmd()===desknets.cab.CMD_CABREFER){c=a("#jco-m-list-container").find(".jco-back-page-data")}else{c=a("#jcab-m-list-container").find(".jco-back-page-data")}c.find('input[name="srch_key"]').val("");b.callBase("_optTreeSelectFunc",d)},_isAccessCtrl:function(){return false},getInputFieldName:function(){return"folder"},initPage:function(d,c){var b=this;b.mbSearch=true;b.callBase("initPage",d,c)},getCabUserId:function(){return""},_optTreeSelItemParams:function(){var b=this;if(b.mIdBack=="jco-m-search-container"){return{}}return b.callBase("_optTreeSelItemParams")},getMultiRequest:function(){var b=this;var c={};c=b.callBase("getMultiRequest");var d=desknets.attach.ext.getListParam();if(neo.isSet(d)){d.cmd="cab"+d.cmd;c["2"]=d}return c},_initHtml:function(c){var b=this;if(neo.isSet(c[2])&&c[2]["status"]!=desknets.RES_STATUS_SUCCESS){b.onError(c[2]["errorno"],c[2]["errormessage"])}else{if(neo.isSet(c[0]["webclipwarn"])){var e=desknets.tmpl.replaceWordHtml(desknets.Resource.Message.cab_refersizewarn,"size",c[0]["webclipwarn"]);var d={};d.cancel=function(){c[0]["viewdata"]="";b._initHtmlWebclip(c)};d.extraMessage=desknets.tmpl.replaceWordHtml(desknets.Resource.Message.cab_refersizewarnsub,"CancelButton",desknets.Resource.ConfCancelButtonLabel);var f=desknets.dialog.confirm(e,function(){if(!a.isArray(c[0]["attach"]["item"])){c[0]["attach"]=null}else{c[0]["attach"]["item"].shift()}b._initHtmlWebclip(c)},d)}else{b._initHtmlWebclip(c)}}},_initHtmlWebclip:function(c){var b=this;b.callBase("_initHtml",c)},_initHtmlTmplSet:function(d){var b=this;var c={};if(neo.isSet(d[0])){d[0]["cabattachcmd"]=b._getDispAttachCmd();d[0]["cabattachuserid"]=b.getCabUserId()}if(d[0]["modulename"]!=""&&d[0]["modulecmd"]!=""){if(d[0]["modulecmd"]=="ntwicmddmsg"){d[0]["modulename"]=d[0]["modulename"]+" ("+desknets.Resource.com_share_dm+")"}else{if(d[0]["modulecmd"]=="ntwi"){d[0]["modulename"]=d[0]["modulename"]+" ("+desknets.Resource.com_share_ntwi+")"}}}b.callBase("_initHtmlTmplSet",d);if(neo.isSet(d[2])){c=d[2]}desknets.attachDisp.displistThumb(b.$mjPage.find(".co-pop-tp-drop"),c,true)},_initSet:function(c){var b=this;if(neo.isSet(c[0].attach)){b.$mjPage.find(".cab-pop-tp-file-drop").show()}else{b.$mjPage.find(".cab-pop-tp-file-drop").hide()}b.$mjPage.find(".jco-disp-tmplset-btn").tmpl(c[0]).appendTo("#"+b._getIdPage()+" .co-actionarea");if(neo.isSet(c[0].viewdata,{blank:false})){a("#cab-func-body").html(desknets.cab.cabdisp.dispRegistData(c[0].viewdata))}this.callBase("_initSet",c);this._initSetTag();this._initSetMail()},_initSetTag:function(){var b={};b=desknets.paramanalyzer.getHashParams();b.cmd=desknets.cab.CMD_CABREFSETTAG;desknets.tagDisp.initTagEvent(desknets.cab.MODULE_API_CABINET,b)},_initSetMail:function(){var b=this;var c={};c.connectid=b._getConnectId();c.restmodule=b._getRestModule();c.restcmd=b._getConnectAppCmd();b.$mjPage.find(".jco-connectmail").click(function(d){d.preventDefault();desknets.connectapp.connectMail(c)})},_getConnectId:function(){var c=this;var b=desknets.paramanalyzer.getHashParams();var d=b.id;var e=c.getCabUserId();if(e!=""){d+="_"+e}return d},dispRegistData:function(d){d=desknets.tmpl.replaceWordHtml(d,"modulename",desknets.cab.MODULE_CABINET+"."+desknets.getExtension());var b=a("<div>"+d+"</div>");b.find("script").remove();var c=[,"onblur","onclick","ondblclick","onfocus","onkeydown","onkeypress","onkeyup","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup"];var f=0;var e=c.length;for(f=0;f<e;f++){b.find("["+c[f]+"]").removeAttr(c[f])}return b.html()},_createEventDispPane:function(){var b=this;var c=b.$mjPage;desknets.attachDisp.initDispList(c);c.find(".co-listview").delegate("div.co-pop-tp-meta-switch>a","click",function(){b._setListviewHeight(c)})},_inputButton:function(){var b=this;b.$mjPage.find(".jco-input-list-page").click(function(c){c.preventDefault();b.mbSearch=false});b.callBase("_inputButton")},dispBackListPage:function(){var b=this;if(neo.isSet(b.mBackCmd)&&b.mBackCmd==b._getSearchCmd()){var d=a("#jco-m-search-container").find(".jco-back-page-data");if(d.find('input[name="sfolder"]').val()==""){d.find('input[name="folder"]').val("")}}b.getSearchExec();var c=b.callBase("dispBackListPage");return c},getSearchExec:function(){var b=this;if(b.mbSearch===true){if(neo.isSet(b.mBackCmd)&&b.mBackCmd==desknets.cab.PAGE_CABSEARCH){desknets.cab.cabsearch._onSrchExec=true}}},editDispFolderList:function(c){var b={};var d=a("#jco-m-list-container").find(".jco-back-page-data");b.srch_key="";b.row="0";b.fldsort=d.find('input[name="fldsort"]').val();b.order=d.find('input[name="order"]').val();return desknets.folderdisp.editDispFolderList(c,null,b)},_getRestModule:function(){return desknets.cab.MODULE_API_CABINET},_getDispExecCmd:function(){return desknets.cab.CMD_CABREFER},_getDispModCmd:function(){return desknets.cab.PAGE_CABENTRY},_getDelExecCmd:function(){return desknets.cab.CMD_CABDEL},_getDispAttachCmd:function(){return desknets.cab.CMD_CABREFATTACH},_getSearchCmd:function(){return desknets.cab.PAGE_CABSEARCH},_getConnectAppCmd:function(){return desknets.cab.CMD_CABCONNECTAPP},});desknets.page(desknets.cab,"cabdispother",desknets.cab.cabdisp,{initLeftTree:function(){var b=this;desknets.cab.cabfolderotherdisp.init(b.$mjPage,b._getOptionLeftTree(),b._optTreeGetCmd())},treeUpdateListWidth:function(){desknets.cab.cabfolderotherdisp._updateItemsWidth()},_optTreeGetCmd:function(){return desknets.cab.getFolderOtherCmd()},_optTreeSelItemAdd:function(b){},_isAccessCtrl:function(){return true},getInputFieldName:function(){return"folder"},_setTitle:function(d){var c=this;var b={};b.username=desknets.cab.getUserName();c.callBase("_setTitle",d,b)},_getAreaTitle:function(b){var c=this;return b.find(".jco-title-other").val()},getCabUserId:function(){return desknets.cab.getUserId()},getSearchExec:function(){var b=this;if(b.mbSearch===true){if(neo.isSet(b.mBackCmd)&&b.mBackCmd==desknets.cab.PAGE_CABSEARCHOTHER){desknets.cab.cabsearchother._onSrchExec=true}}},_getDispDataParam:function(){var b;b=desknets.paramanalyzer.getHashParams();b.userid=desknets.cab.getUserId();b.cmd=this._getDispExecCmd();return b},_getDelPrm:function(){var b={};b.userid=desknets.cab.getUserId();return b},_getDispExecCmd:function(){return desknets.cab.CMD_CABREFEROTHER},_getDispModCmd:function(){return desknets.cab.PAGE_CABENTRYOTHER},_getDelExecCmd:function(){return desknets.cab.CMD_CABDELOTHER},_getSearchCmd:function(){return desknets.cab.PAGE_CABSEARCHOTHER},});desknets.page(desknets.cab,"cabsearch",desknets.PageListBatSearchBase,{_dofSortPrm:{},_selFolder:"",_msStartDate:"",_msEndDate:"",_initListEnd:function(){var b=this;b._mobjParams=a.extend({},b.getListParamToObj(),desknets.paramanalyzer.getHashParams());b.callBase("_initListEnd")},_getSearchConditionParams:function(){var b=[];b.push("srch_key");b.push("srch_size");b.push("srch_sizerange");b.push("srch_extension");b.push("srch_updtime");b.push("srch_updunit");b.push("folder");b.push("sfolder");b.push("srch_filecontents");return b},_listLine:function(c,d){var b=this;c=b._listLineLink(c,d);c=b._listLinePrm(c,d);return b.callBase("_listLine",c,d)},_listLineLink:function(c,d){var b=this;c=desknets.tmpl.replaceWordHtml(c,"modlink","jco-modlink");return c},_replaceListLine:function(b,d,c){return desknets.cab.cabindex._replaceListLine(b,d,c)},_getListAjaxSuccessOtherSet:function(c){var b=this;b._msStartDate="";b._msEndDate="";if(c.searchdatefrom!=""){b._msStartDate=c.searchdatefrom.substring(0,8)}if(c.searchdateto!=""){b._msEndDate=c.searchdateto.substring(0,8)}},_getAreaTitle:function(b){var d=this;var e="";var c=d.callBase("_getAreaTitle",b);if(d._msStartDate!=""){e=d._getAreaTitleDate()}c=c+e;return c},_getAreaTitleDate:function(){var b=this;var c="";if(b._msStartDate!=""){c="["+desknets.dateTime.dispDateTime(b._msStartDate,"longYMDFormat")+" "+desknets.Resource.kara+" "+desknets.dateTime.dispDateTime(b._msEndDate,"longYMDFormat")+"]"}return c},_initListStartModLink:function(){var b=this;b.$mjTableList.dnclick(".jco-modlink",function(e){var d=a(this).closest("tr");var c=d.find(".jco-id:first").val();b._selFolder=d.find(".jcab-folder-id").val();b.inputDispPage(c)},function(e){var d=a(this).closest("tr");var c=d.find(".jco-id:first").val();b._selFolder=d.find(".jcab-folder-id").val();b.inputModPage(c)})},_listLinePrm:function(b,c){b=desknets.tmpl.replaceWord(b,"userid","");return b},_getDispPageParam:function(){var b=this;var c={};c.folder=this._selFolder;return c},_getModPageParam:function(){var b=this;var c={};c.folder=this._selFolder;return c},_getRestModule:function(){return desknets.cab.MODULE_API_CABINET},_getListCmd:function(){return desknets.cab.PAGE_CABSEARCH},_getListExecCmd:function(){return desknets.cab.CMD_CABSEARCH},_getStopBatSearchCmd:function(){return desknets.cab.CMD_CABSEARCHSTOP},_getListDispCmd:function(){return desknets.cab.PAGE_CABREFER},_getListAddCmd:function(){return desknets.cab.PAGE_CABENTRY},_getListModCmd:function(){return desknets.cab.PAGE_CABENTRY},_getDelCmd:function(){return desknets.cab.CMD_CABSEARCHCONFDEL},_getDelExecCmd:function(){return desknets.cab.CMD_CABSEARCHDEL}});desknets.page(desknets.cab,"cabsearchother",desknets.cab.cabsearch,{_setTitle:function(d){var c=this;var b={};b.username=desknets.cab.getUserName();c.callBase("_setTitle",d,b)},_getAreaTitle:function(b){var d=this;var e="";var c="";if(d._msStartDate!=""){e=d._getAreaTitleDate()}c=b.find(".jco-title-other").val()+e;return c},_getSearchPageParam:function(){var b=this;var c={};if(!this.boGetHtmlSingle){c=desknets.paramanalyzer.getHashParams()}c.userid=desknets.cab.getUserId();return c},_listLineLink:function(b,c){return b},_replaceListLine:function(c,g,d){var b=this;var f;var e;if(g==="entry"){e="jco-modlink";if(desknets.pageframe.getLoginUid()!=d.entry){e="jcab-displink"}c=desknets.tmpl.replaceWordHtml(c,"modlink",e)}else{return b.callBase("_replaceListLine",c,g,d)}return c},getListParamToObj:function(){var b=this;var c={};c=b.callBase("getListParamToObj");cCmdName=b._getListExecCmd();c.userid=desknets.cab.getUserId();return c},_getDispPageParam:function(){var b=this;var c={};c=b.callBase("_getModPageParam");c.userid=desknets.cab.getUserId();return c},_getModPageParam:function(){var b=this;var c={};c=b.callBase("_getModPageParam");c.userid=desknets.cab.getUserId();return c},_getDelAddPrm:function(){var b=this;var c={};c=b.callBase("_getDelAddPrm");c.userid=desknets.cab.getUserId();return c},_getListCmd:function(){return desknets.cab.PAGE_CABSEARCHOTHER},_getListExecCmd:function(){return desknets.cab.CMD_CABSEARCHOTHER},_getStopBatSearchCmd:function(){return desknets.cab.CMD_CABSEARCHSTOPOTHER},_getListDispCmd:function(){return desknets.cab.PAGE_CABREFEROTHER},_getListAddCmd:function(){return desknets.cab.PAGE_CABENTRYOTHER},_getListModCmd:function(){return desknets.cab.PAGE_CABENTRYOTHER},_getDelCmd:function(){return desknets.cab.CMD_CABSEARCHCONFDELOTHER},_getDelExecCmd:function(){return desknets.cab.CMD_CABSEARCHDELOTHER}});app.addInitialAction(function(){desknets.cab.init()})})(jQuery);