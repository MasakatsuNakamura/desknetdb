/*
 * desknet's NEO
 * https://www.desknets.com/
 * Copyright (C)2012-2016 NEOJAPAN Inc. All Rights Reserved.
 * 本製品は日本国著作権法および国際条約により保護されています。 
 * 本製品の全部または一部を無断で複製したり、無断で複製物を頒 
 * 布すると著作権の侵害となりますのでご注意ください。 
 */
(function(a){(function(b){desknets.agendaset={MODULE_API_AGENDA:"zragenda",PAGE_AGENDAINDEX:"agendaindex",PAGE_AGENDASETADMIN:"agendasetadmin",PAGE_AGENDAPSETLABELLIST:"agendapsetlabellist",PAGE_AGENDAPSETLABELENTRY:"agendapsetlabelentry",CMD_AGENDAPSETLABELENTRY:"agendapsetcmdlabelentry",CMD_AGENDAPSETLABELDEL:"agendapsetcmdlabeldelete",CMD_AGENDAPSETLABELMV:"agendapsetcmdlabelmove",PAGE_AGENDAMSETLIST:"agendamsetindex",CMD_AGENDAMSETLIST:"agendamsetcmdindex",PAGE_AGENDAMSETREFER:"agendamsetrefer",CMD_AGENDAMSETREFER:"agendamsetcmdrefer",CMD_AGENDAMSETDELCONF:"agendamsetdelconf",CMD_AGENDAMSETDELETE:"agendamsetcmddel",CMD_AGENDAMSETDELCONF:"agendamsetcmddelconf",CMD_AGENDAMSETREFERDELETE:"agendamsetcmdreferdel",PAGE_AGENDAMSETSEARCH:"agendamsetsrch",CMD_AGENDAMSETLISTSEARCH:"agendamsetsrchindex",init:function(){var c=b("#jco-pv-funcid").val();desknets.pageframe.setFuncSel(c);desknets.hashobserver.init(desknets.agendaset);if(c=="agendapsetgen"){desknets.agendaset.psetgen.init();desknets.agenda.subwin.init()}else{if(c=="agendapsetlabellist"){desknets.agendaset.agendapsetlabellist.init();desknets.agenda.subwin.init()}else{if(c=="agendasetadmin"){b("#jco-m-sub-title").html(b(".jco-title").val())}else{if(c=="agendasetgen"){desknets.agendaset.setgen.init()}else{if(c=="agendasetmanager"){desknets.agendaset.setmanager.init()}else{if(c=="agendamsetindex"){desknets.agendaset.agendamsetindex.init();desknets.agendaset.subwin.init()}}}}}}}}})(jQuery);desknets.page(desknets.agendaset,"subwin",desknets.agenda.subwin,{_getSearchCmd:function(){return desknets.agendaset.PAGE_AGENDAMSETSEARCH}});(function(b){desknets.page(desknets.agendaset,"psetgen",desknets.PageSet,{_getNextCmd:function(){return desknets.agendaset.PAGE_AGENDAINDEX}})})(jQuery);(function(b){desknets.page(desknets.agendaset,"agendapsetlabellist",desknets.PageInputList,{_getRestModule:function(){return desknets.agendaset.MODULE_API_AGENDA},_getListCmd:function(){return desknets.agendaset.PAGE_AGENDAPSETLABELLIST},_getListExecCmd:function(){return desknets.agendaset.PAGE_AGENDAPSETLABELLIST},_getListAddCmd:function(){return desknets.agendaset.PAGE_AGENDAPSETLABELENTRY},_getListModCmd:function(){return desknets.agendaset.PAGE_AGENDAPSETLABELENTRY},_getDelExecCmd:function(){return desknets.agendaset.CMD_AGENDAPSETLABELDEL},_getMoveExecCmd:function(){return desknets.agendaset.CMD_AGENDAPSETLABELMV},_getListEntryClass:function(){return desknets.agendaset.agendapsetlabelentry},_getListModClass:function(){return desknets.agendaset.agendapsetlabelentry}})})(jQuery);(function(b){desknets.page(desknets.agendaset,"agendapsetlabelentry",desknets.PageInputBase,{_getRestModule:function(){return desknets.agendaset.MODULE_API_AGENDA},_getAddExecCmd:function(){return desknets.agendaset.CMD_AGENDAPSETLABELENTRY},_getModExecCmd:function(){return this._getAddExecCmd()},_getDelExecCmd:function(){return desknets.agendaset.CMD_AGENDAPSETLABELDEL}})})(jQuery);(function(b){desknets.page(desknets.agendaset,"agendamsetindex",desknets.PageListBase,{_initListEndButton:function(){var c=this;var d=b("select[name=cmp]");c.callBase("_initListEndButton");d.bind("change",function(e){c.changeModPage(e.target.value)})},_replaceListLine:function(d,g,e){var c=this;if(g=="sdate"){var f=desknets.dateTime.dispDateTime(e[g],{type:"list"});d=desknets.tmpl.replaceWord(d,g,f);return d}return c.callBase("_replaceListLine",d,g,e)},changeModPage:function(d){var c=this;c.$mjListPage.find(".jco-back-page-data").find('input[name="cmp"]').val(d);var e=desknets.getInputDataToUrl(c.$mjListPage.find(".jco-back-page-data"));e=e+"&cmd="+c._getListCmd();c._setLocationHash(e)},_hashUpdatePageView:function(d){var c=this;var e=desknets.paramanalyzer.getHashParams();if(d==desknets.agendaset.PAGE_AGENDAMSETSEARCH){desknets.agendaset.agendasearch.initPage(desknets.agendaset.PAGE_AGENDAMSETLIST,"jco-m-list-container");c.mhashBackCmd=desknets.agendaset.PAGE_AGENDAMSETSEARCH;c.mhashIdBack="jco-m-search-container"}},_getListAjaxSuccessEnd:function(){var c=this;c.callBase("_getListAjaxSuccessEnd");var d=c.$mjListPage.find(".jco-back-page-data").find("input[name=cmp]").val();if(d!=1&&d!=2){d=0}c.$mjListPage.find('select[name="cmp"]').val(d)},inputModPage:function(d){var c=this;c.inputDispPage(d)},_getRestModule:function(){return desknets.agendaset.MODULE_API_AGENDA},_getListCmd:function(){return desknets.agendaset.PAGE_AGENDAMSETLIST},_getListExecCmd:function(){return desknets.agendaset.CMD_AGENDAMSETLIST},_getListDispCmd:function(){return desknets.agendaset.PAGE_AGENDAMSETREFER},_getDelCmd:function(){return desknets.agendaset.CMD_AGENDAMSETDELCONF},_getDelExecCmd:function(){return desknets.agendaset.CMD_AGENDAMSETDELETE},_getListDispClass:function(){return desknets.agendaset.msetrefer}})})(jQuery);desknets.page(desknets.agendaset,"msetrefer",desknets.agenda.agendarefer,{_getRestModule:function(){return desknets.agenda.MODULE_API_AGENDA},_getDispExecCmd:function(){return desknets.agendaset.CMD_AGENDAMSETREFER},_getDelExecCmd:function(){return desknets.agendaset.CMD_AGENDAMSETREFERDELETE},_getDelCmd:function(){return desknets.agendaset.CMD_AGENDAMSETDELCONF}});desknets.page(desknets.agendaset,"agendasearch",desknets.agenda.agendasearch,{_listMoveScroll:function(){var c=this._getListCmd();var b=desknets.scrollManager.$scrollRoot;desknets.scrollManager.setScrollPosition(c,b,{y:0,delay:10})},_getListCmd:function(){return desknets.agendaset.PAGE_AGENDAMSETSEARCH},_getListExecCmd:function(){return desknets.agendaset.CMD_AGENDAMSETLISTSEARCH},_getListDispCmd:function(){return desknets.agendaset.PAGE_AGENDAMSETREFER},_getListDispClass:function(){return desknets.agendaset.msetrefer},_setLabelOn:function(){}});(function(b){desknets.page(desknets.agendaset,"setgen",desknets.PageSet,{_getNextCmd:function(){return desknets.agendaset.PAGE_AGENDASETADMIN}})})(jQuery);(function(b){desknets.page(desknets.agendaset,"setmanager",desknets.PageAdmin,{_getSetCondition:function(){return true},_getNextCmd:function(){return desknets.agendaset.PAGE_AGENDASETADMIN}})})(jQuery);app.addInitialAction(function(){desknets.agendaset.init()})})(jQuery);