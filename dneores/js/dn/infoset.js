/*
 * desknet's NEO
 * https://www.desknets.com/
 * Copyright (C)2012-2016 NEOJAPAN Inc. All Rights Reserved.
 * 本製品は日本国著作権法および国際条約により保護されています。 
 * 本製品の全部または一部を無断で複製したり、無断で複製物を頒 
 * 布すると著作権の侵害となりますのでご注意ください。 
 */
(function(a){(function(b){desknets.infoset={PAGE_INFOPSETGEN:"infopsetgen",CMD_INFOPSETGEN:"infopsetcmdgen",PAGE_INFOMSETINDEX:"infomsetindex",CMD_INFOMSETINDEX:"infomsetcmdindex",CMD_INFOMSETCATELIST:"infomsetcatelist",CMD_INFOMSETCATELISTC:"infomsetcatelistchild",CMD_INFOMSETDELCONF:"infomsetcmddelconf",CMD_INFOMSETDEL:"infomsetcmddel",PAGE_INFOMSETENTRY:"infomsetentry",CMD_INFOMSETENTRY:"infomsetcmdentry",CMD_INFOMSETENTRYDEL:"infomsetcmdentrydel",PAGE_INFOMSETREFER:"infomsetrefer",CMD_INFOMSETREFER:"infomsetcmdrefer",CMD_INFOMSETCATEENTRY:"infomsetcmdcateentry",CMD_INFOMSETCATEDEL:"infomsetcmdcatedel",CMD_INFOMSETCATEMOVEP:"infomsetcmdcatemvp",CMD_INFOMSETCATEMOVEC:"infomsetcmdcatemvc",CMD_INFOMSETCATEACCHTML:"infomsetcmdcateacchtm",CMD_INFOMSETCATEACCSET:"infomsetcmdcateaccset",CMD_INFOMSETCATEACCSLIST:"infomsetcateaccslist",PAGE_INFOMSETSEARCHINDEX:"infomsetsrchindex",CMD_INFOMSETSEARCHINDEX:"infomsetcmdsrchindex",CMD_INFOMSETSEARCHSTOP:"infomsetcmdsrchstop",CMD_INFOMSETSEARCHDELCONF:"infomsetcmdsrchdelconf",CMD_INFOMSETSEARCHDEL:"infomsetcmdsrchdel",CMD_INFOMSETREFATTACH:"infomsetdispattach",CMD_INFOMSETADDATTACH:"infomsetcmdaddattach",CMD_INFOMSETDELATTACH:"infomsetcmddelattach",CMD_INFOMSETIMAGE:"infomsetimage",PAGE_INFOSETADMIN:"infosetadmin",PAGE_INFOSETGEN:"infosetgen",CMD_INFOSETGEN:"infosetcmdgen",PAGE_INFOSETMANAGER:"infosetmanager",CMD_INFOSETMANAGER:"infosetcmdmanager",VAL_INFO_ENTRY:"entry",VAL_INFO_MAKENAME:"makename",VAL_INFO_ENTRYSTATUS:"2",VAL_INFO_MAKENAMESTATUS:"1",init:function(){var c=b("#jco-pv-funcid").val();desknets.pageframe.setFuncSel(c);if(c==desknets.infoset.PAGE_INFOPSETGEN){desknets.infoset.psubwin.init();desknets.infoset.infopsetgen.init()}else{if(c==desknets.infoset.PAGE_INFOMSETINDEX){desknets.hashobserver.init(desknets.infoset);desknets.infoset.msubwin.init();desknets.infoset.infomsetindex.init()}else{if(c==desknets.infoset.PAGE_INFOSETGEN){desknets.infoset.infosetgen.init()}else{if(c==desknets.infoset.PAGE_INFOSETMANAGER){desknets.infoset.infosetmanager.init()}}}}},getFolderCmd:function(){var c=this;return{restAPI:desknets.info.MODULE_API_INFO,listCMD:c.CMD_INFOMSETCATELIST,listchildCMD:c.CMD_INFOMSETCATELISTC,moveparentCMD:c.CMD_INFOMSETCATEMOVEP,movebetweenCMD:c.CMD_INFOMSETCATEMOVEC}}}})(jQuery);desknets.page(desknets.infoset,"psubwin",desknets.info.subwin,{init:function(){var b=this;b.callBase("init");b.setSubWinSelectFolder(false)},_getMainCmd:function(){return desknets.info.PAGE_INFOINDEX},_getSearchCmd:function(){return desknets.info.PAGE_INFOSEARCHINDEX}});desknets.page(desknets.infoset,"msubwin",desknets.info.subwin,{_getMainCmd:function(){return desknets.infoset.PAGE_INFOMSETINDEX},_getSearchCmd:function(){return desknets.infoset.PAGE_INFOMSETSEARCHINDEX}});desknets.page(desknets.infoset,"msetattach",desknets.info.attach,{_getUploadCmd:function(){return desknets.infoset.CMD_INFOMSETADDATTACH},_getDelCmd:function(){return desknets.infoset.CMD_INFOMSETDELATTACH},_getDownLoadCmd:function(){return desknets.infoset.CMD_INFOMSETREFATTACH}});(function(b){desknets.page(desknets.infoset,"infosetfolderlist",desknets.info.infofolderlist,{_replaceAccMenu:function(){var c=this;c._tmpSetLinkTitle=desknets.tmpl.replaceWordHtml(c._tmpSetLinkTitle,"F_Set",desknets.Resource.folderlist.menuFolderSet);c._tmpMenuAdd=desknets.tmpl.replaceWordHtml(c._tmpMenuAdd,"menu_Add",desknets.Resource.info.menuCategoryAdd);c._tmpMenuMod=desknets.tmpl.replaceWordHtml(c._tmpMenuMod,"menu_Mod",desknets.Resource.info.menuCategoryMod);c._tmpMenuAcc=desknets.tmpl.replaceWordHtml(c._tmpMenuAcc,"menu_Acc",desknets.Resource.info.menuCategoryAcc);c._tmpMenuDel=desknets.tmpl.replaceWordHtml(c._tmpMenuDel,"menu_Del",desknets.Resource.info.menuCategoryDel);c.$_setlink=b(c._tmpSetLink);c.$_setlink.append(c._tmpSetLinkTitle)}})})(jQuery);(function(b){desknets.page(desknets.infoset,"infosetfolderdialog",desknets.folderlist.dialog,{})})(jQuery);(function(b){desknets.page(desknets.infoset,"infosetfolderaccess",desknets.DialogAccess,{_isMSetCmd:function(){return true},_getDefAccess:function(){return 1}})})(jQuery);(function(b){desknets.page(desknets.infoset,"infosetfolderdialog_entry",desknets.folderlist.dialog_entry,{_TMPLDIALOG:"info/info.folder.create.html",_inputFolderUpdate:function(){var c=this;var d=function(){c._openAddFolderAfter(c.$_element)};desknets.infoset.infosetfolderlist.updateTreeList(d)},_getRestModule:function(){return desknets.info.MODULE_API_INFO},_getFolderEntryCmd:function(){return desknets.infoset.CMD_INFOMSETCATEENTRY}})})(jQuery);(function(b){desknets.page(desknets.infoset,"infosetfolderdialog_access",desknets.folderlist.dialog_access_under,{_TMPLACCSCONF:"info/info.folder.accessconf.html",_getRestModule:function(){return desknets.info.MODULE_API_INFO},_getRequestAccsCmd:function(){return desknets.infoset.CMD_INFOMSETCATEACCHTML},_initFolderAccessDlg:function(){desknets.infoset.infosetfolderaccess.init(this._getAjaxFormAccsDlgOption())}})})(jQuery);(function(b){desknets.page(desknets.infoset,"infosetfolderdialog_delete",desknets.folderlist.dialog_delete,{_getRestModule:function(){return desknets.info.MODULE_API_INFO},_getFolderDelCmd:function(){return desknets.infoset.CMD_INFOMSETCATEDEL},_delConfAddMessage:function(){return desknets.Resource.Message.info_folderDelConf}})})(jQuery);(function(b){desknets.page(desknets.infoset,"infomsetfolderinput",desknets.info.infofolderinput,{})})(jQuery);(function(b){desknets.page(desknets.infoset,"infomsetfolderdisp",desknets.info.infofolderdisp,{})})(jQuery);(function(b){desknets.page(desknets.infoset,"infopsetgen",desknets.PageSet,{_getNextCmd:function(){return desknets.info.PAGE_INFOINDEX}})})(jQuery);(function(b){desknets.page(desknets.infoset,"infomsetindex",desknets.info.infoeditindex,{initLeftTree:function(){var c=this;desknets.infoset.infosetfolderlist.init(c.$mjListPage,c._getOptionLeftTree(),c._optTreeGetCmd());c._treeClass=desknets.infoset.infosetfolderlist},treeUpdateListWidth:function(){desknets.infoset.infosetfolderlist._updateItemsWidth()},treeUpdateList:function(){desknets.infoset.infosetfolderlist.updateTreeList()},_optTreeGetCmd:function(){return desknets.infoset.getFolderCmd()},_optTreeIsEdit:function(){return true},_optTreeInitFuncDialog:function(d,c){desknets.infoset.infosetfolderdialog_access.init(d,c);desknets.infoset.infosetfolderdialog_entry.init(d,c);desknets.infoset.infosetfolderdialog_delete.init(d,c)},_isAccessCtrl:function(){return false},_hashUpdatePageView:function(d){var c=this;if(d==desknets.infoset.PAGE_INFOMSETSEARCHINDEX){desknets.infoset.infomsetsearchindex.initPage(desknets.infoset.PAGE_INFOMSETINDEX,"jco-m-list-container");c.mhashBackErrCmd=c.mhashBackCmd;c.mhashIdErrBack=c.mhashIdBack;c.mhashBackCmd=d;c.mhashIdBack="jco-m-search-container"}},_getAreaTitle:function(c){var e=this;var d=e._tmplFolderTitle;d=desknets.tmpl.replaceWordChk(d,"foldername",e._selName);if(neo.isSet(e._selName,{blank:false})){d=" > "+d}return c.find(".jco-title").val()+d},_getSizeHideWidth:function(){return"350"},_getListCmd:function(){return desknets.infoset.PAGE_INFOMSETINDEX},_getListExecCmd:function(){return desknets.infoset.CMD_INFOMSETINDEX},_getListAddCmd:function(){return desknets.infoset.PAGE_INFOMSETENTRY},_getListModCmd:function(){return desknets.infoset.PAGE_INFOMSETENTRY},_getListEntryClass:function(){return desknets.infoset.infomsetentry},_getListModClass:function(){return desknets.infoset.infomsetentry},_getDelCmd:function(){return desknets.infoset.CMD_INFOMSETDELCONF},_getDelExecCmd:function(){return desknets.infoset.CMD_INFOMSETDEL},_getListDispCmd:function(){return desknets.infoset.PAGE_INFOMSETREFER},_getDispExecCmd:function(){return desknets.infoset.CMD_INFOMSETREFER},_getListDispClass:function(){return desknets.infoset.infomsetdisp},_getSubWinSearchCmd:function(){return desknets.infoset.PAGE_INFOMSETSEARCHINDEX},_getSubwinClass:function(){return desknets.infoset.msubwin}})})(jQuery);(function(b){desknets.page(desknets.infoset,"infomsetentry",desknets.info.infoentry,{initLeftTree:function(){var c=this;desknets.infoset.infomsetfolderinput.init(c.$mjPage,c._getOptionLeftTree(),c._optTreeGetCmd())},treeUpdateListWidth:function(){desknets.infoset.infomsetfolderinput._updateItemsWidth()},_optTreeGetCmd:function(){return desknets.infoset.getFolderCmd()},_isAccessCtrl:function(){return false},_setUpDialog:function(){var c=this;desknets.infoset.msetattach.funcToggleTarget=function(){c._setListviewHeight(c.$mjPage);if(c.boautosave){desknets.autosave.attachsave()}};desknets.infoset.msetattach.init(c.$mjPage,true);c.$mjPage.find(".co-ebtnarea").delegate(".jinfo-attach-button","click",function(d){d.preventDefault();desknets.infoset.msetattach.open();if(c.boautosave){desknets.autosave.save();desknets.autosave.restart()}});if(c.boautosave){c.$mjPage.find(".jco-setup-attach-list").on("click",".jco-selfile-button",function(d){desknets.autosave.save();desknets.autosave.restart()})}c.grpselset()},AutoSaveGetAttData:function(d){var c=this;desknets.infoset.msetattach.update(d)},_getAreaTitle:function(c){return c.find(".jco-title").val()},_getAddExecCmd:function(){return desknets.infoset.CMD_INFOMSETENTRY},_getModExecCmd:function(){var c=this;return c._getAddExecCmd()},_getDelExecCmd:function(){return desknets.infoset.CMD_INFOMSETENTRYDEL},_getCategoryAccsCmd:function(){return desknets.infoset.CMD_INFOMSETCATEACCSLIST},_initInputLeftPane:function(){desknets.infoset.infomsetfolderinput.init()},_isMSetCmd:function(){return true},_getImageCmd:function(){return desknets.infoset.CMD_INFOMSETIMAGE}})})(jQuery);(function(b){desknets.page(desknets.infoset,"infomsetdisp",desknets.info.infoeditdisp,{initLeftTree:function(){var c=this;desknets.infoset.infomsetfolderdisp.init(c.$mjPage,c._getOptionLeftTree(),c._optTreeGetCmd());c._treeClass=desknets.infoset.infomsetfolderdisp},treeUpdateListWidth:function(){desknets.infoset.infomsetfolderdisp._updateItemsWidth()},_optTreeGetCmd:function(){return desknets.infoset.getFolderCmd()},_isAccessCtrl:function(){return false},getAttachDownloadParams:function(){var c={};var d=desknets.paramanalyzer.getHashParams();c={cmd:desknets.infoset.CMD_INFOMSETREFATTACH,id:d.id};return c},_getAreaTitle:function(c){return c.find(".jco-title").val()},_getDispExecCmd:function(){return desknets.infoset.CMD_INFOMSETREFER},_getDispModCmd:function(){return desknets.infoset.PAGE_INFOMSETENTRY},_getDelExecCmd:function(){return desknets.infoset.CMD_INFOMSETENTRYDEL},_getDispCopyCmd:function(){return desknets.infoset.PAGE_INFOMSETENTRY},_getImageCmd:function(){return desknets.infoset.CMD_INFOMSETIMAGE}})})(jQuery);desknets.page(desknets.infoset,"infomsetsearchindex",desknets.info.infoeditsearchindex,{_getAreaTitle:function(b){return b.find(".jco-title").val()},_getListCmd:function(){return desknets.infoset.PAGE_INFOMSETSEARCHINDEX},_getListExecCmd:function(){return desknets.infoset.CMD_INFOMSETSEARCHINDEX},_getStopBatSearchCmd:function(){return desknets.infoset.CMD_INFOMSETSEARCHSTOP},_getListDispCmd:function(){return desknets.infoset.PAGE_INFOMSETREFER},_getListAddCmd:function(){return desknets.infoset.PAGE_INFOMSETENTRY},_getListModCmd:function(){return desknets.infoset.PAGE_INFOMSETENTRY},_getDelCmd:function(){return desknets.infoset.CMD_INFOMSETSEARCHDELCONF},_getDelExecCmd:function(){return desknets.infoset.CMD_INFOMSETSEARCHDEL},_getListModClass:function(){return desknets.infoset.infomsetentry},_getListDispClass:function(){return desknets.infoset.infomsetdisp}});(function(b){desknets.page(desknets.infoset,"infosetgen",desknets.PageSet,{_getNextCmd:function(){return desknets.infoset.PAGE_INFOSETADMIN}})})(jQuery);(function(b){desknets.page(desknets.infoset,"infosetmanager",desknets.PageAdmin,{_getNextCmd:function(){return desknets.infoset.PAGE_INFOSETADMIN}})})(jQuery);app.addInitialAction(function(){desknets.infoset.init()})})(jQuery);